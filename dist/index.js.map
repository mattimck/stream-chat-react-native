{"version":3,"file":"index.js","sources":["../src/components/AutoCompleteInput.js","../src/assets/Poweredby_100px-White_VertText.png","../src/styles/theme.js","../src/context.js","../src/components/Avatar.js","../src/components/MentionsItem.js","../src/components/CommandsItem.js","../src/utils/renderText.js","../src/utils/index.js","../src/components/Card.js","../src/components/DateSeparator.js","../src/components/EmptyStateIndicator.js","../src/components/EventIndicator.js","../src/images/PDF.png","../src/images/DOC.png","../src/images/PPT.png","../src/images/XLS.png","../src/images/TAR.png","../src/components/FileIcon.js","../src/components/AttachmentActions.js","../src/images/icons/close-round.png","../src/components/CloseButton.js","../src/components/Gallery.js","../src/components/Attachment.js","../src/components/FileAttachmentGroup.js","../src/images/reload1.png","../src/components/UploadProgressIndicator.js","../src/components/FileUploadPreview.js","../src/components/IconSquare.js","../src/components/ImageUploadPreview.js","../src/components/KeyboardCompatibleView.js","../src/components/LoadingErrorIndicator.js","../src/components/Spinner.js","../src/components/LoadingIndicator.js","../src/components/MessageSimple/MessageAvatar.js","../src/images/reactionlist/left-tail.png","../src/images/reactionlist/left-center.png","../src/images/reactionlist/left-end.png","../src/images/reactionlist/right-tail.png","../src/images/reactionlist/right-center.png","../src/images/reactionlist/right-end.png","../src/components/ReactionList.js","../src/components/ReactionPicker.js","../src/components/MessageSimple/MessageTextContainer.js","../src/images/icons/icon_path.png","../src/components/MessageSimple/MessageReplies.js","../src/components/MessageSimple/MessageContent.js","../src/images/loading.gif","../src/images/icons/delivered_unseen.png","../src/components/MessageSimple/MessageStatus.js","../src/components/MessageSystem.js","../src/components/MessageSimple/index.js","../src/components/Message.js","../src/components/MessageNotification.js","../src/components/SuggestionsProvider.js","../src/native.js","../src/components/Chat.js","../src/components/ChannelInner.js","../src/components/Channel.js","../src/components/TypingIndicator.js","../src/components/MessageList.js","../src/images/icons/icon_edit.png","../src/images/icons/icon_new_message.png","../src/components/SendButton.js","../src/images/icons/plus-outline.png","../src/components/AttachButton.js","../src/images/icons/icon_attach-media.png","../src/images/icons/icon_folder.png","../src/images/icons/icon_close.png","../src/components/MessageInput.js","../src/components/ChannelPreviewMessenger.js","../src/components/ChannelPreview.js","../src/components/ChannelListMessenger.js","../src/components/ChannelList.js","../src/components/Thread.js","../src/components/IconBadge.js","../src/components/ReactionPickerWrapper.js"],"sourcesContent":["import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nconst InputBox = styled.TextInput`\n  max-height: 60px;\n  margin: -5px;\n  flex: 1;\n  ${({ theme }) => theme.messageInput.inputBox.css}\n`;\n\nexport class AutoCompleteInput extends React.PureComponent {\n  static propTypes = {\n    value: PropTypes.string,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    openSuggestions: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    closeSuggestions: PropTypes.func,\n    /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n    updateSuggestions: PropTypes.func,\n    triggerSettings: PropTypes.object,\n    setInputBoxRef: PropTypes.func,\n    /**\n     * @param text string\n     */\n    onChange: PropTypes.func,\n    /**\n     * Additional props for underlying TextInput component. These props will be forwarded as it is to TextInput component.\n     *\n     * @see See https://facebook.github.io/react-native/docs/textinput#reference\n     */\n    additionalTextInputProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    value: '',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: props.value,\n      selectionStart: 0,\n      selectionEnd: 0,\n      currentTrigger: null,\n    };\n\n    this.isTrackingStarted = false;\n    this.previousChar = ' ';\n\n    this._createRegExp();\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log('in component did update: ' + prevProps.value);\n    if (prevProps.value !== this.props.value) {\n      this.setState({ text: this.props.value });\n      this.handleChange(this.props.value, true);\n    }\n  }\n\n  startTracking = () => {\n    this.isTrackingStarted = true;\n    const { component, title } = this.props.triggerSettings[\n      this.state.currentTrigger\n    ];\n    this.props.openSuggestions(title, component);\n    // console.log('start TRACKING');\n  };\n\n  stopTracking = () => {\n    this.isTrackingStarted = false;\n    // console.log('STOP TRACKING');\n    this.props.closeSuggestions();\n  };\n\n  updateSuggestions(q) {\n    const triggers = this.props.triggerSettings;\n    this.props.updateSuggestions({\n      data: triggers[this.state.currentTrigger].dataProvider(\n        q,\n        this.state.text,\n      ),\n      onSelect: this.onSelectSuggestion,\n    });\n  }\n\n  handleChange = (text, fromUpdate = false) => {\n    // console.log('in handle change: ' + text + ' from update: ' + fromUpdate);\n    if (!fromUpdate) {\n      this.props.onChange(text);\n      return;\n    }\n\n    this.handleSuggestions(text);\n  };\n\n  handleSelectionChange = ({\n    nativeEvent: {\n      selection: { start, end },\n    },\n  }) => {\n    // console.log('in handle selection: ', start, end);\n    this.setState({ selectionStart: start, selectionEnd: end });\n  };\n\n  onSelectSuggestion = (item) => {\n    const { text, currentTrigger } = this.state;\n    const { selectionEnd } = this.state;\n    const triggers = this.props.triggerSettings;\n    const newToken = triggers[currentTrigger].output(item);\n    // const { onChange, trigger } = this.props;\n\n    if (!currentTrigger) return;\n\n    const computeCaretPosition = (token, startToken) =>\n      startToken + token.length;\n\n    const textToModify = text.slice(0, selectionEnd);\n\n    const startOfTokenPosition = textToModify.search(\n      /**\n       * It's important to escape the currentTrigger char for chars like [, (,...\n       */\n      new RegExp(\n        `\\\\${currentTrigger}${`[^\\\\${currentTrigger}${\n          triggers[currentTrigger].allowWhitespace ? '' : '\\\\s'\n        }]`}*$`,\n      ),\n    );\n\n    // we add space after emoji is selected if a caret position is next\n    const newTokenString = `${newToken.text} `;\n\n    const newCaretPosition = computeCaretPosition(\n      newTokenString,\n      startOfTokenPosition,\n    );\n    const modifiedText =\n      textToModify.substring(0, startOfTokenPosition) + newTokenString;\n\n    this.stopTracking();\n    this.props.onChange(text.replace(textToModify, modifiedText));\n\n    this.syncCaretPosition(newCaretPosition);\n\n    if (triggers[currentTrigger].callback)\n      triggers[currentTrigger].callback(item);\n  };\n\n  syncCaretPosition = async (position = 0) => {\n    // console.log('syncing carret position: ' + position);\n    await this.setState({ selectionStart: position, selectionEnd: position });\n  };\n\n  _createRegExp = () => {\n    const triggers = this.props.triggerSettings;\n\n    // negative lookahead to match only the trigger + the actual token = \"bladhwd:adawd:word test\" => \":word\"\n    // https://stackoverflow.com/a/8057827/2719917\n    this.tokenRegExp = new RegExp(\n      `([${Object.keys(triggers).join('')}])(?:(?!\\\\1)[^\\\\s])*$`,\n    );\n  };\n\n  handleSuggestions = (text) => {\n    // react native is not consistent in order of execution of onSelectionChange and onTextChange\n    // with android and iOS. onSelectionChange gets executed first on iOS (which is ideal for our scenario)\n    // Although on android, this order is reveresed. So need to add following 0 timeout to make sure that\n    // onSelectionChange is executed first before we proceed with handleSuggestions.\n    setTimeout(async () => {\n      const { selectionEnd: selectionEnd } = this.state;\n      // TODO: Move these const to props\n      const minChar = 0;\n\n      let tokenMatch = this.tokenRegExp.exec(text.slice(0, selectionEnd));\n      // console.log(tokenMatch);\n      let lastToken = tokenMatch && tokenMatch[0];\n      const triggers = this.props.triggerSettings;\n\n      let currentTrigger =\n        (lastToken && Object.keys(triggers).find((a) => a === lastToken[0])) ||\n        null;\n\n      /*\n        if we lost the trigger token or there is no following character we want to close\n        the autocomplete\n      */\n      if (\n        (!lastToken || lastToken.length <= minChar) &&\n        // check if our current trigger disallows whitespace\n        ((this.state.currentTrigger &&\n          !triggers[this.state.currentTrigger].allowWhitespace) ||\n          !this.state.currentTrigger)\n      ) {\n        // console.log('here 1');\n        this.stopTracking();\n        return;\n      }\n\n      /**\n       * This code has to be sync that is the reason why we obtain the currentTrigger\n       * from currentTrigger not this.state.currentTrigger\n       *\n       * Check if the currently typed token has to be afterWhitespace, or not.\n       */\n      if (\n        currentTrigger &&\n        text[tokenMatch.index - 1] &&\n        triggers[currentTrigger].afterWhitespace &&\n        !text[tokenMatch.index - 1].match(/\\s/)\n      ) {\n        // console.log('here 2');\n        this.stopTracking();\n        return;\n      }\n\n      /**\n      If our current trigger allows whitespace\n      get the correct token for DataProvider, so we need to construct new RegExp\n     */\n      if (\n        this.state.currentTrigger &&\n        triggers[this.state.currentTrigger].allowWhitespace\n      ) {\n        tokenMatch = new RegExp(\n          `\\\\${this.state.currentTrigger}[^${this.state.currentTrigger}]*$`,\n        ).exec(text.slice(0, selectionEnd));\n        lastToken = tokenMatch && tokenMatch[0];\n\n        if (!lastToken) {\n          // console.log('here 3');\n          this.stopTracking();\n          return;\n        }\n\n        currentTrigger =\n          Object.keys(triggers).find((a) => a === lastToken[0]) || null;\n      }\n\n      const actualToken = lastToken.slice(1);\n\n      // if trigger is not configured step out from the function, otherwise proceed\n      if (!currentTrigger) {\n        return;\n      }\n\n      await this.setState({ currentTrigger });\n\n      if (!this.isTrackingStarted) this.startTracking();\n      // console.log('from handle suggestions: ' + currentTrigger);\n      this.updateSuggestions(actualToken);\n    });\n  };\n\n  render() {\n    return (\n      <InputBox\n        ref={this.props.setInputBoxRef}\n        placeholder=\"Write your message\"\n        onChangeText={(text) => {\n          this.handleChange(text);\n        }}\n        value={this.state.text}\n        onSelectionChange={this.handleSelectionChange}\n        multiline\n        {...this.props.additionalTextInputProps}\n      />\n    );\n  }\n}\n","const img = require('.//assets/Poweredby_100px-White_VertText.png'); export default img;","import React from 'react';\nimport { ThemeProvider, ThemeConsumer } from '@stream-io/styled-components';\nimport merge from 'lodash/merge';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport mapValues from 'lodash/mapValues';\nimport isPlainObject from 'lodash/isPlainObject';\n\nexport const BASE_FONT_SIZE = 16;\n\nexport const Colors = {\n  primary: '#006cff',\n  secondary: '#111',\n  danger: '#EDD8DD',\n  light: '#EBEBEB',\n  textLight: 'white',\n  textDark: 'rgba(0,0,0,1)',\n  textGrey: 'rgba(0,0,0,0.5)',\n  transparent: 'transparent',\n};\n\nexport const defaultTheme = {\n  colors: {\n    ...Colors,\n  },\n  avatar: {\n    container: {},\n    image: {},\n    text: {},\n    fallback: {},\n  },\n\n  channelPreview: {\n    container: {},\n    details: {},\n    detailsTop: {},\n    title: {},\n    date: {},\n    message: {\n      color: '#767676',\n      unreadColor: '#000',\n      fontWeight: 'normal',\n      unreadFontWeight: 'bold',\n    },\n  },\n\n  closeButton: {\n    container: {},\n  },\n\n  iconBadge: {\n    container: {},\n    icon: {},\n    iconInner: {},\n    unreadCount: {},\n  },\n\n  message: {\n    container: {},\n    content: {\n      container: {\n        borderRadiusL: 16,\n        borderRadiusS: 2,\n      },\n      containerInner: {},\n      metaContainer: {},\n      metaText: {},\n      errorContainer: {\n        backgroundColor: Colors.danger,\n      },\n      deletedContainer: {},\n      deletedText: {},\n      textContainer: {\n        borderRadiusL: 16,\n        borderRadiusS: 2,\n        leftBorderWidth: 0.5,\n        leftBorderColor: 'rgba(0,0,0,0.08)',\n        rightBorderWidth: 0,\n        rightBorderColor: 'transparent',\n      },\n      // Available options for styling text: https://github.com/CharlesMangwa/react-native-simple-markdown/tree/next#styles-1\n      markdown: {},\n    },\n    status: {\n      spacer: {},\n      deliveredContainer: {},\n      deliveredCircle: {},\n      checkMark: {},\n      sendingContainer: {},\n      sendingImage: {},\n      readByContainer: {},\n      readByCount: {},\n    },\n    avatarWrapper: {\n      container: {},\n      spacer: {},\n    },\n    replies: {\n      container: {},\n      messageRepliesText: {},\n      image: {},\n    },\n    file: {\n      container: {},\n      details: {},\n      title: {},\n      size: {},\n    },\n    actions: {\n      container: {},\n      button: {\n        primaryBackgroundColor: Colors.primary,\n        defaultBackgroundColor: 'white',\n        primaryBorderColor: Colors.light,\n        defaultBorderColor: 'transparent',\n      },\n      buttonText: {\n        primaryColor: 'white',\n        defaultColor: 'black',\n      },\n    },\n    card: {\n      container: {},\n      cover: {},\n      footer: {},\n    },\n\n    gallery: {\n      width: 240,\n      size: 120,\n      halfSize: 80,\n      doubleSize: 240,\n\n      single: {},\n      imageContainer: {},\n      galleryContainer: {},\n      header: {\n        container: {},\n        button: {},\n      },\n    },\n    reactionList: {\n      container: {},\n      reactionCount: {},\n    },\n\n    reactionPicker: {\n      container: {},\n      containerView: {},\n      column: {},\n      emoji: {},\n      reactionCount: {},\n      text: {},\n    },\n    actionSheet: {\n      titleContainer: {},\n      titleText: {},\n      buttonContainer: {},\n      buttonText: {},\n      cancelButtonContainer: {},\n      cancelButtonText: {},\n    },\n  },\n  loadingIndicator: {\n    container: {},\n    loadingText: {},\n  },\n  messageInput: {\n    container: {\n      conditionalPadding: 20,\n    },\n    inputBox: {},\n    inputBoxContainer: {},\n    attachButton: {},\n    attachButtonIcon: {},\n    sendButton: {},\n    sendButtonIcon: {},\n    imageUploadPreview: {\n      container: {},\n      itemContainer: {},\n      dismiss: {},\n      dismissImage: {},\n      upload: {},\n    },\n    uploadProgressIndicator: {\n      overlay: {},\n      container: {},\n    },\n\n    suggestions: {\n      wrapper: {},\n      container: {\n        maxHeight: 250,\n        itemHeight: 50,\n      },\n      title: {},\n      separator: {},\n      item: {},\n      mention: {\n        container: {},\n        name: {},\n      },\n      command: {\n        container: {},\n        top: {},\n        title: {},\n      },\n    },\n    actionSheet: {\n      titleContainer: {},\n      titleText: {},\n      buttonContainer: {},\n      buttonText: {},\n    },\n  },\n\n  messageList: {\n    listContainer: {},\n    messageNotification: {\n      container: {},\n      text: {},\n    },\n    errorNotification: {},\n    errorNotificationText: {},\n    dateSeparator: {\n      container: {},\n      line: {},\n      date: {},\n      dateText: {},\n    },\n    messageSystem: {\n      container: {},\n      line: {},\n      text: {},\n      textContainer: {},\n      dateText: {},\n    },\n    eventIndicator: {\n      date: {},\n      memberUpdateContainer: {},\n      memberUpdateTextContainer: {},\n      memberUpdateText: {},\n    },\n    typingIndicatorContainer: {},\n  },\n\n  spinner: {},\n\n  thread: {\n    newThread: {\n      text: {},\n    },\n  },\n\n  typingIndicator: {\n    text: {\n      fontSize: 14,\n      color: Colors.textGrey,\n    },\n  },\n};\n\nexport const themed = (OriginalComponent) => {\n  if (OriginalComponent.themePath == null) {\n    throw Error('Only use themed on components that have a static themePath');\n  }\n  const ThemedComponent = ({ style, ...props }) => (\n    <ThemeConsumer>\n      {(themeProviderTheme) => {\n        if (!style && themeProviderTheme) {\n          return <OriginalComponent {...props} />;\n        }\n        let modifiedTheme = themeProviderTheme || defaultTheme;\n        if (style) {\n          const themeDiff = {};\n          const path = [];\n\n          // replaces\n          // { 'avatar.fallback': 'background-color: red;' }\n          // with\n          // { 'avatar.fallback': { css: 'background-color: red;' } }\n          const replaceCssShorthand = (v) => {\n            if (isPlainObject(v)) {\n              const m = mapValues(v, (v, k) => {\n                path.push(k);\n                return replaceCssShorthand(v);\n              });\n              path.pop();\n              return m;\n            }\n            if (isPlainObject(lodashGet(defaultTheme, path.join('.')))) {\n              path.pop();\n              return { css: v };\n            }\n            path.pop();\n            return v;\n          };\n\n          style = replaceCssShorthand(style);\n          for (const k in style) {\n            if (\n              lodashGet(defaultTheme, OriginalComponent.themePath + '.' + k)\n            ) {\n              merge(\n                themeDiff,\n                lodashSet({}, OriginalComponent.themePath + '.' + k, style[k]),\n              );\n            } else if (lodashGet(defaultTheme, k)) {\n              merge(themeDiff, lodashSet({}, k, style[k]));\n            } else {\n              throw Error(`Unknown theme key ${k}`);\n            }\n          }\n\n          modifiedTheme = merge({}, modifiedTheme, themeDiff);\n        }\n        return (\n          <ThemeProvider theme={modifiedTheme}>\n            <OriginalComponent {...props} />\n          </ThemeProvider>\n        );\n      }}\n    </ThemeConsumer>\n  );\n  ThemedComponent.themePath = OriginalComponent.themePath;\n  ThemedComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ThemedComponent.displayName = `Themed${getDisplayName(OriginalComponent)}`;\n  return ThemedComponent;\n};\n\n// Copied from here:\n// https://reactjs.org/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nexport const originalCSS = {};\n\nexport function setOriginalCSS(path, string) {\n  // remove junk at the start and end of the code snippet\n  string = string\n    .split('`')[1]\n    .split('\\n')\n    .slice(1, -2)\n    .join('\\n');\n  lodashSet(originalCSS, path + '.defaultCSS', string);\n}\n","import React from 'react';\n\nexport const ChatContext = React.createContext({ client: null });\n\nexport function withChatContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChatContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const ChannelContext = React.createContext({});\n\nexport function withChannelContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChannelContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const SuggestionsContext = React.createContext({});\n\nexport function withSuggestionsContext(OriginalComponent) {\n  return getContextAwareComponent(SuggestionsContext, OriginalComponent);\n}\n\nexport const MessageContentContext = React.createContext({});\n\nexport function withMessageContentContext(OriginalComponent) {\n  return getContextAwareComponent(MessageContentContext, OriginalComponent);\n}\n\nexport const KeyboardContext = React.createContext({});\n\nexport function withKeyboardContext(OriginalComponent) {\n  return getContextAwareComponent(KeyboardContext, OriginalComponent);\n}\n\nconst getContextAwareComponent = function(context, originalComponent) {\n  const Context = context;\n  const OriginalComponent = originalComponent;\n  const ContextAwareComponent = function(props) {\n    return (\n      <Context.Consumer>\n        {(c) => <OriginalComponent {...c} {...props} />}\n      </Context.Consumer>\n    );\n  };\n\n  ContextAwareComponent.themePath = OriginalComponent.themePath;\n  ContextAwareComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst BASE_AVATAR_FALLBACK_TEXT_SIZE = 14;\nconst BASE_AVATAR_SIZE = 32;\n\nconst AvatarContainer = styled.View`\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.avatar.container.css}\n`;\n\nconst AvatarImage = styled.Image`\n  border-radius: ${({ size }) => size / 2};\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  ${({ theme }) => theme.avatar.image.css}\n`;\n\nconst AvatarFallback = styled.View`\n  border-radius: ${({ size }) => size / 2};\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  background-color: ${({ theme }) => theme.colors.primary};\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.avatar.fallback.css}\n`;\n\nconst AvatarText = styled.Text`\n  color: ${({ theme }) => theme.colors.textLight};\n  text-transform: uppercase;\n  font-size: ${({ fontSize }) => fontSize};\n  font-weight: bold;\n  ${({ theme }) => theme.avatar.text.css}\n`;\n\n/**\n * Avatar - A round avatar image with fallback to user's initials\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\nexport const Avatar = themed(\n  class Avatar extends React.PureComponent {\n    static themePath = 'avatar';\n    static propTypes = {\n      /** image url */\n      image: PropTypes.string,\n      /** name of the picture, used for title tag fallback */\n      name: PropTypes.string,\n      /** size in pixels */\n      size: PropTypes.number,\n      /** Style overrides */\n      style: PropTypes.object,\n    };\n\n    static defaultProps = {\n      size: 32,\n    };\n\n    state = {\n      imageError: false,\n    };\n\n    setError = () => {\n      this.setState({\n        imageError: true,\n      });\n    };\n\n    getInitials = (name) =>\n      name\n        ? name\n            .split(' ')\n            .slice(0, 2)\n            .map((name) => name.charAt(0))\n        : null;\n\n    render() {\n      const { size, name, image } = this.props;\n      const initials = this.getInitials(name);\n      const fontSize =\n        BASE_AVATAR_FALLBACK_TEXT_SIZE * (size / BASE_AVATAR_SIZE);\n\n      return (\n        <AvatarContainer>\n          {image && !this.state.imageError ? (\n            <AvatarImage\n              size={size}\n              source={{ uri: image }}\n              accessibilityLabel=\"initials\"\n              resizeMethod=\"resize\"\n              onError={this.setError}\n            />\n          ) : (\n            <AvatarFallback size={size}>\n              <AvatarText fontSize={fontSize}>{initials}</AvatarText>\n            </AvatarFallback>\n          )}\n        </AvatarContainer>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.View`\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.suggestions.mention.container.css}\n`;\n\nconst Name = styled.Text`\n  padding: 10px;\n  color: black;\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.suggestions.mention.name.css}\n`;\n\nexport const MentionsItem = themed(\n  class MentionsItem extends React.Component {\n    static themePath = 'messageInput.suggestions.mention';\n    render() {\n      const {\n        item: { name, icon, id },\n      } = this.props;\n      return (\n        <Container>\n          <Avatar image={icon} />\n          <Name>{name || id}</Name>\n        </Container>\n      );\n    }\n  },\n);\n\nMentionsItem.propTypes = {\n  name: PropTypes.string,\n  icon: PropTypes.string,\n  id: PropTypes.string,\n};\n","import React from 'react';\nimport { Text } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.View`\n  flex-direction: column;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.suggestions.command.container.css}\n`;\n\nconst Top = styled.View`\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.messageInput.suggestions.command.top.css}\n`;\n\nconst Title = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.suggestions.command.title.css}\n`;\n\n/**\n * @example ./docs/CommandsItem.md\n * @extends PureComponent\n */\nexport const CommandsItem = themed(\n  class CommandsItem extends React.Component {\n    static themePath = 'messageInput.suggestions.command';\n    static propTypes = {\n      name: PropTypes.string,\n      args: PropTypes.string,\n      description: PropTypes.string,\n    };\n\n    render() {\n      const {\n        item: { name, args, description },\n      } = this.props;\n\n      return (\n        <Container>\n          <Top>\n            <Title>/{name} </Title>\n            <Text>{args}</Text>\n          </Top>\n          <Text>{description}</Text>\n        </Container>\n      );\n    }\n  },\n);\n","import Markdown from '@stream-io/react-native-simple-markdown';\nimport { truncate } from 'lodash-es';\nimport anchorme from 'anchorme';\nimport React from 'react';\n\nexport const renderText = (message, styles) => {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  let { text } = message;\n  const { mentioned_users = [] } = message;\n\n  if (!text) {\n    return;\n  }\n  text = text.trim();\n  const urls = anchorme(text, {\n    list: true,\n  });\n  for (const urlInfo of urls) {\n    const displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n      length: 20,\n      omission: '...',\n    });\n    const mkdown = `[${displayLink}](${urlInfo.protocol}${urlInfo.encoded})`;\n    text = text.replace(urlInfo.raw, mkdown);\n  }\n  let newText = text;\n  if (mentioned_users.length) {\n    for (let i = 0; i < mentioned_users.length; i++) {\n      const username = mentioned_users[i].name || mentioned_users[i].id;\n      const mkdown = `**@${username}**`;\n      const re = new RegExp(`@${username}`, 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  newText = newText.replace(/[<&\"'>]/g, '\\\\$&');\n  const markdownStyles = {\n    ...defaultMarkdownStyles,\n    ...styles,\n  };\n\n  return <Markdown styles={markdownStyles}>{newText}</Markdown>;\n};\n\nconst defaultMarkdownStyles = {\n  link: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n  url: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n};\n","import { MentionsItem } from '../components/MentionsItem';\nimport { CommandsItem } from '../components/CommandsItem';\n\nexport { renderText } from './renderText';\n\nexport const emojiData = [\n  {\n    id: 'like',\n    icon: '👍',\n  },\n  {\n    id: 'love',\n    icon: '❤️️',\n  },\n  {\n    id: 'haha',\n    icon: '😂',\n  },\n  {\n    id: 'wow',\n    icon: '😮',\n  },\n  {\n    id: 'sad',\n    icon: '😔',\n  },\n  {\n    id: 'angry',\n    icon: '😠',\n  },\n];\n\nexport const capitalize = (s) => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nexport const FileState = Object.freeze({\n  NO_FILE: 'no_file',\n  UPLOADING: 'uploading',\n  UPLOADED: 'uploaded',\n  UPLOAD_FAILED: 'upload_failed',\n});\n\nexport const ProgressIndicatorTypes = Object.freeze({\n  IN_PROGRESS: 'in_progress',\n  RETRY: 'retry',\n});\n\n// ACI = AutoCompleteInput\nexport const ACITriggerSettings = ({\n  users,\n  onMentionSelectItem,\n  commands,\n}) => ({\n  '@': {\n    dataProvider: (q) => {\n      const matchingUsers = users.filter((user) => {\n        if (!q) return true;\n        if (\n          user.name !== undefined &&\n          user.name.toLowerCase().indexOf(q.toLowerCase()) !== -1\n        ) {\n          return true;\n        } else if (user.id.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n      return matchingUsers.slice(0, 10);\n    },\n    component: MentionsItem,\n    title: 'Searching for people',\n    output: (entity) => ({\n      key: entity.id,\n      text: `@${entity.name || entity.id}`,\n      caretPosition: 'next',\n    }),\n    callback: (item) => {\n      onMentionSelectItem(item);\n    },\n  },\n  '/': {\n    dataProvider: (q, text) => {\n      if (text.indexOf('/') !== 0) {\n        return [];\n      }\n\n      const selectedCommands = commands.filter((c) => c.name.indexOf(q) !== -1);\n\n      // sort alphabetically unless the you're matching the first char\n      selectedCommands.sort((a, b) => {\n        let nameA = a.name.toLowerCase();\n        let nameB = b.name.toLowerCase();\n        if (nameA.indexOf(q) === 0) {\n          nameA = `0${nameA}`;\n        }\n        if (nameB.indexOf(q) === 0) {\n          nameB = `0${nameB}`;\n        }\n        if (nameA < nameB) {\n          return -1;\n        }\n        if (nameA > nameB) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      return selectedCommands.slice(0, 10);\n    },\n    title: 'Commands',\n    component: CommandsItem,\n    output: (entity) => ({\n      key: entity.id,\n      text: `/${entity.name}`,\n      caretPosition: 'next',\n    }),\n  },\n});\n\nexport const MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  reactions: 'reactions',\n  reply: 'reply',\n};\n\nexport const makeImageCompatibleUrl = (url) => {\n  if (!url) return url;\n\n  let newUrl = url;\n  if (url.indexOf('//') === 0) newUrl = 'https:' + url;\n\n  return newUrl;\n};\n","import React from 'react';\nimport { Image, Text, View, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport giphyLogo from '../assets/Poweredby_100px-White_VertText.png';\nimport { themed } from '../styles/theme';\nimport { withMessageContentContext } from '../context';\n\nimport styled from '@stream-io/styled-components';\nimport { makeImageCompatibleUrl } from '../utils';\n\nconst Container = styled.TouchableOpacity`\n  border-top-left-radius: 16;\n  border-top-right-radius: 16;\n  overflow: hidden;\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  background-color: ${({ theme }) => theme.colors.light};\n  width: 250;\n  ${({ theme }) => theme.message.card.container.css}\n`;\n\nconst Footer = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n  ${({ theme }) => theme.message.card.footer.css}\n`;\n\nconst Cover = styled.Image`\n  display: flex;\n  height: 150;\n  ${({ theme }) => theme.message.card.cover.css}\n`;\n\n/**\n * UI component for card in attachments.\n *\n * @example ./docs/Card.md\n * @extends PureComponent\n */\nexport const Card = withMessageContentContext(\n  themed(\n    class Card extends React.Component {\n      static themePath = 'card';\n      static propTypes = {\n        /** Title retured by the OG scraper */\n        title: PropTypes.string,\n        /** Link retured by the OG scraper */\n        title_link: PropTypes.string,\n        /** The scraped url, used as a fallback if the OG-data doesnt include a link */\n        og_scrape_url: PropTypes.string,\n        /** The url of the full sized image */\n        image_url: PropTypes.string,\n        /** The url for thumbnail sized image*/\n        thumb_url: PropTypes.string,\n        /** Description retured by the OG scraper */\n        text: PropTypes.string,\n        type: PropTypes.string,\n        alignment: PropTypes.string,\n        onLongPress: PropTypes.func,\n      };\n\n      constructor(props) {\n        super(props);\n      }\n\n      trimUrl = (url) => {\n        let trimmedUrl;\n        if (url !== undefined && url !== null) {\n          trimmedUrl = url\n            .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n            .split('/')[0];\n        }\n        return trimmedUrl;\n      };\n\n      _goToURL = (url) => {\n        Linking.canOpenURL(url).then((supported) => {\n          if (supported) {\n            Linking.openURL(url);\n          } else {\n            console.log(\"Don't know how to open URI: \" + url);\n          }\n        });\n      };\n\n      render() {\n        const {\n          image_url,\n          thumb_url,\n          title,\n          text,\n          title_link,\n          og_scrape_url,\n          type,\n          alignment,\n          onLongPress,\n        } = this.props;\n        return (\n          <Container\n            onPress={() => {\n              this._goToURL(og_scrape_url || image_url || thumb_url);\n            }}\n            onLongPress={onLongPress}\n            alignment={alignment}\n          >\n            <Cover\n              source={{ uri: makeImageCompatibleUrl(image_url || thumb_url) }}\n              resizMode=\"cover\"\n            />\n            <Footer>\n              <View\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  backgroundColor: 'transperant',\n                }}\n              >\n                {title && <Text>{title}</Text>}\n                {text && <Text>{text}</Text>}\n                <Text>{this.trimUrl(title_link || og_scrape_url)}</Text>\n              </View>\n              {type === 'giphy' && <Image source={giphyLogo} />}\n            </Footer>\n          </Container>\n        );\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport Moment from 'moment';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20;\n  margin-bottom: 20;\n  ${({ theme }) => theme.messageList.dateSeparator.container.css}\n`;\n\nconst Line = styled.View`\n  flex: 1;\n  height: 0.5;\n  background-color: ${({ theme }) => theme.colors.light};\n  ${({ theme }) => theme.messageList.dateSeparator.line.css}\n`;\n\nconst DateText = styled.Text`\n  margin-left: 5;\n  margin-right: 5;\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 10;\n  opacity: 0.8;\n  ${({ theme }) => theme.messageList.dateSeparator.dateText.css}\n`;\n\nconst Date = styled.Text`\n  font-weight: 700;\n  font-size: 10;\n  text-transform: uppercase;\n  opacity: 0.8;\n  ${({ theme }) => theme.messageList.dateSeparator.date.css}\n`;\n\n/**\n * @extends PureComponent\n * @example ./docs/DateSeparator.md\n */\n\nexport const DateSeparator = themed(\n  class DateSeparator extends React.PureComponent {\n    static propTypes = {\n      message: PropTypes.object.isRequired,\n      /**\n       * Formatter function for date object.\n       *\n       * @param date Date object of message\n       * @returns string\n       */\n      formatDate: PropTypes.func,\n    };\n\n    static themePath = 'messageList.dateSeparator';\n\n    render() {\n      const { message, formatDate } = this.props;\n\n      return (\n        <Container>\n          <Line />\n          <DateText>\n            {formatDate ? (\n              formatDate(message.date)\n            ) : (\n              <React.Fragment>\n                <Date>{Moment(message.date).format('dddd')}</Date> at{' '}\n                {Moment(message.date).format('hh:mm A')}\n              </React.Fragment>\n            )}\n          </DateText>\n          <Line />\n        </Container>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const EmptyStateIndicator = ({ listType }) => {\n  let Indicator;\n  switch (listType) {\n    case 'channel':\n      Indicator = <Text>You have no channels currently</Text>;\n      break;\n    case 'message':\n      Indicator = null;\n      break;\n    default:\n      Indicator = <Text>No itens exist</Text>;\n      break;\n  }\n\n  return Indicator;\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport Moment from 'moment';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\n\nconst Date = styled.Text`\n  font-size: 10;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.eventIndicator.date.css}\n`;\n\nconst MemberUpdateContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  ${({ theme }) => theme.messageList.eventIndicator.memberUpdateContainer.css}\n`;\n\nconst MemberUpdateTextContainer = styled.View`\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n  ${({ theme }) =>\n    theme.messageList.eventIndicator.memberUpdateTextContainer.css}\n`;\n\nconst MemberUpdateText = styled.Text`\n  font-size: 13px;\n  font-style: italic;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.eventIndicator.memberUpdateText.css}\n`;\n\n/**\n * A component to display a message regarding channel notifications such as\n * 'member.added', 'member.removed' etc.\n */\nconst EventIndicator = ({ event }) => {\n  if (event.type === 'member.added' || event.type === 'member.removed') {\n    return (\n      <MemberUpdateContainer>\n        <Avatar name={event.user.name} image={event.user.image} />\n        <MemberUpdateTextContainer>\n          <MemberUpdateText>\n            {event.user.name}\n            {event.type === 'member.added'\n              ? ' joined the chat'\n              : ' was removed from the chat'}\n          </MemberUpdateText>\n          <Date>{Moment(event.received_at).format('hh:mm A')}</Date>\n        </MemberUpdateTextContainer>\n      </MemberUpdateContainer>\n    );\n  }\n\n  return null;\n};\n\nEventIndicator.propTypes = {\n  event: PropTypes.object,\n};\n\nexport { EventIndicator };\n","const img = require('.//images/PDF.png'); export default img;","const img = require('.//images/DOC.png'); export default img;","const img = require('.//images/PPT.png'); export default img;","const img = require('.//images/XLS.png'); export default img;","const img = require('.//images/TAR.png'); export default img;","import * as React from 'react';\nimport { Image } from 'react-native';\n\nimport iconPDF from '../images/PDF.png';\nimport iconDOC from '../images/DOC.png';\nimport iconPPT from '../images/PPT.png';\nimport iconXLS from '../images/XLS.png';\nimport iconTAR from '../images/TAR.png';\n\n// Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nconst wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nconst codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n\nconst mimeTypeToIconMap = {\n  'application/pdf': iconPDF,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = iconXLS;\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = iconPPT;\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = iconTAR;\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) {\n    return iconDOC;\n  }\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) {\n    return icon;\n  }\n\n  return iconDOC;\n}\n\nexport class FileIcon extends React.Component {\n  render() {\n    const { mimeType, size } = this.props;\n    return (\n      <Image\n        source={mimeTypeToIcon(mimeType)}\n        style={{ height: size, width: size }}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TouchableOpacity } from 'react-native';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport registerCSS from '../css.macro';\n\nconst Container = registerCSS(\n  'message.actions.container',\n  styled.View`\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 5px;\n    ${({ theme }) => theme.message.actions.container.css}\n  `,\n);\n\nconst Button = registerCSS(\n  'message.actions.button',\n  styled(({ buttonStyle, ...rest }) => <TouchableOpacity {...rest} />)`\n    background-color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.button.primaryBackgroundColor\n        : theme.message.actions.button.defaultBackgroundColor};\n    border-color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.button.primaryBorderColor\n        : theme.message.actions.button.defaultBorderColor};\n    border-width: 1;\n    border-radius: 20;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    ${({ theme }) => theme.message.actions.button.css}\n  `,\n);\n\nconst ButtonText = registerCSS(\n  'message.actions.buttonText',\n  styled(({ buttonStyle, ...rest }) => <Text {...rest} />)`\n    color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.buttonText.primaryColor\n        : theme.message.actions.buttonText.defaultColor};\n    ${({ theme }) => theme.message.actions.buttonText.css}\n  `,\n);\n\n/**\n * AttachmentActions - The actions you can take on an attachment.\n * Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\nexport const AttachmentActions = themed(\n  class AttachmentActions extends React.PureComponent {\n    static themePath = 'message.actions';\n    static propTypes = {\n      // /** The id of the form input */\n      // id: PropTypes.string.isRequired,\n      /** The text for the form input */\n      text: PropTypes.string,\n      /** A list of actions */\n      actions: PropTypes.array.isRequired,\n      /** The handler to execute after selecting an action */\n      actionHandler: PropTypes.func.isRequired,\n    };\n\n    render() {\n      const { id, actions, actionHandler } = this.props;\n      return (\n        <Container>\n          {actions.map((action) => (\n            <Button\n              key={`${id}-${action.value}`}\n              buttonStyle={action.style}\n              onPress={actionHandler.bind(this, action.name, action.value)}\n            >\n              <ButtonText buttonStyle={action.style}>{action.text}</ButtonText>\n            </Button>\n          ))}\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/close-round.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { Image } from 'react-native';\nimport closeRound from '../images/icons/close-round.png';\n\nconst Container = styled.View`\n  width: 30;\n  height: 30;\n  border-radius: 3;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  ${({ theme }) => theme.closeButton.container.css}\n`;\n\nexport const CloseButton = themed(\n  class CloseButton extends React.PureComponent {\n    static themePath = 'closeButton';\n    render() {\n      return (\n        <Container>\n          <Image source={closeRound} />\n        </Container>\n      );\n    }\n  },\n);\n\nCloseButton.propTypes = {};\n","import React from 'react';\nimport { Text, View, Modal, Image, SafeAreaView } from 'react-native';\nimport ImageViewer from 'react-native-image-zoom-viewer';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withMessageContentContext } from '../context';\nimport { makeImageCompatibleUrl } from '../utils';\n\nimport { CloseButton } from './CloseButton';\n\nconst Single = styled.TouchableOpacity`\n  display: flex;\n  height: 200px;\n  width: ${({ theme }) => theme.message.gallery.width};\n  border-top-left-radius: 16;\n  border-top-right-radius: 16;\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  overflow: hidden;\n  ${({ theme }) => theme.message.gallery.single.css}\n`;\n\nconst GalleryContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: ${({ theme }) => theme.message.gallery.width};\n\n  height: ${({ theme, length }) =>\n    length >= 4\n      ? theme.message.gallery.doubleSize\n      : length === 3\n      ? theme.message.gallery.halfSize\n      : theme.message.gallery.size};\n\n  overflow: hidden;\n  border-radius: 16;\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  ${({ theme }) => theme.message.gallery.galleryContainer.css}\n`;\n\nconst ImageContainer = styled.TouchableOpacity`\n  display: flex;\n  height: ${({ theme, length }) =>\n    length !== 3 ? theme.message.gallery.size : theme.message.gallery.halfSize};\n  width: ${({ theme, length }) =>\n    length !== 3 ? theme.message.gallery.size : theme.message.gallery.halfSize};\n  ${({ theme }) => theme.message.gallery.imageContainer.css}\n`;\n/**\n * UI component for card in attachments.\n *\n * @example ./docs/Gallery.md\n */\n\nexport const Gallery = withMessageContentContext(\n  themed(\n    class Gallery extends React.PureComponent {\n      static themePath = 'message.gallery';\n      static propTypes = {\n        /** The images to render */\n        images: PropTypes.arrayOf(\n          PropTypes.shape({\n            image_url: PropTypes.string,\n            thumb_url: PropTypes.string,\n          }),\n        ),\n        onLongPress: PropTypes.func,\n        alignment: PropTypes.string,\n      };\n\n      constructor(props) {\n        super(props);\n        this.state = {\n          viewerModalOpen: false,\n          viewerModalImageIndex: 0,\n        };\n      }\n\n      render() {\n        if (!this.props.images || this.props.images.length === 0) return null;\n\n        const images = [...this.props.images].map((i) => ({\n          url: makeImageCompatibleUrl(i.image_url || i.thumb_url),\n        }));\n\n        if (images.length === 1) {\n          return (\n            <React.Fragment>\n              <Single\n                onPress={() => {\n                  this.setState({ viewerModalOpen: true });\n                }}\n                onLongPress={() => {\n                  this.props.onLongPress();\n                }}\n                alignment={this.props.alignment}\n              >\n                <Image\n                  style={{\n                    width: 100 + '%',\n                    height: 100 + '%',\n                  }}\n                  resizeMode=\"cover\"\n                  source={{ uri: images[0].url }}\n                />\n              </Single>\n              <Modal\n                visible={this.state.viewerModalOpen}\n                transparent={true}\n                onRequestClose={() => {\n                  this.setState({ viewerModalOpen: false });\n                }}\n              >\n                <SafeAreaView\n                  style={{ flex: 1, backgroundColor: 'transparent' }}\n                >\n                  <ImageViewer\n                    imageUrls={images}\n                    // TODO: We don't have 'save image' functionality.\n                    // Until we do, lets disable this feature. saveToLocalByLongPress prop basically\n                    // opens up popup menu to with an option \"Save to the album\", which basically does nothing.\n                    saveToLocalByLongPress={false}\n                    onCancel={() => {\n                      this.setState({ viewerModalOpen: false });\n                    }}\n                    enableSwipeDown\n                    renderHeader={() => (\n                      <GalleryHeader\n                        handleDismiss={() => {\n                          this.setState({ viewerModalOpen: false });\n                        }}\n                      />\n                    )}\n                  />\n                </SafeAreaView>\n              </Modal>\n            </React.Fragment>\n          );\n        }\n\n        return (\n          <React.Fragment>\n            <GalleryContainer\n              length={images.length}\n              alignment={this.props.alignment}\n            >\n              {images.slice(0, 4).map((image, i) => (\n                <ImageContainer\n                  key={`gallery-item-${i}`}\n                  length={images.length}\n                  activeOpacity={0.8}\n                  onPress={() => {\n                    this.setState({\n                      viewerModalOpen: true,\n                      viewerModalImageIndex: i,\n                    });\n                  }}\n                  onLongPress={this.props.onLongPress}\n                >\n                  {i === 3 && images.length > 4 ? (\n                    <View\n                      style={{\n                        width: '100%',\n                        height: '100%',\n                      }}\n                    >\n                      <Image\n                        style={{\n                          width: 100 + '%',\n                          height: 100 + '%',\n                        }}\n                        resizeMode=\"cover\"\n                        source={{ uri: images[3].url }}\n                      />\n                      <View\n                        style={{\n                          position: 'absolute',\n                          height: '100%',\n                          width: '100%',\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          backgroundColor: 'rgba(0,0,0,0.69)',\n                        }}\n                      >\n                        <Text\n                          style={{\n                            color: 'white',\n                            fontWeight: '700',\n                            fontSize: 22,\n                          }}\n                        >\n                          {' '}\n                          + {images.length - 3} more\n                        </Text>\n                      </View>\n                    </View>\n                  ) : (\n                    <Image\n                      style={{\n                        width: 100 + '%',\n                        height: 100 + '%',\n                      }}\n                      resizeMode=\"cover\"\n                      source={{ uri: image.url }}\n                    />\n                  )}\n                </ImageContainer>\n              ))}\n            </GalleryContainer>\n            <Modal\n              onRequestClose={() => {\n                this.setState({ viewerModalOpen: false });\n              }}\n              visible={this.state.viewerModalOpen}\n              transparent={true}\n            >\n              <SafeAreaView style={{ flex: 1, backgroundColor: 'transparent' }}>\n                <ImageViewer\n                  imageUrls={images}\n                  onCancel={() => {\n                    this.setState({ viewerModalOpen: false });\n                  }}\n                  index={this.state.viewerModalImageIndex}\n                  enableSwipeDown\n                  renderHeader={() => (\n                    <GalleryHeader\n                      handleDismiss={() => {\n                        this.setState({ viewerModalOpen: false });\n                      }}\n                    />\n                  )}\n                />\n              </SafeAreaView>\n            </Modal>\n          </React.Fragment>\n        );\n      }\n    },\n  ),\n);\n\nconst HeaderContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  position: absolute;\n  width: 100%;\n  z-index: 1000;\n  ${({ theme }) => theme.message.gallery.header.container.css}\n`;\n\nconst HeaderButton = styled.TouchableOpacity`\n  width: 30;\n  height: 30;\n  margin-right: 20;\n  margin-top: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 20;\n  ${({ theme }) => theme.message.gallery.header.button.css}\n`;\n\nconst GalleryHeader = ({ handleDismiss }) => (\n  <HeaderContainer>\n    <HeaderButton onPress={handleDismiss}>\n      <CloseButton />\n    </HeaderButton>\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { View, TouchableOpacity, Linking } from 'react-native';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport PropTypes from 'prop-types';\nimport { Card } from './Card';\nimport { FileIcon } from './FileIcon';\nimport { AttachmentActions } from './AttachmentActions';\nimport { Gallery } from './Gallery';\n\nimport { withMessageContentContext } from '../context';\n\nconst FileContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #ebebeb;\n  padding: 10px;\n  border-radius: ${({ groupStyle }) => {\n    if (groupStyle === 'middle' || groupStyle === 'bottom') return 0;\n\n    return 16;\n  }};\n  border-bottom-left-radius: ${({ alignment, groupStyle }) => {\n    if (groupStyle === 'top' || groupStyle === 'middle') return 0;\n\n    return alignment === 'right' ? 16 : 2;\n  }};\n  border-bottom-right-radius: ${({ alignment, groupStyle }) => {\n    if (groupStyle === 'top' || groupStyle === 'middle') return 0;\n\n    return alignment === 'left' ? 16 : 2;\n  }};\n  ${({ theme }) => theme.message.file.container.css}\n`;\n\nconst FileDetails = styled.View`\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n  ${({ theme }) => theme.message.file.details.css}\n`;\n\nconst FileTitle = styled.Text`\n  font-weight: 700;\n  ${({ theme }) => theme.message.file.title.css}\n`;\n\nconst FileSize = styled.Text`\n  ${({ theme }) => theme.message.file.size.css}\n`;\n\n/**\n * Attachment - The message attachment\n *\n * @example ./docs/Attachment.md\n * @extends PureComponent\n */\nexport const Attachment = withMessageContentContext(\n  themed(\n    class Attachment extends React.PureComponent {\n      static themePath = 'attachment';\n      static propTypes = {\n        /** The attachment to render */\n        attachment: PropTypes.object.isRequired,\n        /**\n         * Position of message. 'right' | 'left'\n         * 'right' message belongs with current user while 'left' message belonds to other users.\n         * */\n        alignment: PropTypes.string,\n        /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n        actionHandler: PropTypes.func,\n        /**\n         * Position of message in group - top, bottom, middle, single.\n         *\n         * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n         * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n         */\n        groupStyle: PropTypes.oneOf(['single', 'top', 'middle', 'bottom']),\n        /** Handler for long press event on attachment */\n        onLongPress: PropTypes.func,\n        /**\n         * Custom UI component for attachment icon for type 'file' attachment.\n         * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n         */\n        AttachmentFileIcon: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n      };\n      static defaultProps = {\n        AttachmentFileIcon: FileIcon,\n      };\n\n      constructor(props) {\n        super(props);\n      }\n\n      _goToURL = (url) => {\n        Linking.canOpenURL(url).then((supported) => {\n          if (supported) {\n            Linking.openURL(url);\n          } else {\n            console.log(\"Don't know how to open URI: \" + url);\n          }\n        });\n      };\n\n      render() {\n        const { attachment: a } = this.props;\n        if (!a) {\n          return null;\n        }\n\n        let type;\n\n        if (a.type === 'giphy' || a.type === 'imgur') {\n          type = 'card';\n        } else if (a.type === 'image' && (a.title_link || a.og_scrape_url)) {\n          type = 'card';\n        } else if (a.type === 'image') {\n          type = 'image';\n        } else if (a.type === 'file') {\n          type = 'file';\n        } else if (a.type === 'audio') {\n          type = 'audio';\n        } else if (a.type === 'video') {\n          type = 'media';\n        } else if (a.type === 'product') {\n          type = 'product';\n        } else {\n          type = 'card';\n          // extra = 'no-image';\n        }\n\n        const AttachmentFileIcon = this.props.AttachmentFileIcon;\n        if (type === 'image') {\n          return (\n            <React.Fragment>\n              <Gallery alignment={this.props.alignment} images={[a]} />\n              {a.actions && a.actions.length > 0 && (\n                <AttachmentActions\n                  key={'key-actions-' + a.id}\n                  {...a}\n                  actionHandler={this.props.actionHandler}\n                />\n              )}\n            </React.Fragment>\n          );\n        }\n        if (a.type === 'giphy' || type === 'card') {\n          if (a.actions && a.actions.length) {\n            return (\n              <View>\n                <Card {...a} alignment={this.props.alignment} />\n                {a.actions && a.actions.length > 0 && (\n                  <AttachmentActions\n                    key={'key-actions-' + a.id}\n                    {...a}\n                    actionHandler={this.props.actionHandler}\n                  />\n                )}\n              </View>\n            );\n          } else {\n            return <Card alignment={this.props.alignment} {...a} />;\n          }\n        }\n\n        if (a.type === 'file') {\n          return (\n            <TouchableOpacity\n              onPress={() => {\n                this._goToURL(a.asset_url);\n              }}\n              onLongPress={this.props.onLongPress}\n            >\n              <FileContainer\n                alignment={this.props.alignment}\n                groupStyle={this.props.groupStyle}\n              >\n                <AttachmentFileIcon\n                  filename={a.title}\n                  mimeType={a.mime_type}\n                  size={50}\n                />\n                <FileDetails>\n                  <FileTitle ellipsizeMode=\"tail\" numberOfLines={2}>\n                    {a.title}\n                  </FileTitle>\n                  <FileSize>{a.file_size} KB</FileSize>\n                </FileDetails>\n              </FileContainer>\n              {a.actions && a.actions.length > 0 && (\n                <AttachmentActions\n                  key={'key-actions-' + a.id}\n                  {...a}\n                  actionHandler={this.props.actionHandler}\n                />\n              )}\n            </TouchableOpacity>\n          );\n        }\n\n        if (a.type === 'video' && a.asset_url && a.image_url) {\n          return (\n            // TODO: Put in video component\n            <Card alignment={this.props.alignment} {...a} />\n          );\n        }\n\n        return false;\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { Attachment } from './Attachment';\n\nconst Container = styled.View`\n  display: flex;\n  align-items: stretch;\n`;\n\nexport class FileAttachmentGroup extends React.PureComponent {\n  static propTypes = {\n    messageId: PropTypes.string,\n    files: PropTypes.array,\n    handleAction: PropTypes.func,\n    alignment: PropTypes.oneOf(['right', 'left']),\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      messageId,\n      files,\n      handleAction,\n      alignment,\n      AttachmentFileIcon,\n    } = this.props;\n\n    return (\n      <Container>\n        {files &&\n          files.map((file, index, files) => {\n            let groupStyle;\n\n            if (files.length === 1) groupStyle = 'single';\n            else if (index === 0) {\n              groupStyle = 'top';\n            } else if (index < files.length - 1 && index > 0) {\n              groupStyle = 'middle';\n            } else if (index === files.length - 1) groupStyle = 'bottom';\n\n            return (\n              <Attachment\n                key={`${messageId}-${index}`}\n                attachment={file}\n                actionHandler={handleAction}\n                alignment={alignment}\n                groupStyle={groupStyle}\n                AttachmentFileIcon={AttachmentFileIcon}\n              />\n            );\n          })}\n      </Container>\n    );\n  }\n}\n","const img = require('.//images/reload1.png'); export default img;","import React from 'react';\nimport { View, ActivityIndicator, Image, TouchableOpacity } from 'react-native';\nimport iconReload from '../images/reload1.png';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { ProgressIndicatorTypes } from '../utils';\nimport { themed } from '../styles/theme';\n\nconst Overlay = styled.View`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  ${({ theme }) => theme.messageInput.uploadProgressIndicator.overlay.css};\n`;\n\nconst Container = styled.View`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0);\n  ${({ theme }) => theme.messageInput.uploadProgressIndicator.container.css};\n`;\n\nexport const UploadProgressIndicator = themed(\n  class UploadProgressIndicator extends React.PureComponent {\n    static themePath = 'messageInput.uploadProgressIndicator';\n    constructor(props) {\n      super(props);\n    }\n\n    static propTypes = {\n      active: PropTypes.bool,\n      type: PropTypes.oneOf([\n        ProgressIndicatorTypes.IN_PROGRESS,\n        ProgressIndicatorTypes.RETRY,\n      ]),\n      action: PropTypes.func,\n    };\n\n    render() {\n      const { active, children, type } = this.props;\n      if (!active) {\n        return <View>{children}</View>;\n      }\n\n      return (\n        <TouchableOpacity onPress={this.props.action}>\n          {children}\n          <Overlay />\n          <Container>\n            {type === ProgressIndicatorTypes.IN_PROGRESS && (\n              <View\n                style={{\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                }}\n              >\n                <ActivityIndicator style={{}} color=\"white\" />\n              </View>\n            )}\n            {type === ProgressIndicatorTypes.RETRY && (\n              <Image source={iconReload} style={{ height: 18, width: 18 }} />\n            )}\n          </Container>\n        </TouchableOpacity>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { FileIcon } from './FileIcon';\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * FileUploadPreview\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nconst FILE_PREVIEW_HEIGHT = 50;\nconst FILE_PREVIEW_PADDING = 10;\n\n/**\n * UI Component to preview the files set for upload\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nexport class FileUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    fileUploads: PropTypes.array.isRequired,\n    removeFile: PropTypes.func,\n    retryUpload: PropTypes.func,\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n  };\n\n  static defaultProps = {\n    AttachmentFileIcon: FileIcon,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    const AttachmentFileIcon = this.props.AttachmentFileIcon;\n    return (\n      <UploadProgressIndicator\n        active={item.state !== FileState.UPLOADED}\n        type={type}\n        action={this.props.retryUpload.bind(this, item.id)}\n      >\n        <View\n          style={{\n            height: FILE_PREVIEW_HEIGHT,\n            padding: FILE_PREVIEW_PADDING,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 5,\n            borderColor: '#EBEBEB',\n            borderWidth: 0.5,\n          }}\n        >\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <AttachmentFileIcon mimeType={item.file.type} size={20} />\n            <Text style={{ paddingLeft: 10 }}>\n              {item.file.name.length > 35\n                ? item.file.name.substring(0, 35).concat('...')\n                : item.file.name}\n            </Text>\n          </View>\n          <Text onPress={this.props.removeFile.bind(this, item.id)}>X</Text>\n        </View>\n      </UploadProgressIndicator>\n    );\n  };\n\n  render() {\n    if (!this.props.fileUploads || this.props.fileUploads.length === 0)\n      return null;\n\n    return (\n      <View\n        style={{\n          display: 'flex',\n          height: this.props.fileUploads.length * (FILE_PREVIEW_HEIGHT + 5),\n          marginRight: 10,\n          marginLeft: 10,\n        }}\n      >\n        <FlatList\n          style={{ flex: 1 }}\n          data={this.props.fileUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { View, TouchableOpacity, Image } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport const IconSquare = ({ icon, onPress }) => {\n  if (onPress)\n    return (\n      <TouchableOpacity\n        style={{\n          padding: 5,\n          backgroundColor: 'rgba(0,0,0,0.05)',\n          borderRadius: 5,\n        }}\n        onPress={onPress}\n      >\n        <Image source={icon} style={{ height: 15, width: 15 }} />\n      </TouchableOpacity>\n    );\n  else\n    return (\n      <View\n        style={{\n          padding: 5,\n          backgroundColor: 'rgba(0,0,0,0.05)',\n          borderRadius: 5,\n        }}\n      >\n        <Image source={icon} style={{ height: 15, width: 15 }} />\n      </View>\n    );\n};\n\nIconSquare.propTypes = {\n  icon: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onPress: PropTypes.func,\n};\n","import React from 'react';\nimport { FlatList } from 'react-native';\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\nimport PropTypes from 'prop-types';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport closeRound from '../images/icons/close-round.png';\n\nconst Container = styled.View`\n  height: 70;\n  display: flex;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.container.css};\n`;\n\nconst ItemContainer = styled.View`\n  display: flex;\n  height: 50;\n  flex-direction: row;\n  align-items: flex-start;\n  margin-left: 5;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.itemContainer.css};\n`;\n\nconst Dismiss = styled.TouchableOpacity`\n  position: absolute;\n  top: 5;\n  right: 5;\n  background-color: #fff;\n  width: 20;\n  height: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 20;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.dismiss.css};\n`;\n\nconst Upload = styled.Image`\n  width: 50;\n  height: 50;\n  border-radius: 10;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.upload.css};\n`;\n\nconst DismissImage = styled.Image`\n  width: 10;\n  height: 10;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.dismissImage.css};\n`;\n\n/**\n * UI Component to preview the images set for upload\n *\n * @example ./docs/ImageUploadPreview.md\n * @extends PureComponent\n */\nexport const ImageUploadPreview = themed(\n  class ImageUploadPreview extends React.PureComponent {\n    static themePath = 'messageInput.imageUploadPreview';\n    constructor(props) {\n      super(props);\n    }\n    static propTypes = {\n      /**\n       * Its an object/map of id vs image objects which are set for upload. It has following structure:\n       *\n       * ```json\n       *  {\n       *    \"randomly_generated_temp_id_1\": {\n       *        \"id\": \"randomly_generated_temp_id_1\",\n       *        \"file\": // File object\n       *        \"status\": \"Uploading\" // or \"Finished\"\n       *      },\n       *    \"randomly_generated_temp_id_2\": {\n       *        \"id\": \"randomly_generated_temp_id_2\",\n       *        \"file\": // File object\n       *        \"status\": \"Uploading\" // or \"Finished\"\n       *      },\n       *  }\n       * ```\n       *\n       * */\n      imageUploads: PropTypes.array.isRequired,\n      /**\n       * @param id Index of image in `imageUploads` array in state of MessageInput.\n       */\n      removeImage: PropTypes.func,\n      /**\n       * @param id Index of image in `imageUploads` array in state of MessageInput.\n       */\n      retryUpload: PropTypes.func,\n    };\n\n    _renderItem = ({ item }) => {\n      let type;\n\n      const { retryUpload } = this.props;\n\n      if (item.state === FileState.UPLOADING)\n        type = ProgressIndicatorTypes.IN_PROGRESS;\n\n      if (item.state === FileState.UPLOAD_FAILED)\n        type = ProgressIndicatorTypes.RETRY;\n      return (\n        <React.Fragment>\n          <ItemContainer>\n            <UploadProgressIndicator\n              active={item.state !== FileState.UPLOADED}\n              type={type}\n              action={retryUpload && retryUpload.bind(this, item.id)}\n            >\n              <Upload\n                resizeMode=\"cover\"\n                source={{ uri: item.url || item.file.uri }}\n              />\n            </UploadProgressIndicator>\n            <Dismiss\n              onPress={() => {\n                this.props.removeImage(item.id);\n              }}\n            >\n              <DismissImage source={closeRound} />\n            </Dismiss>\n          </ItemContainer>\n        </React.Fragment>\n      );\n    };\n\n    render() {\n      if (!this.props.imageUploads || this.props.imageUploads.length === 0)\n        return null;\n\n      return (\n        <Container>\n          <FlatList\n            horizontal\n            style={{ flex: 1 }}\n            data={this.props.imageUploads}\n            keyExtractor={(item) => item.id}\n            renderItem={this._renderItem}\n          />\n        </Container>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport {\n  Platform,\n  View,\n  Keyboard,\n  Animated,\n  Dimensions,\n  StatusBar,\n} from 'react-native';\nimport { KeyboardContext } from '../context';\nimport PropTypes from 'prop-types';\n\n/**\n * KeyboardCompatibleView is HOC component similar to [KeyboardAvoidingView](https://facebook.github.io/react-native/docs/keyboardavoidingview),\n * designed to work with MessageInput and MessageList component.\n *\n * Main motivation of writing this our own component was to get rid of issues that come with KeyboardAvoidingView from react-native\n * when used with components of fixed height. [Channel](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/ChannelInner.js) component\n * uses `KeyboardCompatibleView` internally, so you don't need to explicitely add it.\n *\n * ```json\n * <KeyboardCompatibleView>\n *  <MessageList />\n *  <MessageInput />\n * </KeyboardCompatibleView>\n * ```\n */\nexport class KeyboardCompatibleView extends React.PureComponent {\n  static propTypes = {\n    keyboardDismissAnimationDuration: PropTypes.number,\n    keyboardOpenAnimationDuration: PropTypes.number,\n    enabled: PropTypes.bool,\n  };\n  static defaultProps = {\n    keyboardDismissAnimationDuration: 500,\n    keyboardOpenAnimationDuration: 500,\n    enabled: true,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      channelHeight: new Animated.Value('100%'),\n      // For some reason UI doesn't update sometimes, when state is updated using setValue.\n      // So to force update the component, I am using following key, which will be increamented\n      // for every keyboard slide up and down.\n      key: 0,\n    };\n\n    this.setupListeners();\n\n    this._keyboardOpen = false;\n    // Following variable takes care of race condition between keyboardDidHide and keyboardDidShow.\n    this._hidingKeyboardInProgress = false;\n    this.rootChannelView = false;\n    this.initialHeight = undefined;\n  }\n\n  setupListeners = () => {\n    if (!this.props.enabled) return;\n\n    if (Platform.OS === 'ios') {\n      this.keyboardDidShowListener = Keyboard.addListener(\n        'keyboardWillShow',\n        this.keyboardDidShow,\n      );\n    } else {\n      // Android doesn't support keyboardWillShow event.\n      this.keyboardDidShowListener = Keyboard.addListener(\n        'keyboardDidShow',\n        this.keyboardDidShow,\n      );\n    }\n\n    // We dismiss the keyboard manually (along with keyboardWillHide function) when message is touched.\n    // Following listener is just for a case when keyboard gets dismissed due to something besides message touch.\n    this.keyboardDidHideListener = Keyboard.addListener(\n      'keyboardDidHide',\n      this.keyboardDidHide,\n    );\n  };\n  componentWillUnmount() {\n    this.keyboardDidShowListener.remove();\n    this.keyboardDidHideListener.remove();\n  }\n\n  // TODO: Better to extract following functions to different HOC.\n  keyboardDidShow = (e) => {\n    if (!this.props.enabled) return;\n    const keyboardHidingInProgressBeforeMeasure = this\n      ._hidingKeyboardInProgress;\n    const keyboardHeight = e.endCoordinates.height;\n\n    this.rootChannelView.measureInWindow((x, y) => {\n      // In case if keyboard was closed in meanwhile while\n      // this measure function was being executed, then we\n      // should abort further execution and let the event callback\n      // keyboardDidHide proceed.\n      if (\n        !keyboardHidingInProgressBeforeMeasure &&\n        this._hidingKeyboardInProgress\n      ) {\n        return;\n      }\n\n      const { height: windowHeight } = Dimensions.get('window');\n      let finalHeight;\n\n      if (Platform.OS === 'android') {\n        finalHeight =\n          windowHeight - y - keyboardHeight - StatusBar.currentHeight;\n      } else {\n        finalHeight = windowHeight - y - keyboardHeight;\n      }\n\n      Animated.timing(this.state.channelHeight, {\n        toValue: finalHeight,\n        duration: this.props.keyboardOpenAnimationDuration,\n      }).start(() => {\n        // Force the final value, in case animation halted in between.\n        this.state.channelHeight.setValue(finalHeight);\n        this.setState({\n          key: this.state.key + 1,\n        });\n      });\n    });\n    this._keyboardOpen = true;\n  };\n\n  keyboardDidHide = () => {\n    this._hidingKeyboardInProgress = true;\n    Animated.timing(this.state.channelHeight, {\n      toValue: this.initialHeight,\n      duration: this.props.keyboardDismissAnimationDuration,\n    }).start(() => {\n      // Force the final value, in case animation halted in between.\n      this.state.channelHeight.setValue(this.initialHeight);\n      this._hidingKeyboardInProgress = false;\n      this._keyboardOpen = false;\n      this.setState({\n        key: this.state.key + 1,\n      });\n    });\n  };\n\n  keyboardWillDismiss = () =>\n    new Promise((resolve) => {\n      if (!this._keyboardOpen) {\n        resolve();\n        return;\n      }\n\n      Animated.timing(this.state.channelHeight, {\n        toValue: this.initialHeight,\n        duration: this.props.keyboardDismissAnimationDuration,\n      }).start((response) => {\n        this.state.channelHeight.setValue(this.initialHeight);\n        if (response && !response.finished) {\n          // If by some chance animation didn't go smooth or had some issue,\n          // then simply defer promise resolution until after 500 ms.\n          // This is the time we perform animation for adjusting animation of Channel component height\n          // during keyboard dismissal.\n          setTimeout(() => {\n            resolve();\n          }, this.props.keyboardDismissAnimationDuration);\n          return;\n        }\n\n        resolve();\n      });\n    });\n\n  setRootChannelView = (o) => {\n    this.rootChannelView = o;\n  };\n\n  onLayout = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }) => {\n    // Not to set initial height again.\n    if (!this.initialHeight) {\n      this.initialHeight = height;\n      this.state.channelHeight.setValue(this.initialHeight);\n    }\n  };\n\n  dismissKeyboard = async () => {\n    Keyboard.dismiss();\n    if (this.props.enabled) await this.keyboardWillDismiss();\n  };\n\n  getContext = () => ({\n    dismissKeyboard: this.dismissKeyboard,\n  });\n\n  render() {\n    const height = this.initialHeight\n      ? { height: this.state.channelHeight }\n      : {};\n\n    return (\n      <Animated.View\n        style={{ display: 'flex', ...height }}\n        onLayout={this.onLayout}\n      >\n        <KeyboardContext.Provider value={this.getContext()}>\n          <View ref={this.setRootChannelView} collapsable={false}>\n            {this.props.children}\n          </View>\n        </KeyboardContext.Provider>\n      </Animated.View>\n    );\n  }\n}\n","import React from 'react';\nimport { Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport const LoadingErrorIndicator = ({ listType }) => {\n  let Loader;\n  switch (listType) {\n    case 'channel':\n      Loader = <Text>Error loading channel list ...</Text>;\n      break;\n    case 'message':\n      Loader = <Text>Error loading messages for this channel ...</Text>;\n      break;\n    default:\n      Loader = <Text>Error loading</Text>;\n      break;\n  }\n\n  return Loader;\n};\n\nLoadingErrorIndicator.propTypes = {\n  listType: PropTypes.oneOf(['channel', 'message', 'default']),\n};\n","import React from 'react';\nimport { View, Animated, Easing } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst AnimatedView = Animated.createAnimatedComponent(View);\n\nconst Circle = styled(AnimatedView)`\n  height: 30px;\n  width: 30px;\n  margin: 5px;\n  border-width: 2px;\n  border-radius: 30px;\n  justify-content: center;\n  border-color: ${({ theme }) => theme.colors.primary};\n  border-right-color: transparent;\n  ${({ theme }) => theme.spinner.css}\n`;\n/**\n * @example ./docs/Spinner.md\n * @extends PureComponent\n */\nexport const Spinner = themed(\n  class Spinner extends React.PureComponent {\n    static themePath = 'spinner';\n    state = {\n      rotateValue: new Animated.Value(0),\n    };\n\n    componentDidMount() {\n      this._start();\n    }\n\n    _start = () => {\n      Animated.loop(\n        Animated.timing(this.state.rotateValue, {\n          toValue: 1,\n          duration: 800,\n          easing: Easing.linear,\n          useNativeDriver: true,\n        }),\n      ).start();\n    };\n\n    render() {\n      return (\n        <Circle\n          style={{\n            transform: [\n              {\n                rotate: this.state.rotateValue.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: ['0deg', '360deg'],\n                }),\n              },\n            ],\n          }}\n        />\n      );\n    }\n  },\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { Spinner } from './Spinner';\n\nconst Container = styled.View`\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.loadingIndicator.container.css}\n`;\nconst LoadingText = styled.Text`\n  margin-top: 20px;\n  font-size: 14px;\n  font-weight: 600;\n  ${({ theme }) => theme.loadingIndicator.loadingText.css}\n`;\n\nexport class LoadingIndicator extends React.PureComponent {\n  static propTypes = {\n    listType: PropTypes.oneOf(['channel', 'message', 'default']),\n    loadingText: PropTypes.string,\n  };\n\n  static defaultProps = {\n    listType: 'default',\n  };\n\n  render() {\n    switch (this.props.listType) {\n      case 'channel':\n        return (\n          <Container>\n            <Spinner />\n            <LoadingText>\n              {this.props.loadingText\n                ? this.props.loadingText\n                : 'Loading channels ...'}\n            </LoadingText>\n          </Container>\n        );\n      case 'message':\n        return (\n          <Container>\n            <Spinner />\n            <LoadingText>\n              {this.props.loadingText\n                ? this.props.loadingText\n                : 'Loading messages ...'}\n            </LoadingText>\n          </Container>\n        );\n      case 'default':\n      default:\n        return (\n          <Container>\n            <Spinner />\n            <LoadingText>\n              {this.props.loadingText ? this.props.loadingText : 'Loading ...'}\n            </LoadingText>\n          </Container>\n        );\n    }\n  }\n}\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from '../Avatar';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  margin-right: ${({ alignment }) => (alignment === 'left' ? 8 : 0)};\n  margin-left: ${({ alignment }) => (alignment === 'right' ? 8 : 0)};\n  ${({ theme }) => theme.message.avatarWrapper.container.css}\n`;\n\nconst Spacer = styled.View`\n  width: 32;\n  height: 28;\n  ${({ theme }) => theme.message.avatarWrapper.spacer.css}\n`;\n\nexport const MessageAvatar = ({ message, isMyMessage, groupStyles }) => {\n  const pos = isMyMessage(message) ? 'right' : 'left';\n\n  const showAvatar =\n    groupStyles[0] === 'single' || groupStyles[0] === 'bottom' ? true : false;\n\n  return (\n    <Container alignment={pos}>\n      {showAvatar ? (\n        <Avatar\n          image={message.user.image}\n          name={message.user.name || message.user.id}\n        />\n      ) : (\n        <Spacer />\n      )}\n    </Container>\n  );\n};\n\nMessageAvatar.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /**\n   * Returns true if message (param) belongs to current user, else false\n   *\n   * @param message\n   * */\n  isMyMessage: PropTypes.func,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyles: PropTypes.array,\n};\n","const img = require('.//images/reactionlist/left-tail.png'); export default img;","const img = require('.//images/reactionlist/left-center.png'); export default img;","const img = require('.//images/reactionlist/left-end.png'); export default img;","const img = require('.//images/reactionlist/right-tail.png'); export default img;","const img = require('.//images/reactionlist/right-center.png'); export default img;","const img = require('.//images/reactionlist/right-end.png'); export default img;","import React from 'react';\nimport { Text } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport { emojiData } from '../utils';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\n\nimport leftTail from '../images/reactionlist/left-tail.png';\nimport leftCenter from '../images/reactionlist/left-center.png';\nimport leftEnd from '../images/reactionlist/left-end.png';\n\nimport rightTail from '../images/reactionlist/right-tail.png';\nimport rightCenter from '../images/reactionlist/right-center.png';\nimport rightEnd from '../images/reactionlist/right-end.png';\n\nconst TouchableWrapper = styled.TouchableOpacity`\n  position: relative;\n  ${(props) => (props.position === 'left' ? 'left: -10px;' : 'right: -10px;')}\n  height: 28px;\n  z-index: 10;\n`;\n\nconst Container = styled.View`\n  opacity: ${({ visible }) => (visible ? 1 : 0)};\n  z-index: 10;\n  height: 24px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 5px;\n  padding-right: 5px;\n  ${({ theme }) => theme.message.reactionList.container.css}\n`;\n\nconst ReactionCount = styled(({ reactionCounts, ...rest }) => (\n  <Text {...rest} />\n))`\n  color: white;\n  font-size: 12;\n  ${({ reactionCounts }) => (reactionCounts < 10 ? null : 'min-width: 20px;')}\n  ${({ theme }) => theme.message.reactionList.reactionCount.css}\n`;\n\nconst ImageWrapper = styled.View`\n  display: flex;\n  flex-direction: row;\n  top: -23px;\n  opacity: ${({ visible }) => (visible ? 1 : 0)};\n`;\n\nconst LeftTail = styled.Image`\n  width: 25px;\n  height: 33px;\n`;\n\nconst LeftCenter = styled.Image`\n  height: 33;\n  flex: 1;\n`;\n\nconst LeftEnd = styled.Image`\n  width: 14px;\n  height: 33px;\n`;\n\nconst RightTail = styled.Image`\n  width: 25px;\n  height: 33px;\n`;\n\nconst RightCenter = styled.Image`\n  height: 33;\n  flex: 1;\n`;\n\nconst RightEnd = styled.Image`\n  width: 14px;\n  height: 33px;\n`;\n\nconst Reactions = styled.View`\n  flex-direction: row;\n`;\n\n/**\n * @example ./docs/ReactionList.md\n * @extends PureComponent\n */\n\nexport const ReactionList = themed(\n  class ReactionList extends React.PureComponent {\n    static themePath = 'message.reactionList';\n\n    constructor(props) {\n      super(props);\n    }\n\n    static propTypes = {\n      latestReactions: PropTypes.array,\n      openReactionSelector: PropTypes.func,\n      getTotalReactionCount: PropTypes.func,\n      visible: PropTypes.bool,\n      position: PropTypes.string,\n    };\n\n    _renderReactions = (reactions) => {\n      const reactionsByType = {};\n      reactions.map((item) => {\n        if (reactions[item.type] === undefined) {\n          return (reactionsByType[item.type] = [item]);\n        } else {\n          return (reactionsByType[item.type] = [\n            ...reactionsByType[item.type],\n            item,\n          ]);\n        }\n      });\n\n      const emojiDataByType = {};\n      emojiData.forEach((e) => (emojiDataByType[e.id] = e));\n\n      const reactionTypes = emojiData.map((e) => e.id);\n      return Object.keys(reactionsByType).map((type) =>\n        reactionTypes.indexOf(type) > -1 ? (\n          <Text key={type}>{emojiDataByType[type].icon}</Text>\n        ) : null,\n      );\n    };\n\n    render() {\n      const {\n        latestReactions,\n        openReactionSelector,\n        getTotalReactionCount,\n        visible,\n        position,\n      } = this.props;\n      return (\n        <TouchableWrapper\n          position={position}\n          onPress={openReactionSelector}\n          activeOpacity={1}\n        >\n          <Container visible={visible}>\n            <Reactions>{this._renderReactions(latestReactions)}</Reactions>\n            <ReactionCount reactionCounts={getTotalReactionCount()}>\n              {getTotalReactionCount()}\n            </ReactionCount>\n          </Container>\n          <ImageWrapper visible={visible}>\n            {position === 'left' ? (\n              <React.Fragment>\n                <LeftTail source={leftTail} />\n                <LeftCenter source={leftCenter} resizeMode=\"stretch\" />\n                <LeftEnd source={leftEnd} />\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                <RightEnd source={rightEnd} />\n                <RightCenter source={rightCenter} resizeMode=\"stretch\" />\n                <RightTail source={rightTail} />\n              </React.Fragment>\n            )}\n          </ImageWrapper>\n        </TouchableWrapper>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { View, Modal } from 'react-native';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from './Avatar';\n\nconst Container = styled.TouchableOpacity`\n  flex: 1;\n  align-items: ${({ leftAlign }) => (leftAlign ? 'flex-start' : 'flex-end')};\n  ${({ theme }) => theme.message.reactionPicker.container.css}\n`;\n\nconst ContainerView = styled.View`\n  display: flex;\n  flex-direction: row;\n  background-color: black;\n  padding-left: 20px;\n  height: 60;\n  padding-right: 20px;\n  border-radius: 30;\n  ${({ theme }) => theme.message.reactionPicker.containerView.css}\n`;\n\nconst Column = styled.View`\n  flex-direction: column;\n  align-items: center;\n  margin-top: -5;\n  ${({ theme }) => theme.message.reactionPicker.column.css}\n`;\n\nconst Emoji = styled.Text`\n  font-size: 20;\n  margin-bottom: 5;\n  margin-top: 5;\n  ${({ theme }) => theme.message.reactionPicker.emoji.css}\n`;\n\nconst ReactionCount = styled.Text`\n  color: white;\n  font-size: 10;\n  font-weight: bold;\n  ${({ theme }) => theme.message.reactionPicker.text.css}\n`;\n\nexport const ReactionPicker = themed(\n  class ReactionPicker extends React.PureComponent {\n    static themePath = 'message.reactionPicker';\n\n    static propTypes = {\n      hideReactionOwners: PropTypes.bool,\n      reactionPickerVisible: PropTypes.bool,\n      handleDismiss: PropTypes.func,\n      handleReaction: PropTypes.func,\n      latestReactions: PropTypes.array,\n      reactionCounts: PropTypes.object,\n      rpLeft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      rpTop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      rpRight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      emojiData: PropTypes.array,\n    };\n\n    constructor(props) {\n      super(props);\n    }\n\n    getUsersPerReaction = (reactions, type) => {\n      const filtered =\n        reactions && reactions.filter((item) => item.type === type);\n      return filtered;\n    };\n\n    getLatestUser = (reactions, type) => {\n      const filtered = this.getUsersPerReaction(reactions, type);\n      if (filtered && filtered[0] && filtered[0].user) {\n        return filtered[0].user;\n      } else {\n        return 'NotFound';\n      }\n    };\n\n    render() {\n      const {\n        hideReactionOwners,\n        reactionPickerVisible,\n        handleDismiss,\n        handleReaction,\n        latestReactions,\n        reactionCounts,\n        rpLeft,\n        rpTop,\n        rpRight,\n        emojiData,\n      } = this.props;\n\n      if (!reactionPickerVisible) return null;\n\n      const position = {\n        marginTop: rpTop,\n      };\n\n      if (rpLeft) position.marginLeft = rpLeft;\n\n      if (rpRight) position.marginRight = rpRight;\n\n      return (\n        <Modal\n          visible={reactionPickerVisible}\n          transparent\n          animationType=\"fade\"\n          onShow={() => {}}\n          onRequestClose={handleDismiss}\n        >\n          {reactionPickerVisible && (\n            <Container\n              onPress={handleDismiss}\n              leftAlign={Boolean(rpLeft)}\n              activeOpacity={1}\n            >\n              <ContainerView\n                style={{\n                  ...position,\n                }}\n              >\n                {emojiData.map(({ id, icon }) => {\n                  const latestUser = this.getLatestUser(latestReactions, id);\n                  const count = reactionCounts && reactionCounts[id];\n                  return (\n                    <Column key={id}>\n                      {latestUser !== 'NotFound' && !hideReactionOwners ? (\n                        <Avatar\n                          image={latestUser.image}\n                          alt={latestUser.id}\n                          size={18}\n                          style={{\n                            image: {\n                              borderColor: 'white',\n                              borderWidth: 1,\n                            },\n                          }}\n                          name={latestUser.name || latestUser.id}\n                        />\n                      ) : (\n                        !hideReactionOwners && (\n                          <View style={{ height: 18, width: 18 }} />\n                        )\n                      )}\n                      <Emoji\n                        onPress={() => {\n                          handleReaction(id);\n                        }}\n                      >\n                        {icon}\n                      </Emoji>\n                      <ReactionCount>{count > 0 ? count : ''}</ReactionCount>\n                    </Column>\n                  );\n                })}\n              </ContainerView>\n            </Container>\n          )}\n        </Modal>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport styled, { withTheme } from '@stream-io/styled-components';\n\nimport { renderText, capitalize } from '../../utils';\nimport PropTypes from 'prop-types';\n\nconst TextContainer = styled.View`\n  border-bottom-left-radius: ${({ theme, groupStyle }) =>\n    groupStyle.indexOf('left') !== -1\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-bottom-right-radius: ${({ theme, groupStyle }) =>\n    groupStyle.indexOf('right') !== -1\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-top-left-radius: ${({ theme, groupStyle }) =>\n    groupStyle === 'leftBottom' || groupStyle === 'leftMiddle'\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-top-right-radius: ${({ theme, groupStyle }) =>\n    groupStyle === 'rightBottom' || groupStyle === 'rightMiddle'\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  margin-top: 2;\n  padding: 5px;\n  padding-left: 8;\n  padding-right: 8;\n  align-self: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  border-width: ${({ theme, alignment }) =>\n    alignment === 'left'\n      ? theme.message.content.textContainer.leftBorderWidth\n      : theme.message.content.textContainer.rightBorderWidth};\n  border-color: ${({ theme, alignment }) =>\n    alignment === 'left'\n      ? theme.message.content.textContainer.leftBorderColor\n      : theme.message.content.textContainer.rightBorderColor};\n  background-color: ${({ theme, alignment, type, status }) =>\n    alignment === 'left' || type === 'error' || status === 'failed'\n      ? theme.colors.transparent\n      : theme.colors.light};\n  ${({ theme }) => theme.message.content.textContainer.css}\n`;\n\nexport const MessageTextContainer = withTheme((props) => {\n  const {\n    message,\n    groupStyles = ['bottom'],\n    isMyMessage = () => false,\n    MessageText = false,\n  } = props;\n  const pos = isMyMessage(message) ? 'right' : 'left';\n\n  const hasAttachment = message.attachments.length > 0 ? true : false;\n  const groupStyle =\n    (isMyMessage(message) ? 'right' : 'left') +\n    capitalize(hasAttachment ? 'bottom' : groupStyles[0]);\n\n  if (!message.text) return false;\n  const markdownStyles = props.theme\n    ? props.theme.message.content.markdown\n    : {};\n  return (\n    <React.Fragment>\n      <TextContainer\n        alignment={pos}\n        groupStyle={groupStyle}\n        status={message.status}\n        type={message.type}\n      >\n        {!MessageText ? (\n          renderText(message, markdownStyles)\n        ) : (\n          <MessageText {...props} renderText={renderText} />\n        )}\n      </TextContainer>\n    </React.Fragment>\n  );\n});\n\nMessageTextContainer.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyles: PropTypes.array,\n  /**\n   * Returns true if message (param) belongs to current user, else false\n   *\n   * @param message\n   * */\n  isMyMessage: PropTypes.func,\n  /** Custom UI component for message text */\n  MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n  /** Complete theme object. Its a [defaultTheme](https://github.com/GetStream/stream-chat-react-native/blob/master/src/styles/theme.js#L22) merged with customized theme provided as prop to Chat component */\n  theme: PropTypes.object,\n};\n","const img = require('.//images/icons/icon_path.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nimport iconPath from '../../images/icons/icon_path.png';\n\nconst Container = styled.TouchableOpacity`\n  padding: 5px;\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.message.replies.container.css}\n`;\n\nconst MessageRepliesText = styled.Text`\n  color: ${({ theme }) => theme.colors.primary};\n  font-weight: 700;\n  font-size: 12;\n  ${({ theme }) => theme.message.replies.messageRepliesText.css}\n`;\n\nconst MessageRepliesImage = styled.Image`\n  transform: ${({ pos }) =>\n    pos === 'left' ? 'rotateY(0deg)' : 'rotateY(180deg)'};\n  ${({ theme }) => theme.message.replies.image.css}\n`;\n\nexport const MessageReplies = ({ message, isThreadList, openThread, pos }) => {\n  if (isThreadList || !message.reply_count) return null;\n\n  return (\n    <Container onPress={openThread}>\n      {pos === 'left' ? (\n        <MessageRepliesImage source={iconPath} pos={pos} />\n      ) : null}\n      <MessageRepliesText>\n        {message.reply_count} {message.reply_count === 1 ? 'reply' : 'replies'}\n      </MessageRepliesText>\n      {pos === 'right' ? (\n        <MessageRepliesImage source={iconPath} pos={pos} />\n      ) : null}\n    </Container>\n  );\n};\n\nMessageReplies.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /** Boolean if current message is part of thread */\n  isThreadList: PropTypes.bool,\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n  openThread: PropTypes.func,\n  /** right | left */\n  pos: PropTypes.string,\n};\n","import React from 'react';\nimport { Dimensions } from 'react-native';\nimport moment from 'moment';\nimport { MessageContentContext } from '../../context';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../../styles/theme';\nimport { Attachment } from '../Attachment';\nimport { ReactionList } from '../ReactionList';\nimport { ReactionPicker } from '../ReactionPicker';\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\nimport { MessageTextContainer } from './MessageTextContainer';\nimport { MessageReplies } from './MessageReplies';\nimport { Gallery } from '../Gallery';\nimport { MESSAGE_ACTIONS } from '../../utils';\nimport Immutable from 'seamless-immutable';\nimport PropTypes from 'prop-types';\nimport { FileAttachmentGroup } from '../FileAttachmentGroup';\n\n// Border radii are useful for the case of error message types only.\n// Otherwise background is transperant, so border radius is not really visible.\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: column;\n  max-width: 250;\n  padding: ${({ error }) => (error ? 5 : 0)}px;\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  background-color: ${({ error, theme }) =>\n    error\n      ? theme.message.content.errorContainer.backgroundColor\n      : theme.colors.transparent};\n  border-bottom-left-radius: ${({ alignment, theme }) =>\n    alignment === 'left'\n      ? theme.message.content.container.borderRadiusS\n      : theme.message.content.container.borderRadiusL};\n  border-bottom-right-radius: ${({ alignment, theme }) =>\n    alignment === 'left'\n      ? theme.message.content.container.borderRadiusL\n      : theme.message.content.container.borderRadiusS};\n  border-top-left-radius: ${({ theme }) =>\n    theme.message.content.container.borderRadiusL};\n  border-top-right-radius: ${({ theme }) =>\n    theme.message.content.container.borderRadiusL};\n  ${({ theme }) => theme.message.content.container.css};\n`;\n\nconst ContainerInner = styled.View`\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  ${({ theme }) => theme.message.content.containerInner.css}\n`;\n\nconst MetaContainer = styled.View`\n  margin-top: 2;\n  ${({ theme }) => theme.message.content.metaContainer.css};\n`;\n\nconst MetaText = styled.Text`\n  font-size: 11;\n  color: ${({ theme }) => theme.colors.textGrey};\n  text-align: ${({ alignment }) => (alignment === 'left' ? 'left' : 'right')};\n  ${({ theme }) => theme.message.content.metaText.css};\n`;\n\nconst DeletedContainer = styled.View`\n  display: flex;\n  flex-direction: column;\n  max-width: 250;\n  padding: 5px;\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  ${({ theme }) => theme.message.content.deletedContainer.css};\n`;\n\nconst DeletedText = styled.Text`\n  font-size: 15;\n  line-height: 20;\n  color: #a4a4a4;\n  ${({ theme }) => theme.message.content.deletedText.css};\n`;\n\nconst FailedText = styled.Text`\n  color: #a4a4a4;\n  margin-right: 5px;\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  color: #757575;\n  font-size: 14;\n  ${({ theme }) => theme.message.actionSheet.titleText.css};\n`;\n\nconst ActionSheetButtonContainer = styled.View`\n  height: 50;\n  width: 100%;\n  align-items: center;\n  background-color: #fff;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  font-size: 18;\n  color: #388cea;\n  ${({ theme }) => theme.message.actionSheet.buttonText.css};\n`;\n\nconst ActionSheetCancelButtonContainer = styled.View`\n  height: 50;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.cancelButtonContainer.css};\n`;\nconst ActionSheetCancelButtonText = styled.Text`\n  font-size: 18;\n  color: red;\n  ${({ theme }) => theme.message.actionSheet.cancelButtonText.css};\n`;\n\nexport const MessageContent = themed(\n  class MessageContent extends React.PureComponent {\n    static themePath = 'message.content';\n\n    static propTypes = {\n      /** @see See [channel context](#channelcontext) */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** enabled reactions, this is usually set by the parent component based on channel configs */\n      reactionsEnabled: PropTypes.bool.isRequired,\n      /** enabled replies, this is usually set by the parent component based on channel configs */\n      repliesEnabled: PropTypes.bool.isRequired,\n      /**\n       * Handler to open the thread on message. This is callback for touch event for replies button.\n       *\n       * @param message A message object to open the thread upon.\n       * */\n      onThreadSelect: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * @deprecated Use onPress instead\n       * */\n      onMessageTouch: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is pressed/touched\n       * e.g. if you would like to open reaction picker on message press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       * ```\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was pressed\n       * @param e       Event object for onPress event\n       * */\n      onPress: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is long pressed\n       * e.g. if you would like to open reaction picker on message long press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onLongPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       *\n       * By default we show action sheet with all the message actions on long press.\n       * ```\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was long pressed\n       * @param e       Event object for onLongPress event\n       * */\n      onLongPress: PropTypes.func,\n      /**\n       * Handler to delete a current message.\n       */\n      handleDelete: PropTypes.func,\n      /**\n       * Handler to edit a current message. This message simply sets current message as value of `editing` property of channel context.\n       * `editing` prop is then used by MessageInput component to switch to edit mode.\n       */\n      handleEdit: PropTypes.func,\n      /** @see See [keyboard context](https://getstream.io/chat/docs/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n      handleAction: PropTypes.func,\n      /** Position of message. 'right' | 'left' */\n      alignment: PropTypes.string,\n      /**\n       * Position of message in group - top, bottom, middle, single.\n       *\n       * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n       * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n       */\n      groupStyles: PropTypes.array,\n      /**\n       * Style object for actionsheet (used to message actions).\n       * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n       */\n      actionSheetStyles: PropTypes.object,\n      /**\n       * Custom UI component for attachment icon for type 'file' attachment.\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n       */\n      AttachmentFileIcon: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      formatDate: PropTypes.func,\n    };\n\n    static defaultProps = {\n      Attachment,\n      reactionsEnabled: true,\n      repliesEnabled: true,\n      MessageText: false,\n    };\n\n    constructor(props) {\n      super(props);\n\n      this.ActionSheet = false;\n      this.state = { reactionPickerVisible: false };\n    }\n\n    openThread = () => {\n      if (this.props.onThreadSelect)\n        this.props.onThreadSelect(this.props.message);\n    };\n\n    showActionSheet = () => {\n      this.ActionSheet.show();\n    };\n\n    handleDelete = async () => {\n      await this.props.handleDelete();\n    };\n\n    handleEdit = () => {\n      this.props.handleEdit();\n    };\n\n    _setReactionPickerPosition = () => {\n      const { isMyMessage, message } = this.props;\n      const pos = isMyMessage(message) ? 'right' : 'left';\n      this.messageContainer.measureInWindow((x, y, width) => {\n        this.setState({\n          reactionPickerVisible: true,\n          rpTop: y - 60,\n          rpLeft: pos === 'left' ? x - 10 : null,\n          rpRight:\n            pos === 'right'\n              ? Math.round(Dimensions.get('window').width) - (x + width + 10)\n              : null,\n        });\n      });\n    };\n\n    openReactionSelector = async () => {\n      const { readOnly } = this.props;\n\n      if (readOnly) return;\n\n      // Keyboard closes automatically whenever modal is opened (currently there is no way of avoiding this afaik)\n      // So we need to postpone the calculation for reaction picker position\n      // until after keyboard is closed completely. To achieve this, we close\n      // the keyboard forcefully and then calculate position of picker in callback.\n      await this.props.dismissKeyboard();\n      this._setReactionPickerPosition();\n    };\n\n    onActionPress = (action) => {\n      switch (action) {\n        case MESSAGE_ACTIONS.edit:\n          this.handleEdit();\n          break;\n        case MESSAGE_ACTIONS.delete:\n          this.handleDelete();\n          break;\n        case MESSAGE_ACTIONS.reply:\n          this.openThread();\n          break;\n        case MESSAGE_ACTIONS.reactions:\n          this.openReactionSelector();\n          break;\n        default:\n          break;\n      }\n    };\n\n    render() {\n      const {\n        message,\n        isMyMessage,\n        readOnly,\n        Message,\n        handleReaction,\n        threadList,\n        retrySendMessage,\n        messageActions,\n        groupStyles,\n        reactionsEnabled,\n        getTotalReactionCount,\n        repliesEnabled,\n        canEditMessage,\n        canDeleteMessage,\n        MessageFooter,\n      } = this.props;\n\n      const Attachment = this.props.Attachment;\n      const hasAttachment = Boolean(\n        message && message.attachments && message.attachments.length,\n      );\n\n      const pos = isMyMessage(message) ? 'right' : 'left';\n\n      const showTime =\n        groupStyles[0] === 'single' || groupStyles[0] === 'bottom'\n          ? true\n          : false;\n\n      const hasReactions =\n        reactionsEnabled &&\n        message.latest_reactions &&\n        message.latest_reactions.length > 0;\n\n      const options = [{ id: 'cancel', title: 'Cancel' }];\n      const images =\n        hasAttachment &&\n        message.attachments.filter(\n          (item) =>\n            item.type === 'image' && !item.title_link && !item.og_scrape_url,\n        );\n\n      const files =\n        hasAttachment &&\n        message.attachments.filter((item) => item.type === 'file');\n\n      if (\n        messageActions &&\n        reactionsEnabled &&\n        messageActions.indexOf(MESSAGE_ACTIONS.reactions) > -1\n      ) {\n        options.splice(1, 0, {\n          id: MESSAGE_ACTIONS.reactions,\n          title: 'Add Reaction',\n        });\n      }\n\n      if (\n        messageActions &&\n        repliesEnabled &&\n        messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 &&\n        !threadList\n      ) {\n        options.splice(1, 0, { id: MESSAGE_ACTIONS.reply, title: 'Reply' });\n      }\n      if (\n        messageActions &&\n        messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 &&\n        canEditMessage()\n      )\n        options.splice(1, 0, {\n          id: MESSAGE_ACTIONS.edit,\n          title: 'Edit Message',\n        });\n\n      if (\n        messageActions &&\n        messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 &&\n        canDeleteMessage()\n      )\n        options.splice(1, 0, {\n          id: MESSAGE_ACTIONS.delete,\n          title: 'Delete Message',\n        });\n\n      if (message.deleted_at)\n        return (\n          <DeletedContainer alignment={pos}>\n            <DeletedText>This message was deleted ...</DeletedText>\n          </DeletedContainer>\n        );\n\n      const onLongPress = this.props.onLongPress;\n      const contentProps = {\n        alignment: pos,\n        status: message.status,\n        onPress: this.props.onPress\n          ? this.props.onPress.bind(this, this, message)\n          : this.props.onMessageTouch,\n        onLongPress: onLongPress\n          ? onLongPress.bind(this, this, message)\n          : options.length > 1\n          ? this.showActionSheet\n          : null,\n        activeOpacity: 0.7,\n        disabled: readOnly,\n        hasReactions,\n      };\n\n      if (message.status === 'failed')\n        contentProps.onPress = retrySendMessage.bind(this, Immutable(message));\n\n      const context = {\n        onLongPress: contentProps.onLongPress,\n      };\n\n      return (\n        <MessageContentContext.Provider value={context}>\n          <Container\n            {...contentProps}\n            error={message.type === 'error' || message.status === 'failed'}\n          >\n            {message.type === 'error' ? (\n              <FailedText>ERROR · UNSENT</FailedText>\n            ) : null}\n            {message.status === 'failed' ? (\n              <FailedText>Message failed - try again</FailedText>\n            ) : null}\n            {reactionsEnabled &&\n              message.latest_reactions &&\n              message.latest_reactions.length > 0 && (\n                <ReactionList\n                  position={pos}\n                  visible={!this.state.reactionPickerVisible}\n                  latestReactions={message.latest_reactions}\n                  getTotalReactionCount={getTotalReactionCount}\n                  openReactionSelector={this.openReactionSelector}\n                  reactionCounts={message.reaction_counts}\n                />\n              )}\n            {/* Reason for collapsible: https://github.com/facebook/react-native/issues/12966 */}\n            <ContainerInner\n              alignment={pos}\n              ref={(o) => (this.messageContainer = o)}\n              collapsable={false}\n            >\n              {hasAttachment &&\n                message.attachments.map((attachment, index) => {\n                  // We handle files separately\n                  if (attachment.type === 'file') return null;\n                  if (\n                    attachment.type === 'image' &&\n                    !attachment.title_link &&\n                    !attachment.og_scrape_url\n                  )\n                    return null;\n                  return (\n                    <Attachment\n                      key={`${message.id}-${index}`}\n                      attachment={attachment}\n                      actionHandler={this.props.handleAction}\n                      alignment={this.props.alignment}\n                    />\n                  );\n                })}\n              {files && files.length > 0 && (\n                <FileAttachmentGroup\n                  messageId={message.id}\n                  files={files}\n                  handleAction={this.props.handleAction}\n                  alignment={this.props.alignment}\n                  AttachmentFileIcon={this.props.AttachmentFileIcon}\n                />\n              )}\n              {images && images.length > 0 && (\n                <Gallery alignment={this.props.alignment} images={images} />\n              )}\n              <MessageTextContainer\n                message={message}\n                groupStyles={hasReactions ? ['top'] : groupStyles}\n                isMyMessage={isMyMessage}\n                MessageText={this.props.MessageText}\n                disabled={\n                  message.status === 'failed' || message.type === 'error'\n                }\n                Message={Message}\n                openThread={this.openThread}\n                handleReaction={handleReaction}\n              />\n            </ContainerInner>\n            {repliesEnabled ? (\n              <MessageReplies\n                message={message}\n                isThreadList={!!threadList}\n                openThread={this.openThread}\n                pos={pos}\n              />\n            ) : null}\n            {MessageFooter && <MessageFooter {...this.props} />}\n            {!MessageFooter && showTime ? (\n              <MetaContainer>\n                <MetaText alignment={pos}>\n                  {this.props.formatDate\n                    ? this.props.formatDate(message.created_at)\n                    : moment(message.created_at).format('h:mmA')}\n                </MetaText>\n              </MetaContainer>\n            ) : null}\n\n            {reactionsEnabled ? (\n              <ReactionPicker\n                reactionPickerVisible={this.state.reactionPickerVisible}\n                handleReaction={handleReaction}\n                latestReactions={message.latest_reactions}\n                reactionCounts={message.reaction_counts}\n                handleDismiss={() => {\n                  this.setState({ reactionPickerVisible: false });\n                }}\n                rpLeft={this.state.rpLeft}\n                rpRight={this.state.rpRight}\n                rpTop={this.state.rpTop}\n                emojiData={this.props.emojiData}\n              />\n            ) : null}\n            <ActionSheet\n              ref={(o) => {\n                this.ActionSheet = o;\n              }}\n              title={\n                <ActionSheetTitleContainer>\n                  <ActionSheetTitleText>Choose an action</ActionSheetTitleText>\n                </ActionSheetTitleContainer>\n              }\n              options={[\n                ...options.map((o, i) => {\n                  if (i === 0) {\n                    return (\n                      <ActionSheetCancelButtonContainer>\n                        <ActionSheetCancelButtonText>\n                          Cancel\n                        </ActionSheetCancelButtonText>\n                      </ActionSheetCancelButtonContainer>\n                    );\n                  }\n                  return (\n                    <ActionSheetButtonContainer key={o.title}>\n                      <ActionSheetButtonText>{o.title}</ActionSheetButtonText>\n                    </ActionSheetButtonContainer>\n                  );\n                }),\n              ]}\n              cancelButtonIndex={0}\n              destructiveButtonIndex={0}\n              onPress={(index) => this.onActionPress(options[index].id)}\n              styles={this.props.actionSheetStyles}\n            />\n          </Container>\n        </MessageContentContext.Provider>\n      );\n    }\n  },\n);\n","const img = require('.//images/loading.gif'); export default img;","const img = require('.//images/icons/delivered_unseen.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport loadingGif from '../../images/loading.gif';\nimport iconDeliveredUnseen from '../../images/icons/delivered_unseen.png';\nimport { Avatar } from '../Avatar';\nimport PropTypes from 'prop-types';\n\nconst Spacer = styled.View`\n  height: 10;\n`;\n\nconst StatusContainer = styled.View`\n  width: 20;\n  flex-direction: row;\n  justify-content: center;\n`;\n\nconst DeliveredContainer = styled.View`\n  display: flex;\n  align-items: center;\n  height: 20;\n  ${({ theme }) => theme.message.status.deliveredContainer.css};\n`;\n\nconst DeliveredCircle = styled.View`\n  width: 16;\n  height: 16;\n  border-radius: 16;\n  background-color: ${({ theme }) => theme.colors.primary};\n  align-items: center;\n  justify-content: center;\n  padding: 6px;\n  ${({ theme }) => theme.message.status.deliveredCircle.css};\n`;\n\nconst CheckMark = styled.Image`\n  width: 8;\n  height: 6;\n  ${({ theme }) => theme.message.status.checkMark.css};\n`;\n\nconst SendingContainer = styled.View`\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.message.status.sendingContainer.css};\n`;\n\nconst SendingImage = styled.View`\n  height: 10;\n  width: 10;\n  ${({ theme }) => theme.message.status.sendingImage.css};\n`;\n\nconst ReadByContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.message.status.readByContainer.css};\n`;\n\nexport const MessageStatus = ({\n  client,\n  readBy,\n  message,\n  lastReceivedId,\n  threadList,\n}) => {\n  const renderStatus = () => {\n    const justReadByMe = readBy.length === 1 && readBy[0].id === client.user.id;\n\n    if (message.status === 'sending') {\n      return (\n        <SendingContainer>\n          <SendingImage source={loadingGif} />\n        </SendingContainer>\n      );\n    } else if (\n      readBy.length !== 0 &&\n      !threadList &&\n      message.id === lastReceivedId &&\n      !justReadByMe\n    ) {\n      const lastReadUser = readBy.filter(\n        (item) => item.id !== client.user.id,\n      )[0];\n      return (\n        <ReadByContainer>\n          <Avatar\n            name={lastReadUser.name || lastReadUser.id}\n            image={lastReadUser.image}\n            size={16}\n          />\n        </ReadByContainer>\n      );\n    } else if (\n      message.status === 'received' &&\n      message.type !== 'ephemeral' &&\n      message.id === lastReceivedId &&\n      !threadList\n    ) {\n      return (\n        <DeliveredContainer>\n          <DeliveredCircle>\n            <CheckMark source={iconDeliveredUnseen} />\n          </DeliveredCircle>\n        </DeliveredContainer>\n      );\n    } else {\n      return <Spacer />;\n    }\n  };\n\n  return <StatusContainer>{renderStatus()}</StatusContainer>;\n};\n\nMessageStatus.propTypes = {\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n  client: PropTypes.object,\n  /** A list of users who have read the message */\n  readBy: PropTypes.array,\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /** Latest message id on current channel */\n  lastReceivedId: PropTypes.string,\n  /** Boolean if current message is part of thread */\n  isThreadList: PropTypes.bool,\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport Moment from 'moment';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 10;\n  ${({ theme }) => theme.messageList.messageSystem.container.css}\n`;\n\nconst Line = styled.View`\n  flex: 1;\n  height: 0.5;\n  background-color: ${({ theme }) => theme.colors.light};\n  ${({ theme }) => theme.messageList.messageSystem.line.css}\n`;\n\nconst TextContainer = styled.View`\n  margin-top: 10;\n  flex: 3;\n  ${({ theme }) => theme.messageList.messageSystem.textContainer.css}\n`;\n\nconst Text = styled.Text`\n  text-align: center;\n  font-size: 10;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.messageSystem.text.css}\n`;\n\nconst DateText = styled.Text`\n  text-align: center;\n  font-size: 10;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.messageSystem.dateText.css}\n`;\n\n/**\n * A component to display system message. e.g, when someone updates the channel,\n * they can attach a message with that update. That message will be available\n * in message list as (type) system message.\n */\nconst MessageSystem = ({ message }) => (\n  <Container>\n    <Line />\n    <TextContainer>\n      <Text>{message.text.toUpperCase()}</Text>\n      <DateText>\n        {Moment(message.created_at)\n          .format('dddd')\n          .toUpperCase()}{' '}\n        at{' '}\n        {Moment(message.created_at)\n          .format('hh:mm A')\n          .toUpperCase()}\n      </DateText>\n    </TextContainer>\n    <Line />\n  </Container>\n);\n\nexport { MessageSystem };\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../../styles/theme';\n\nimport { MessageAvatar as DefaultMessageAvatar } from './MessageAvatar';\nimport { MessageContent as DefaultMessageContent } from './MessageContent';\nimport { MessageStatus as DefaultMessageStatus } from './MessageStatus';\nimport { MessageSystem as DefaultMessageSystem } from '../MessageSystem';\n\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  margin-bottom: ${({ hasMarginBottom, isVeryLastMessage }) =>\n    hasMarginBottom ? (isVeryLastMessage ? 30 : 20) : 0};\n  ${({ theme }) => theme.message.container.css}\n`;\n\n/**\n *\n * Message UI component\n *\n * @example ../docs/MessageSimple.md\n * @extends Component\n */\n\nexport const MessageSimple = themed(\n  class MessageSimple extends React.PureComponent {\n    static propTypes = {\n      /**\n       * Custom UI component for the avatar next to a message\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageAvatar.js\n       * */\n      MessageAvatar: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for message content\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js\n       * */\n      MessageContent: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for message status (delivered/read)\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageStatus.js\n       *\n       * */\n      MessageStatus: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Custom UI component for Messages of type \"system\"\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSystem.js\n       * */\n      MessageSystem: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** Custom UI component for message text */\n      MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** enabled reactions, this is usually set by the parent component based on channel configs */\n      reactionsEnabled: PropTypes.bool.isRequired,\n      /** enabled replies, this is usually set by the parent component based on channel configs */\n      repliesEnabled: PropTypes.bool.isRequired,\n      /**\n       * Handler to open the thread on message. This is callback for touch event for replies button.\n       *\n       * @param message A message object to open the thread upon.\n       * */\n      onThreadSelect: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * @deprecated Use onPress instead\n       * */\n      onMessageTouch: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is pressed/touched\n       * e.g. if you would like to open reaction picker on message press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       * ```\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was pressed\n       * @param e       Event object for onPress event\n       * */\n      onPress: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is long pressed\n       * e.g. if you would like to open reaction picker on message long press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onLongPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       * ```\n       *\n       * By default we show action sheet with all the message actions on long press.\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was long pressed\n       * @param e       Event object for onLongPress event\n       * */\n      onLongPress: PropTypes.func,\n      /**\n       * Handler to delete a current message.\n       */\n      handleDelete: PropTypes.func,\n      /**\n       * Handler to edit a current message. This message simply sets current message as value of `editing` property of channel context.\n       * `editing` prop is then used by MessageInput component to switch to edit mode.\n       */\n      handleEdit: PropTypes.func,\n      /** @see See [keyboard context](https://getstream.io/chat/docs/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n      handleAction: PropTypes.func,\n      /** Handler resend the message. */\n      handleRetry: PropTypes.func,\n      /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n      message: PropTypes.object,\n      /**\n       * Returns true if message (param) belongs to current user, else false\n       *\n       * @param message\n       * */\n      isMyMessage: PropTypes.func,\n      /**\n       * Position of message in group - top, bottom, middle, single.\n       *\n       * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n       * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n       */\n      groupStyles: PropTypes.array,\n      /** Boolean if current message is part of thread */\n      isThreadList: PropTypes.bool,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      openThread: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      client: PropTypes.object,\n      /** A list of users who have read the message */\n      readBy: PropTypes.array,\n      /**\n       * Force alignment of message to left or right - 'left' | 'right'\n       * By default, current user's messages will be aligned to right and other user's messages will be aligned to left.\n       * */\n      forceAlign: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n      showMessageStatus: PropTypes.bool,\n      /** Latest message id on current channel */\n      lastReceivedId: PropTypes.string,\n      /**\n       * Style object for actionsheet (used to message actions).\n       * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n       */\n      actionSheetStyles: PropTypes.object,\n      /**\n       * Custom UI component for attachment icon for type 'file' attachment.\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n       */\n      AttachmentFileIcon: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      formatDate: PropTypes.func,\n    };\n\n    static defaultProps = {\n      reactionsEnabled: true,\n      repliesEnabled: true,\n      forceAlign: false,\n      showMessageStatus: true,\n      MessageAvatar: DefaultMessageAvatar,\n      MessageContent: DefaultMessageContent,\n      MessageStatus: DefaultMessageStatus,\n      MessageSystem: DefaultMessageSystem,\n    };\n\n    static themePath = 'message';\n\n    render() {\n      const {\n        message,\n        isMyMessage,\n        groupStyles,\n        forceAlign,\n        showMessageStatus,\n        MessageAvatar,\n        MessageContent,\n        MessageStatus,\n        MessageSystem,\n      } = this.props;\n\n      let pos;\n      if ((forceAlign && forceAlign === 'left') || forceAlign === 'right')\n        pos = forceAlign;\n      else pos = isMyMessage(message) ? 'right' : 'left';\n\n      const lastMessage = this.props.channel.state.messages[\n        this.props.channel.state.messages.length - 1\n      ];\n      const isVeryLastMessage = lastMessage\n        ? lastMessage.id === message.id\n        : false;\n      const hasMarginBottom =\n        groupStyles[0] === 'single' || groupStyles[0] === 'bottom'\n          ? true\n          : false;\n\n      if (message.type === 'system') {\n        return <MessageSystem message={message} />;\n      }\n\n      return (\n        <Container\n          alignment={pos}\n          hasMarginBottom={hasMarginBottom}\n          isVeryLastMessage={isVeryLastMessage}\n        >\n          {pos === 'right' ? (\n            <React.Fragment>\n              <MessageContent {...this.props} alignment={pos} />\n              <MessageAvatar {...this.props} />\n              {showMessageStatus && <MessageStatus {...this.props} />}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <MessageAvatar {...this.props} />\n              <MessageContent {...this.props} alignment={pos} />\n            </React.Fragment>\n          )}\n        </Container>\n      );\n    }\n  },\n);\n\nexport { MessageStatus } from './MessageStatus';\nexport { MessageContent } from './MessageContent';\nexport { MessageAvatar } from './MessageAvatar';\nexport { MessageTextContainer } from './MessageTextContainer';\n","import React from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport { Attachment } from './Attachment';\nimport { MessageSimple } from './MessageSimple';\nimport PropTypes from 'prop-types';\nimport deepequal from 'deep-equal';\nimport { withKeyboardContext } from '../context';\nimport { MESSAGE_ACTIONS } from '../utils';\n\n/**\n * Message - A high level component which implements all the logic required for a message.\n * The actual rendering of the message is delegated via the \"Message\" property\n *\n * @example ./docs/Message.md\n * @extends Component\n */\nconst Message = withKeyboardContext(\n  class Message extends React.Component {\n    static themePath = 'message';\n    static extraThemePaths = ['avatar'];\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: false,\n      };\n    }\n\n    static propTypes = {\n      /** The message object */\n      message: PropTypes.object.isRequired,\n      /** The client connection object for connecting to Stream */\n      client: PropTypes.object.isRequired,\n      /** The current channel this message is displayed in */\n      channel: PropTypes.object.isRequired,\n      /** A list of users that have read this message **/\n      readBy: PropTypes.array,\n      /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n      groupStyles: PropTypes.array,\n      /** Editing, if the message is currently being edited */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /**\n       * Message UI component to display a message in message list.\n       * Avaialble from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n       * */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Attachment UI component to display attachment in individual message.\n       * Avaialble from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n       * */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n       * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n       * */\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n      /** Latest message id on current channel */\n      lastReceivedId: PropTypes.string,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      setEditingState: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      updateMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      removeMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      retrySendMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      openThread: PropTypes.func,\n      /** @see See [Keyboard Context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * */\n      onMessageTouch: PropTypes.func,\n      /** Should keyboard be dismissed when messaged is touched */\n      dismissKeyboardOnMessageTouch: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      Message: MessageSimple,\n      messageActions: Object.keys(MESSAGE_ACTIONS),\n      readBy: [],\n      groupStyles: [],\n      Attachment,\n      editing: false,\n      dismissKeyboardOnMessageTouch: true,\n    };\n\n    shouldComponentUpdate(nextProps) {\n      // since there are many messages its important to only rerender messages when needed.\n      let shouldUpdate = nextProps.message !== this.props.message;\n      // read state is the next most likely thing to change..\n      if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n        shouldUpdate = true;\n      }\n      // group style often changes for the last 3 messages...\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.groupStyles, this.props.groupStyles)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // if lastreceivedId changesm, message should update.\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n\n    isMyMessage = (message) => this.props.client.user.id === message.user.id;\n    isAdmin = () => this.props.client.user.role === 'admin';\n\n    canEditMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    canDeleteMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    handleFlag = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.id);\n    };\n\n    handleMute = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.user.id);\n    };\n\n    handleEdit = () => {\n      this.props.setEditingState(this.props.message);\n    };\n\n    handleDelete = async () => {\n      const message = this.props.message;\n      const data = await this.props.client.deleteMessage(message.id);\n      this.props.updateMessage(data.message);\n    };\n\n    handleReaction = async (reactionType, event) => {\n      if (event !== undefined && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      let userExistingReaction = null;\n\n      const currentUser = this.props.client.userID;\n      for (const reaction of this.props.message.own_reactions) {\n        // own user should only ever contain the current user id\n        // just in case we check to prevent bugs with message updates from breaking reactions\n        if (\n          currentUser === reaction.user.id &&\n          reaction.type === reactionType\n        ) {\n          userExistingReaction = reaction;\n        } else if (currentUser !== reaction.user.id) {\n          console.warn(\n            `message.own_reactions contained reactions from a different user, this indicates a bug`,\n          );\n        }\n      }\n\n      const originalMessage = this.props.message;\n      let reactionChangePromise;\n\n      /*\n    - Add the reaction to the local state\n    - Make the API call in the background\n    - If it fails, revert to the old message...\n    */\n      if (userExistingReaction) {\n        this.props.channel.state.removeReaction(userExistingReaction);\n\n        reactionChangePromise = this.props.channel.deleteReaction(\n          this.props.message.id,\n          userExistingReaction.type,\n        );\n      } else {\n        // add the reaction\n        const messageID = this.props.message.id;\n        const tmpReaction = {\n          message_id: messageID,\n          user: this.props.client.user,\n          type: reactionType,\n          created_at: new Date(),\n        };\n        const reaction = { type: reactionType };\n\n        this.props.channel.state.addReaction(tmpReaction);\n        reactionChangePromise = this.props.channel.sendReaction(\n          messageID,\n          reaction,\n        );\n      }\n\n      try {\n        // only wait for the API call after the state is updated\n        await reactionChangePromise;\n      } catch (e) {\n        // revert to the original message if the API call fails\n        this.props.updateMessage(originalMessage);\n      }\n    };\n\n    handleAction = async (name, value, event) => {\n      event.preventDefault();\n      const messageID = this.props.message.id;\n      const formData = {};\n      formData[name] = value;\n\n      const data = await this.props.channel.sendAction(messageID, formData);\n\n      if (data && data.message) {\n        this.props.updateMessage(data.message);\n      } else {\n        this.props.removeMessage(this.props.message);\n      }\n    };\n\n    handleRetry = async (message) => {\n      await this.props.retrySendMessage(message);\n    };\n\n    onMessageTouch = (e, message) => {\n      const {\n        onMessageTouch,\n        dismissKeyboardOnMessageTouch,\n        dismissKeyboard,\n      } = this.props;\n\n      if (onMessageTouch) onMessageTouch(e, message);\n      if (dismissKeyboardOnMessageTouch) dismissKeyboard();\n    };\n\n    getTotalReactionCount = () => {\n      const { emojiData } = this.props;\n      let count = null;\n      const reactionCounts = this.props.message.reaction_counts;\n\n      if (\n        reactionCounts !== null &&\n        reactionCounts !== undefined &&\n        Object.keys(reactionCounts).length > 0\n      ) {\n        count = 0;\n        Object.keys(reactionCounts).map((key) => {\n          if (emojiData.find((e) => e.id === key)) {\n            count += reactionCounts[key];\n          }\n\n          return count;\n        });\n      }\n      return count;\n    };\n\n    render() {\n      const message = this.props.message;\n\n      const actionsEnabled =\n        message.type === 'regular' && message.status === 'received';\n\n      const Component = this.props.Message;\n      const actionProps = {};\n\n      if (this.props.channel && this.props.channel.getConfig()) {\n        actionProps.reactionsEnabled = this.props.channel.getConfig().reactions;\n        actionProps.repliesEnabled = this.props.channel.getConfig().reactions;\n      }\n\n      return (\n        <TouchableOpacity\n          onPress={(e) => {\n            this.onMessageTouch(e, message);\n          }}\n          activeOpacity={1}\n        >\n          <Component\n            {...this.props}\n            {...actionProps}\n            client={this.props.client}\n            channel={this.props.channel}\n            actionsEnabled={actionsEnabled}\n            Message={this}\n            onMessageTouch={(e) => {\n              this.onMessageTouch(e, message);\n            }}\n            handleReaction={this.handleReaction}\n            getTotalReactionCount={this.getTotalReactionCount}\n            handleFlag={this.handleFlag}\n            handleMute={this.handleMute}\n            handleAction={this.handleAction}\n            handleRetry={this.handleRetry}\n            isMyMessage={this.isMyMessage}\n            isAdmin={this.isAdmin}\n            canEditMessage={this.canEditMessage}\n            canDeleteMessage={this.canDeleteMessage}\n            handleEdit={this.handleEdit}\n            handleDelete={this.handleDelete}\n            openThread={\n              this.props.openThread && this.props.openThread.bind(this, message)\n            }\n          />\n        </TouchableOpacity>\n      );\n    }\n  },\n);\n\nexport { Message };\n","import React, { PureComponent } from 'react';\nimport { Animated } from 'react-native';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 27px;\n  width: 112px;\n  z-index: 10;\n  margin-bottom: 0;\n  border-radius: 13px;\n  background-color: ${({ theme }) => theme.colors.primary};\n  transform: translateY(9px);\n  ${({ theme }) => theme.messageList.messageNotification.container.css}\n`;\n\nconst MessageNotificationText = styled.Text`\n  color: white;\n  font-size: 12px;\n  font-weight: 600;\n  ${({ theme }) => theme.messageList.messageNotification.text.css}\n`;\n/**\n * @example ./docs/MessageNotification.md\n * @extends PureComponent\n */\nexport const MessageNotification = themed(\n  class MessageNotification extends PureComponent {\n    static themePath = 'messageList.messageNotification';\n    constructor(props) {\n      super(props);\n      this.state = {\n        notificationOpacity: new Animated.Value(0),\n      };\n    }\n    static propTypes = {\n      /** If we should show the notification or not */\n      showNotification: PropTypes.bool,\n      /** Onclick handler */\n      onPress: PropTypes.func.isRequired,\n    };\n\n    static defaultProps = {\n      showNotification: true,\n    };\n\n    componentDidMount() {\n      Animated.timing(this.state.notificationOpacity, {\n        toValue: this.props.showNotification ? 1 : 0,\n        duration: 500,\n      }).start();\n    }\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.showNotification !== this.props.showNotification) {\n        Animated.timing(this.state.notificationOpacity, {\n          toValue: this.props.showNotification ? 1 : 0,\n          duration: 500,\n        }).start();\n      }\n    }\n\n    render() {\n      if (!this.props.showNotification) {\n        return null;\n      } else {\n        return (\n          <Animated.View\n            style={{\n              position: 'absolute',\n              bottom: 0,\n              opacity: this.state.notificationOpacity,\n            }}\n          >\n            <Container onPress={this.props.onPress}>\n              <MessageNotificationText>New Messages</MessageNotificationText>\n            </Container>\n          </Animated.View>\n        );\n      }\n    }\n  },\n);\n","import React from 'react';\nimport { View, FlatList, findNodeHandle } from 'react-native';\n\nimport { SuggestionsContext } from '../context';\n\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nconst Wrapper = styled.TouchableOpacity`\n  position: absolute;\n  z-index: 90;\n  height: ${({ height }) => height};\n  width: 100%;\n  ${({ theme }) => theme.messageInput.suggestions.wrapper.css}\n`;\n\nconst Container = styled.View`\n  position: absolute;\n  bottom: 10;\n  background-color: white;\n  z-index: 100;\n  border-top-left-radius: 10;\n  border-top-right-radius: 10;\n  width: ${({ width }) => width};\n  margin-left: ${({ marginLeft }) => marginLeft};\n  shadow-color: #000;\n  shadow-opacity: 0.05;\n  shadow-offset: 0px -3px;\n  height: ${({ theme, length }) =>\n    Math.min(\n      length * theme.messageInput.suggestions.container.itemHeight,\n      theme.messageInput.suggestions.container.maxHeight,\n    )};\n  ${({ theme }) => theme.messageInput.suggestions.container.css};\n`;\n\nconst Title = styled.Text`\n  padding: 10px;\n  font-weight: bold;\n  height: ${({ theme }) => theme.messageInput.suggestions.container.itemHeight};\n  ${({ theme }) => theme.messageInput.suggestions.title.css};\n`;\n\nconst Separator = styled.View`\n  height: 0;\n  ${({ theme }) => theme.messageInput.suggestions.separator.css};\n`;\n\nconst SuggestionsItem = styled.TouchableOpacity`\n  justify-content: center;\n  height: ${({ theme }) => theme.messageInput.suggestions.container.itemHeight};\n  ${({ theme }) => theme.messageInput.suggestions.item.css};\n`;\n\nexport class SuggestionsProvider extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestionsViewActive: false,\n      suggestionsBottomMargin: 0,\n      suggestionsLeftMargin: 0,\n      suggestions: {},\n      suggestionsWidth: 0,\n      suggestionsBackdropHeight: 0,\n      suggestionsTitle: '',\n      component: null,\n    };\n  }\n\n  openSuggestions = async (title, component) => {\n    const [inputBoxPosition, chatBoxPosition] = await Promise.all([\n      this.getInputBoxPosition(),\n      this.getChatBoxPosition(),\n    ]);\n\n    this.setState({\n      suggestionsBottomMargin: chatBoxPosition.height - inputBoxPosition.y,\n      suggestionsLeftMargin: inputBoxPosition.x,\n      suggestionsWidth: inputBoxPosition.width,\n      suggestionsViewActive: true,\n      suggestionsBackdropHeight: inputBoxPosition.y,\n      suggestionsTitle: title,\n      component,\n    });\n  };\n\n  updateSuggestions = (suggestions) => {\n    this.setState({\n      suggestions,\n    });\n  };\n\n  closeSuggestions = () => {\n    this.setState({\n      suggestionsViewActive: false,\n      suggestionsTitle: '',\n      component: null,\n    });\n  };\n\n  setInputBoxContainerRef = (o) => {\n    this.messageInputBox = o;\n  };\n\n  getInputBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.messageInputBox.measureLayout(\n        nodeHandleRoot,\n        (x, y, width, height) => {\n          resolve({ x, y, height, width });\n        },\n      );\n    });\n\n  getChatBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.rootView.measureLayout(nodeHandleRoot, (x, y, width, height) => {\n        resolve({ x, y, height, width });\n      });\n    });\n\n  setRootView = (o) => {\n    this.rootView = o;\n  };\n\n  getContext = () => ({\n    setInputBoxContainerRef: this.setInputBoxContainerRef,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  render() {\n    return (\n      <SuggestionsContext.Provider value={this.getContext()}>\n        {/** TODO: Support dynamic item view for different type of suggestions */}\n        <SuggestionsView\n          component={this.state.component}\n          suggestions={this.state.suggestions}\n          active={this.state.suggestionsViewActive}\n          marginBottom={this.state.suggestionsBottomMargin}\n          marginLeft={this.state.suggestionsLeftMargin}\n          width={this.state.suggestionsWidth}\n          backdropHeight={this.state.suggestionsBackdropHeight}\n          handleDismiss={this.closeSuggestions}\n          suggestionsTitle={this.state.suggestionsTitle}\n        />\n        <View\n          ref={this.setRootView}\n          collapsable={false}\n          style={{ height: '100%' }}\n        >\n          {this.props.children}\n        </View>\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n\nclass SuggestionsView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    active: PropTypes.bool,\n    marginLeft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    suggestions: PropTypes.object,\n    backdropHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    handleDismiss: PropTypes.func,\n    suggestionsTitle: PropTypes.string,\n  };\n  renderHeader = () => <SuggestionsHeader />;\n  renderItem = ({ item }) => {\n    const {\n      suggestions: { onSelect },\n      component: Component,\n    } = this.props;\n\n    return (\n      <SuggestionsItem\n        onPress={() => {\n          onSelect(item);\n        }}\n      >\n        <Component item={item} />\n      </SuggestionsItem>\n    );\n  };\n\n  render() {\n    const {\n      active,\n      marginLeft,\n      width,\n      suggestions: { data },\n      backdropHeight,\n      handleDismiss,\n      suggestionsTitle,\n    } = this.props;\n\n    if (!active) return null;\n    if (!data || data.length === 0) return null;\n    return (\n      <Wrapper height={backdropHeight} onPress={handleDismiss}>\n        <Container\n          width={width}\n          length={data.length + 1}\n          marginLeft={marginLeft}\n        >\n          <FlatList\n            ListHeaderComponent={<SuggestionsHeader title={suggestionsTitle} />}\n            ItemSeparatorComponent={SuggestionsSeparator}\n            data={data}\n            keyboardShouldPersistTaps=\"always\"\n            renderItem={this.renderItem}\n            keyExtractor={(item, index) => (item.name || item.id) + index}\n          />\n        </Container>\n      </Wrapper>\n    );\n  }\n}\n\nconst SuggestionsHeader = ({ title }) => <Title>{title}</Title>;\n\nconst SuggestionsSeparator = () => <Separator />;\n","const fail = () => {\n  throw Error(\n    'Native handler was not registered, you should import stream-chat-expo or stream-chat-react-native',\n  );\n};\nexport let NetInfo = {\n  fetch: fail,\n  addEventListener: fail,\n};\nexport let pickImage = fail;\nexport let pickDocument = fail;\n\nexport const registerNativeHandlers = (handlers) => {\n  if (handlers.NetInfo) {\n    NetInfo = handlers.NetInfo;\n  }\n\n  if (handlers.pickImage) {\n    pickImage = handlers.pickImage;\n  }\n\n  if (handlers.pickDocument) {\n    pickDocument = handlers.pickDocument;\n  }\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChatContext } from '../context';\nimport { NetInfo } from '../native';\n\nimport { themed } from '../styles/theme';\n\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\n\nexport const Chat = themed(\n  class Chat extends PureComponent {\n    static themePath = '';\n    static propTypes = {\n      /** The StreamChat client object */\n      client: PropTypes.object.isRequired,\n      /**\n       * Theme object\n       *\n       * @ref https://getstream.io/chat/react-native-chat/tutorial/#custom-styles\n       * */\n      style: PropTypes.object,\n      logger: PropTypes.func,\n    };\n\n    static defaultProps = {\n      logger: () => {},\n    };\n\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        // currently active channel\n        channel: {},\n        isOnline: true,\n        connectionRecovering: false,\n      };\n\n      this.unsubscribeNetInfo = null;\n      this.setConnectionListener();\n\n      this.props.client.on('connection.changed', (event) => {\n        if (this._unmounted) return;\n        this.setState({\n          isOnline: event.online,\n          connectionRecovering: !event.online,\n        });\n      });\n\n      this.props.client.on('connection.recovered', () => {\n        if (this._unmounted) return;\n        this.setState({ connectionRecovering: false });\n      });\n\n      this._unmounted = false;\n    }\n\n    componentDidMount() {\n      this.props.logger('Chat component', 'componentDidMount', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentDidUpdate() {\n      this.props.logger('Chat component', 'componentDidUpdate', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentWillUnmount() {\n      this.props.logger('Chat component', 'componentWillUnmount', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      this._unmounted = true;\n      this.props.client.off('connection.recovered');\n      this.props.client.off('connection.changed');\n      this.props.client.off(this.handleEvent);\n      this.unsubscribeNetInfo && this.unsubscribeNetInfo();\n    }\n\n    notifyChatClient = (isConnected) => {\n      if (this.props.client != null && this.props.client.wsConnection != null) {\n        if (isConnected) {\n          this.props.client.wsConnection.onlineStatusChanged({\n            type: 'online',\n          });\n        } else {\n          this.props.client.wsConnection.onlineStatusChanged({\n            type: 'offline',\n          });\n        }\n      }\n    };\n\n    setConnectionListener = () => {\n      NetInfo.fetch().then((isConnected) => {\n        this.notifyChatClient(isConnected);\n      });\n      this.unsubscribeNetInfo = NetInfo.addEventListener((isConnected) => {\n        this.notifyChatClient(isConnected);\n      });\n    };\n\n    setActiveChannel = (channel) => {\n      this.props.logger('Chat component', 'setActiveChannel', {\n        tags: ['chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      if (this._unmounted) return;\n      this.setState(() => ({\n        channel,\n      }));\n    };\n\n    getContext = () => ({\n      client: this.props.client,\n      channel: this.state.channel,\n      setActiveChannel: this.setActiveChannel,\n      isOnline: this.state.isOnline,\n      connectionRecovering: this.state.connectionRecovering,\n      logger: this.props.logger,\n    });\n\n    render() {\n      this.props.logger('Chat component', 'Rerendering', {\n        props: this.props,\n        state: this.state,\n      });\n\n      return (\n        <ChatContext.Provider value={this.getContext()}>\n          {this.props.children}\n        </ChatContext.Provider>\n      );\n    }\n  },\n);\n","import React, { PureComponent } from 'react';\nimport { View, Text } from 'react-native';\nimport { ChannelContext } from '../context';\nimport { SuggestionsProvider } from './SuggestionsProvider';\n\nimport uuidv4 from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport { emojiData } from '../utils';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport { logChatPromiseExecution } from 'stream-chat';\n\n/**\n * This component is not really exposed externally, and is only supposed to be used with\n * 'Channel' component (which is actually exposed to customers).\n */\nexport class ChannelInner extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      // Loading the intial content of the channel\n      loading: true,\n      // Loading more messages\n      loadingMore: false,\n      hasMore: true,\n      messages: Immutable([]),\n      online: props.isOnline,\n      typing: Immutable({}),\n      watchers: Immutable({}),\n      members: Immutable({}),\n      read: Immutable({}),\n      thread: props.thread,\n      threadMessages: [],\n      threadLoadingMore: false,\n      threadHasMore: true,\n      kavEnabled: true,\n      /** We save the events in state so that we can display event message\n       * next to the message after which it was received, in MessageList.\n       *\n       * e.g., eventHistory = {\n       *   message_id_1: [\n       *     { ...event_obj_received_after_message_id_1__1 },\n       *     { ...event_obj_received_after_message_id_1__2 },\n       *     { ...event_obj_received_after_message_id_1__3 },\n       *   ],\n       *   message_id_2: [\n       *     { ...event_obj_received_after_message_id_2__1 },\n       *     { ...event_obj_received_after_message_id_2__2 },\n       *     { ...event_obj_received_after_message_id_2__3 },\n       *   ]\n       * }\n       */\n      eventHistory: {},\n    };\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreFinishedDebounced = debounce(this.loadMoreFinished, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    this._loadMoreThrottled = throttle(this.loadMore, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreThreadFinishedDebounced = debounce(\n      this.loadMoreThreadFinished,\n      2000,\n      {\n        leading: true,\n        trailing: true,\n      },\n    );\n\n    this._setStateThrottled = throttle(this.setState, 500, {\n      leading: true,\n      trailing: true,\n    });\n\n    this._markReadThrottled = throttle(this.markRead, 500, {\n      leading: true,\n      trailing: true,\n    });\n\n    this.messageInputBox = false;\n\n    this.props.logger('Channel component', 'Constructor', {\n      props: this.props,\n      state: this.state,\n    });\n  }\n\n  static propTypes = {\n    /** Which channel to connect to */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }).isRequired,\n    /** Client is passed via the Chat Context */\n    client: PropTypes.object.isRequired,\n    /** The loading indicator to use */\n    LoadingIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /** The indicator to use when there is error  */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    /** The indicator to use when message list is empty */\n    EmptyStateIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n    isOnline: PropTypes.bool,\n    Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    /** Override send message request (Advanced usage only) */\n    doSendMessageRequest: PropTypes.func,\n    /** Override update message request (Advanced usage only) */\n    doUpdateMessageRequest: PropTypes.func,\n  };\n\n  static defaultProps = {\n    LoadingIndicator,\n    LoadingErrorIndicator,\n    EmptyStateIndicator,\n    emojiData,\n    logger: () => {},\n  };\n\n  componentDidUpdate(prevProps) {\n    this.props.logger('Channel component', 'componentDidUpdate', {\n      tags: ['lifecycle', 'channel'],\n      props: this.props,\n      state: this.state,\n    });\n\n    if (this.props.isOnline !== prevProps.isOnline) {\n      if (this._unmounted) return;\n      this.setState({ online: this.props.isOnline });\n    }\n  }\n\n  async componentDidMount() {\n    this.props.logger('Channel component', 'componentDidMount', {\n      tags: ['lifecycle', 'channel'],\n      props: this.props,\n      state: this.state,\n    });\n\n    const channel = this.props.channel;\n    let errored = false;\n    if (!channel.initialized) {\n      try {\n        await channel.watch();\n      } catch (e) {\n        if (this._unmounted) return;\n        this.setState({ error: e });\n        errored = true;\n      }\n    }\n\n    this.lastRead = new Date();\n    if (!errored) {\n      this.copyChannelState();\n      this.listenToChanges();\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.logger('Channel component', 'componentWillUnmount', {\n      tags: ['lifecycle', 'channel'],\n      props: this.props,\n      state: this.state,\n    });\n\n    this.props.channel.off(this.handleEvent);\n    this.props.client.off('connection.recovered', this.handleEvent);\n\n    this._loadMoreFinishedDebounced.cancel();\n    this._loadMoreThreadFinishedDebounced.cancel();\n    this._setStateThrottled.cancel();\n    this._unmounted = true;\n  }\n\n  copyChannelState() {\n    const channel = this.props.channel;\n\n    if (this._unmounted) return;\n    this.setState({\n      messages: channel.state.messages,\n      read: channel.state.read,\n      watchers: channel.state.watchers,\n      members: channel.state.members,\n      watcher_count: channel.state.watcher_count,\n      loading: false,\n      typing: Immutable({}),\n    });\n\n    if (channel.countUnread() > 0) this.markRead();\n  }\n\n  markRead = () => {\n    if (!this.props.channel.getConfig().read_events) {\n      return;\n    }\n    logChatPromiseExecution(this.props.channel.markRead(), 'mark read');\n  };\n\n  listenToChanges() {\n    // The more complex sync logic is done in chat.js\n    // listen to client.connection.recovered and all channel events\n    this.props.client.on('connection.recovered', this.handleEvent);\n    const channel = this.props.channel;\n    channel.on(this.handleEvent);\n  }\n\n  openThread = (message) => {\n    const channel = this.props.channel;\n    const threadMessages = channel.state.threads[message.id] || [];\n\n    if (this._unmounted) return;\n    this.setState({\n      thread: message,\n      threadMessages,\n    });\n  };\n\n  loadMoreThread = async () => {\n    // prevent duplicate loading events...\n    if (this.state.threadLoadingMore) return;\n    if (this._unmounted) return;\n    this.setState({\n      threadLoadingMore: true,\n    });\n    const channel = this.props.channel;\n    const parentID = this.state.thread.id;\n    const oldMessages = channel.state.threads[parentID] || [];\n    const oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n    const limit = 50;\n    const queryResponse = await channel.getReplies(parentID, {\n      limit,\n      id_lt: oldestMessageID,\n    });\n    const hasMore = queryResponse.messages.length === limit;\n\n    const threadMessages = channel.state.threads[parentID] || [];\n\n    // next set loadingMore to false so we can start asking for more data...\n    this._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n  };\n\n  loadMoreThreadFinished = (threadHasMore, threadMessages) => {\n    if (this._unmounted) return;\n    this.setState({\n      threadLoadingMore: false,\n      threadHasMore,\n      threadMessages,\n    });\n  };\n\n  closeThread = () => {\n    if (this._unmounted) return;\n    this.setState({\n      thread: null,\n      threadMessages: [],\n    });\n  };\n\n  setEditingState = (message) => {\n    if (this._unmounted) return;\n    this.setState({\n      editing: message,\n    });\n  };\n\n  updateMessage = (updatedMessage, extraState) => {\n    const channel = this.props.channel;\n\n    extraState = extraState || {};\n\n    // adds the message to the local channel state..\n    // this adds to both the main channel state as well as any reply threads\n    channel.state.addMessageSorted(updatedMessage);\n\n    // update the Channel component state\n    if (this.state.thread && updatedMessage.parent_id) {\n      extraState.threadMessages =\n        channel.state.threads[updatedMessage.parent_id] || [];\n    }\n    if (this._unmounted) return;\n    this.setState({ messages: channel.state.messages, ...extraState });\n  };\n\n  clearEditingState = () => {\n    if (this._unmounted) return;\n    this.setState({\n      editing: false,\n    });\n  };\n  removeMessage = (message) => {\n    const channel = this.props.channel;\n    channel.state.removeMessage(message);\n    if (this._unmounted) return;\n    this.setState({ messages: channel.state.messages });\n  };\n\n  removeEphemeralMessages() {\n    const c = this.props.channel;\n    c.state.selectRegularMessages();\n    if (this._unmounted) return;\n    this.setState({ messages: c.state.messages });\n  }\n\n  createMessagePreview = (\n    text,\n    attachments,\n    parent,\n    mentioned_users,\n    extraFields,\n  ) => {\n    // create a preview of the message\n    const clientSideID = `${this.props.client.userID}-` + uuidv4();\n    const message = {\n      text,\n      html: text,\n      __html: text,\n      //id: tmpID,\n      id: clientSideID,\n      type: 'regular',\n      status: 'sending',\n      user: {\n        id: this.props.client.userID,\n        ...this.props.client.user,\n      },\n      created_at: new Date(),\n      attachments,\n      mentioned_users,\n      reactions: [],\n      ...extraFields,\n    };\n\n    if (parent && parent.id) {\n      message.parent_id = parent.id;\n    }\n    return message;\n  };\n\n  // eslint-disable-next-line require-await\n  editMessage = async (updatedMessage) => {\n    if (this.props.doUpdateMessageRequest) {\n      return Promise.resolve(\n        this.props.doUpdateMessageRequest(\n          this.props.channel.cid,\n          updatedMessage,\n        ),\n      );\n    }\n\n    return this.props.client.updateMessage(updatedMessage);\n  };\n\n  _sendMessage = async (message) => {\n    // Scrape the reserved fields if present.\n    const {\n      text,\n      attachments,\n      id,\n      parent_id,\n      mentioned_users,\n      html,\n      __html,\n      type,\n      status,\n      user,\n      created_at,\n      reactions,\n      ...extraFields\n    } = message;\n\n    const messageData = {\n      text,\n      attachments,\n      id,\n      parent_id,\n      mentioned_users,\n      ...extraFields,\n    };\n\n    try {\n      let messageResponse;\n      if (this.props.doSendMessageRequest) {\n        messageResponse = await this.props.doSendMessageRequest(\n          this.props.channel.cid,\n          messageData,\n        );\n      } else {\n        messageResponse = await this.props.channel.sendMessage(messageData);\n      }\n\n      // replace it after send is completed\n      if (messageResponse.message) {\n        messageResponse.message.status = 'received';\n        this.updateMessage(messageResponse.message);\n      }\n    } catch (error) {\n      console.log(error);\n      // set the message to failed..\n      message.status = 'failed';\n      this.updateMessage(message);\n    }\n  };\n\n  sendMessage = async ({\n    text,\n    attachments = [],\n    parent,\n    mentioned_users,\n    ...extraFields\n  }) => {\n    // remove error messages upon submit\n    this.props.channel.state.filterErrorMessages();\n\n    // create a local preview message to show in the UI\n    const messagePreview = this.createMessagePreview(\n      text,\n      attachments,\n      parent,\n      mentioned_users,\n      extraFields,\n    );\n\n    // first we add the message to the UI\n    this.updateMessage(messagePreview, {\n      messageInput: '',\n      commands: [],\n      userAutocomplete: [],\n    });\n\n    await this._sendMessage(messagePreview);\n  };\n\n  retrySendMessage = async (message) => {\n    // set the message status to sending\n    message = message.asMutable();\n    message.status = 'sending';\n    this.updateMessage(message);\n    // actually try to send the message...\n    await this._sendMessage(message);\n  };\n\n  handleEvent = (e) => {\n    const { channel } = this.props;\n    let threadMessages = [];\n    const threadState = {};\n    if (this.state.thread) {\n      threadMessages = channel.state.threads[this.state.thread.id] || [];\n      threadState['threadMessages'] = threadMessages;\n    }\n\n    if (\n      this.state.thread &&\n      e.message &&\n      e.message.id === this.state.thread.id\n    ) {\n      threadState['thread'] = channel.state.messageToImmutable(e.message);\n    }\n\n    if (Object.keys(threadState).length > 0) {\n      // TODO: in theory we should do 1 setState call not 2,\n      // However the setStateThrottled doesn't support this\n      if (this._unmounted) return;\n      this.setState(threadState);\n    }\n\n    if (e.type === 'member.added') {\n      this.addToEventHistory(e);\n    }\n\n    if (e.type === 'member.removed') {\n      this.addToEventHistory(e);\n    }\n    this._setStateThrottled({\n      messages: channel.state.messages,\n      watchers: channel.state.watchers,\n      read: channel.state.read,\n      typing: channel.state.typing,\n      watcher_count: channel.state.watcher_count,\n    });\n  };\n\n  addToEventHistory = (e) => {\n    this.setState((prevState) => {\n      const lastMessageId =\n        prevState.messages.length > 0\n          ? prevState.messages[prevState.messages.length - 1].id\n          : 'none';\n\n      if (!prevState.eventHistory[lastMessageId])\n        return {\n          ...prevState,\n          eventHistory: {\n            ...prevState.eventHistory,\n            [lastMessageId]: [e],\n          },\n        };\n\n      return {\n        ...prevState,\n        eventHistory: {\n          ...prevState.eventHistory,\n          [lastMessageId]: [...prevState.eventHistory[lastMessageId], e],\n        },\n      };\n    });\n  };\n\n  loadMore = async () => {\n    // prevent duplicate loading events...\n    if (this.state.loadingMore || !this.state.hasMore) return;\n    if (this._unmounted) return;\n    this.setState({ loadingMore: true });\n\n    if (!this.state.messages.length === 0) {\n      this.setState({\n        loadingMore: false,\n      });\n\n      return;\n    }\n\n    const oldestMessage = this.state.messages[0]\n      ? this.state.messages[0]\n      : null;\n\n    if (oldestMessage && oldestMessage.status !== 'received') {\n      this.setState({\n        loadingMore: false,\n      });\n\n      return;\n    }\n\n    const oldestID = oldestMessage ? oldestMessage.id : null;\n    const perPage = 100;\n    let queryResponse;\n    this.props.logger('Channel Component', 'Requerying the messages', {\n      props: this.props,\n      state: this.state,\n      limit: perPage,\n      id_lt: oldestID,\n    });\n    try {\n      queryResponse = await this.props.channel.query({\n        messages: { limit: perPage, id_lt: oldestID },\n      });\n    } catch (e) {\n      console.warn('message pagination request failed with error', e);\n      if (this._unmounted) return;\n      this.setState({ loadingMore: false });\n      return;\n    }\n    const hasMore = queryResponse.messages.length === perPage;\n\n    this._loadMoreFinishedDebounced(hasMore, this.props.channel.state.messages);\n  };\n\n  loadMoreFinished = (hasMore, messages) => {\n    if (this._unmounted) return;\n    this.setState({\n      loadingMore: false,\n      hasMore,\n      messages,\n    });\n  };\n\n  getContext = () => ({\n    ...this.state,\n    client: this.props.client,\n    channel: this.props.channel,\n    Message: this.props.Message,\n    Attachment: this.props.Attachment,\n    updateMessage: this.updateMessage,\n    removeMessage: this.removeMessage,\n    sendMessage: this.sendMessage,\n    editMessage: this.editMessage,\n    retrySendMessage: this.retrySendMessage,\n    setEditingState: this.setEditingState,\n    clearEditingState: this.clearEditingState,\n    EmptyStateIndicator: this.props.EmptyStateIndicator,\n    markRead: this._markReadThrottled,\n    loadMore: this._loadMoreThrottled,\n    // thread related\n    openThread: this.openThread,\n    closeThread: this.closeThread,\n    loadMoreThread: this.loadMoreThread,\n    emojiData: this.props.emojiData,\n  });\n\n  renderComponent = () => this.props.children;\n\n  renderLoading = () => {\n    const Indicator = this.props.LoadingIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  renderLoadingError = () => {\n    const Indicator = this.props.LoadingErrorIndicator;\n    return <Indicator error={this.state.error} listType=\"message\" />;\n  };\n\n  render() {\n    let core;\n    const { KeyboardCompatibleView } = this.props;\n    if (this.state.error) {\n      this.props.logger(\n        'Channel component',\n        'Error loading channel - rendering error indicator',\n        {\n          tags: ['error', 'channelComponent'],\n          props: this.props,\n          state: this.state,\n          error: this.state.error,\n        },\n      );\n\n      core = this.renderLoadingError();\n    } else if (this.state.loading) {\n      core = this.renderLoading();\n    } else if (!this.props.channel || !this.props.channel.watch) {\n      core = (\n        <View>\n          <Text>Channel Missing</Text>\n        </View>\n      );\n    } else {\n      core = (\n        <KeyboardCompatibleView\n          enabled={!this.props.disableKeyboardCompatibleView}\n        >\n          <ChannelContext.Provider value={this.getContext()}>\n            <SuggestionsProvider\n              handleKeyboardAvoidingViewEnabled={(trueOrFalse) => {\n                if (this._unmounted) return;\n                this.setState({ kavEnabled: trueOrFalse });\n              }}\n            >\n              {this.renderComponent()}\n            </SuggestionsProvider>\n          </ChannelContext.Provider>\n        </KeyboardCompatibleView>\n      );\n    }\n\n    return <View>{core}</View>;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { withChatContext } from '../context';\nimport { Text } from 'react-native';\n\n// import { LoadingIndicator } from './LoadingIndicator';\n\nimport PropTypes from 'prop-types';\n\n// import { MessageSimple } from './MessageSimple';\n// import { Attachment } from './Attachment';\nimport { ChannelInner } from './ChannelInner';\nimport { KeyboardCompatibleView } from './KeyboardCompatibleView';\n\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\nconst Channel = withChatContext(\n  class Channel extends PureComponent {\n    constructor(props) {\n      super(props);\n      this.state = { error: false };\n    }\n    static propTypes = {\n      /** Which channel to connect to */\n      channel: PropTypes.shape({\n        watch: PropTypes.func,\n      }).isRequired,\n      /** Client is passed via the Chat Context */\n      client: PropTypes.object.isRequired,\n      isOnline: PropTypes.bool,\n      /**\n       * Loading indicator UI component. This will be shown on the screen until the messages are\n       * being queried from channel. Once the messages are loaded, loading indicator is removed from the screen\n       * and replaced with children of the Channel component.\n       *\n       * Defaults to and accepts same props as: [LoadingIndicator](https://getstream.github.io/stream-chat-react-native/#loadingindicator)\n       */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Error indicator UI component. This will be shown on the screen if channel query fails.\n       *\n       * Defaults to and accepts same props as: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react-native/#loadingerrorindicator)\n       *\n       * */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Empty state indicator UI component. This will be shown on the screen if channel has no messages.\n       *\n       * Defaults to and accepts same props as: [EmptyStateIndicator](https://getstream.github.io/stream-chat-react-native/#emptystateindicator)\n       *\n       * */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Message UI component to display a message in message list.\n       *\n       * Available built-in component (also accepts the same props as): [MessageSimple](https://getstream.github.io/stream-chat-react-native/#messagesimple)\n       *\n       * */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Attachment UI component to display attachment in individual message.\n       *\n       * Available built-in component (also accepts the same props as): [Attachment](https://getstream.github.io/stream-chat-react-native/#attachment)\n       * */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Override send message request (Advanced usage only)\n       * */\n      doSendMessageRequest: PropTypes.func,\n      /**\n       * Override update message request (Advanced usage only)\n       * */\n      doUpdateMessageRequest: PropTypes.func,\n      /**\n       * If true, KeyboardCompatibleView wrapper is disabled.\n       *\n       * Channel component internally uses [KeyboardCompatibleView](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/KeyboardCompatibleView.js) component\n       * internally to adjust the height of Channel component when keyboard is opened or dismissed. This prop gives you ability to disable this functionality, in case if you\n       * want to use [KeyboardAvoidingView](https://facebook.github.io/react-native/docs/keyboardavoidingview) or you want to handle keyboard dismissal yourself.\n       * KeyboardAvoidingView works well when your component occupies 100% of screen height, otherwise it may raise some issues.\n       * */\n      disableKeyboardCompatibleView: PropTypes.bool,\n      /**\n       * Custom wrapper component that handles height adjustment of Channel component when keyboard is opened or dismissed.\n       * Defaults to [KeyboardCompatibleView](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/KeyboardCompatibleView.js)\n       *\n       * This prop can be used to configure default KeyboardCompatibleView component.\n       * e.g.,\n       * <Channel\n       *  channel={channel}\n       *  ...\n       *  KeyboardCompatibleView={(props) => {\n       *    return (\n       *      <KeyboardCompatibleView keyboardDismissAnimationDuration={200} keyboardOpenAnimationDuration={200}>\n       *        {props.children}\n       *      </KeyboardCompatibleView>\n       *    )\n       *  }}\n       * />\n       */\n      KeyboardCompatibleView: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n    };\n\n    static defaultProps = {\n      disableKeyboardCompatibleView: false,\n      KeyboardCompatibleView,\n    };\n\n    render() {\n      if (!this.props.channel.cid) {\n        return <Text>Please select a channel first</Text>;\n      }\n\n      return <ChannelInner {...this.props} />;\n    }\n  },\n);\n\nexport { Channel };\n","import React from 'react';\n\nimport { Avatar } from './Avatar';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst TypingText = styled.Text`\n  margin-left: 10px;\n  font-size: ${({ theme }) => theme.typingIndicator.text.fontSize}px;\n  color: ${({ theme }) => theme.typingIndicator.text.color};\n  ${({ theme }) => theme.typingIndicator.text.css};\n`;\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n`;\n\nconst TypingIndicator = themed(\n  class TypingIndicator extends React.PureComponent {\n    static themePath = 'typingIndicator';\n    constructTypingString = (dict) => {\n      const arr2 = Object.keys(dict);\n      const arr3 = [];\n      arr2.forEach((item, i) => {\n        if (this.props.client.user.id === dict[arr2[i]].user.id) {\n          return;\n        }\n        arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n      });\n      let outStr = '';\n      if (arr3.length === 1) {\n        outStr = arr3[0] + ' is typing...';\n        dict;\n      } else if (arr3.length === 2) {\n        //joins all with \"and\" but =no commas\n        //example: \"bob and sam\"\n        outStr = arr3.join(' and ') + ' are typing...';\n      } else if (arr3.length > 2) {\n        //joins all with commas, but last one gets \", and\" (oxford comma!)\n        //example: \"bob, joe, and sam\"\n        outStr =\n          arr3.slice(0, -1).join(', ') +\n          ', and ' +\n          arr3.slice(-1) +\n          ' are typing...';\n      }\n\n      return outStr;\n    };\n\n    render() {\n      const typing = Object.values(this.props.typing);\n\n      return (\n        <Container>\n          {typing\n            .filter(({ user }) => user.id !== this.props.client.user.id)\n            .map(({ user }, idx) => (\n              <Avatar\n                image={user.image}\n                size={24}\n                name={user.name || user.id}\n                key={user.id + idx}\n              />\n            ))}\n          <TypingText>\n            {this.constructTypingString(this.props.typing)}\n          </TypingText>\n        </Container>\n      );\n    }\n  },\n);\n\nexport { TypingIndicator };\n","import React, { PureComponent } from 'react';\nimport { View, TouchableOpacity } from 'react-native';\nimport { withChannelContext } from '../context';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport uuidv4 from 'uuid/v4';\n\nimport { Message } from './Message';\nimport { EventIndicator } from './EventIndicator';\nimport { MessageNotification } from './MessageNotification';\nimport { DateSeparator } from './DateSeparator';\nimport { TypingIndicator } from './TypingIndicator';\n\nconst ListContainer = styled.FlatList`\n  flex: 1;\n  width: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n  ${({ theme }) => theme.messageList.listContainer.css}\n`;\n\nconst ErrorNotificationText = styled.Text`\n  color: red;\n  background-color: #fae6e8;\n  ${({ theme }) => theme.messageList.errorNotificationText.css}\n`;\n\nconst ErrorNotification = styled.View`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 10;\n  margin-bottom: 0;\n  padding: 5px;\n  color: red;\n  background-color: #fae6e8;\n  ${({ theme }) => theme.messageList.errorNotification.css}\n`;\n\nconst TypingIndicatorContainer = styled.View`\n  position: absolute;\n  bottom: 0;\n  height: 30px;\n  width: 100%;\n  padding-left: 16px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n  ${({ theme }) => theme.messageList.typingIndicatorContainer.css}\n`;\n\n/**\n * MessageList - The message list component renders a list of messages.\n * Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react-native/#channel)\n *\n * @example ./docs/MessageList.md\n * @extends PureComponent\n */\nconst MessageList = withChannelContext(\n  class MessageList extends PureComponent {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        newMessagesNotification: false,\n        online: props.online,\n      };\n      this.yOffset = 0;\n    }\n\n    static propTypes = {\n      /** Turn off grouping of messages by user */\n      noGroupByUser: PropTypes.bool,\n      /**\n       * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n       * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n       * */\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n      /**\n       * Boolean weather current message list is a thread.\n       */\n      threadList: PropTypes.bool,\n      /** **Available from [chat context](https://getstream.github.io/stream-chat-react-native/#chatcontext)** */\n      client: PropTypes.object,\n      /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Custom UI component for attachment icon for type 'file' attachment.\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n       */\n      AttachmentFileIcon: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n      messages: PropTypes.array.isRequired,\n      /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n      read: PropTypes.object,\n      /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n      typing: PropTypes.object,\n      /** Network status */\n      online: PropTypes.bool,\n      disableWhileEditing: PropTypes.bool,\n      /**\n       * For flatlist\n       * @see See loeadMoreThreshold [doc](https://facebook.github.io/react-native/docs/flatlist#onendreachedthreshold)\n       * */\n      loadMoreThreshold: PropTypes.number,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * */\n      onMessageTouch: PropTypes.func,\n      /** Should keyboard be dismissed when messaged is touched */\n      dismissKeyboardOnMessageTouch: PropTypes.bool,\n      eventHistory: PropTypes.object,\n      /** Helper function to mark current channel as read. */\n      markRead: PropTypes.func,\n      /**\n       * Handler to open the thread on message. This is callback for touch event for replies button.\n       *\n       * @param message A message object to open the thread upon.\n       * */\n      onThreadSelect: PropTypes.func,\n      /**\n       *  This method gets called when user selects edit action on some message. On code level it just sets `editing` property in state to message being edited\n       *\n       * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is being edited\n       */\n      setEditingState: PropTypes.func,\n      /** Function to clear the editing state. */\n      clearEditingState: PropTypes.func,\n      /**\n       * A message object which is currently in edit state.\n       */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      loadMore: PropTypes.func,\n      /**\n       * Typing indicator UI component to render\n       *\n       * Defaults to and accepts same props as: [TypingIndicator](https://getstream.github.io/stream-chat-react-native/#typingindicator)\n       * */\n      TypingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * @deprecated User DateSeperator instead.\n       * Date separator UI component to render\n       *\n       * Defaults to and accepts same props as: [DateSeparator](https://getstream.github.io/stream-chat-react-native/#dateseparator)\n       * */\n      dateSeparator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Date separator UI component to render\n       *\n       * Defaults to and accepts same props as: [DateSeparator](https://getstream.github.io/stream-chat-react-native/#dateseparator)\n       * */\n      DateSeparator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * @deprecated User EventIndicator instead.\n       *\n       * UI Component to display following events in messagelist\n       *\n       * 1. member.added\n       * 2. member.removed\n       *\n       * Defaults to and accepts same props as: [EventIndicator](https://getstream.github.io/stream-chat-react-native/#eventindicator)\n       * */\n      eventIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * UI Component to display following events in messagelist\n       *\n       * 1. member.added\n       * 2. member.removed\n       *\n       * Defaults to and accepts same props as: [EventIndicator](https://getstream.github.io/stream-chat-react-native/#eventindicator)\n       * */\n      EventIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n\n      /** UI component for empty message list */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * @deprecated Use HeaderComponent instead.\n       *\n       * UI component for header of message list.\n       */\n      headerComponent: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * UI component for header of message list. By default message list doesn't have any header.\n       * This is basically a [ListFooterComponent](https://facebook.github.io/react-native/docs/flatlist#listheadercomponent) of FlatList\n       * used in MessageList. Its footer instead of header, since message list is inverted.\n       *\n       */\n      HeaderComponent: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /**\n       * Style object for actionsheet (used to message actions).\n       * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n       */\n      actionSheetStyles: PropTypes.object,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of MessageList component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * e.g.\n       * ```\n       * <MessageList\n       *  additionalFlatListProps={{ bounces: true, keyboardDismissMode: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n      DateSeparator,\n      EventIndicator,\n      disableWhileEditing: true,\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      messageGrouping: true,\n      additionalFlatListProps: {},\n      dismissKeyboardOnMessageTouch: true,\n      TypingIndicator,\n    };\n\n    componentDidUpdate(prevProps) {\n      if (this.props.online !== prevProps.online) {\n        this.setState({ online: this.props.online });\n      }\n\n      // handle new messages being sent/received\n      const currentLastMessage = this.props.messages[\n        this.props.messages.length - 1\n      ];\n      const previousLastMessage =\n        prevProps.messages[prevProps.messages.length - 1];\n      if (!previousLastMessage || !currentLastMessage) {\n        return;\n      }\n\n      const hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n      const userScrolledUp = this.yOffset > 0;\n      const isOwner = currentLastMessage.user.id === this.props.client.userID;\n\n      let scrollToBottom = false;\n\n      // always scroll down when it's your own message that you added...\n      if (hasNewMessage && isOwner) {\n        scrollToBottom = true;\n      } else if (hasNewMessage && !userScrolledUp) {\n        scrollToBottom = true;\n      }\n\n      // Check the scroll position... if you're scrolled up show a little notification\n      if (\n        !scrollToBottom &&\n        hasNewMessage &&\n        !this.state.newMessagesNotification\n      ) {\n        this.setState({ newMessagesNotification: true });\n      }\n\n      if (scrollToBottom) {\n        this.flatList.scrollToIndex({ index: 0 });\n      }\n\n      // remove the scroll notification if we already scrolled down...\n      if (scrollToBottom && this.state.newMessagesNotification) {\n        this.setState({ newMessagesNotification: false });\n      }\n\n      this.getLastReceived(this.props.messages);\n    }\n\n    insertDates = (messages) => {\n      const newMessages = [];\n      if (messages.length === 0) {\n        this.props.eventHistory &&\n          this.props.eventHistory.none &&\n          this.props.eventHistory.none.forEach((e) => {\n            newMessages.push({\n              type: 'channel.event',\n              event: e,\n            });\n          });\n\n        return newMessages;\n      }\n\n      for (const [i, message] of messages.entries()) {\n        if (message.type === 'message.read' || message.deleted_at) {\n          newMessages.push(message);\n          continue;\n        }\n\n        const messageDate = message.created_at.getDay();\n        let prevMessageDate = messageDate;\n\n        if (i < messages.length - 1) {\n          prevMessageDate = messages[i + 1].created_at.getDay();\n        }\n\n        if (i === 0) {\n          newMessages.push(\n            {\n              type: 'message.date',\n              date: message.created_at,\n            },\n            message,\n          );\n        } else if (messageDate !== prevMessageDate) {\n          newMessages.push(message, {\n            type: 'message.date',\n            date: messages[i + 1].created_at,\n          });\n        } else {\n          newMessages.push(message);\n        }\n\n        const eventsNextToMessage = this.props.eventHistory[message.id];\n        if (eventsNextToMessage && eventsNextToMessage.length > 0) {\n          eventsNextToMessage.forEach((e) => {\n            newMessages.push({\n              type: 'channel.event',\n              event: e,\n            });\n          });\n        }\n      }\n\n      return newMessages;\n    };\n\n    getGroupStyles = (m) => {\n      const l = m.length;\n      const messageGroupStyles = {};\n\n      const messages = [...m];\n\n      for (let i = 0; i < l; i++) {\n        const previousMessage = messages[i - 1];\n        const message = messages[i];\n        const nextMessage = messages[i + 1];\n        const groupStyles = [];\n\n        if (message.type === 'channel.event') {\n          continue;\n        }\n\n        if (message.type === 'message.date') {\n          continue;\n        }\n\n        const userId = message.user ? message.user.id : null;\n\n        const isTopMessage =\n          !previousMessage ||\n          previousMessage.type === 'message.date' ||\n          previousMessage.type === 'system' ||\n          previousMessage.type === 'channel.event' ||\n          (previousMessage.attachments &&\n            previousMessage.attachments.length !== 0) ||\n          userId !== previousMessage.user.id ||\n          previousMessage.type === 'error' ||\n          previousMessage.deleted_at;\n\n        const isBottomMessage =\n          !nextMessage ||\n          nextMessage.type === 'message.date' ||\n          nextMessage.type === 'system' ||\n          nextMessage.type === 'channel.event' ||\n          (nextMessage.attachments && nextMessage.attachments.length !== 0) ||\n          userId !== nextMessage.user.id ||\n          nextMessage.type === 'error' ||\n          nextMessage.deleted_at;\n\n        if (isTopMessage) {\n          groupStyles.push('top');\n        }\n\n        if (isBottomMessage) {\n          if (isTopMessage || message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.push('bottom');\n          }\n        }\n\n        if (!isTopMessage && !isBottomMessage) {\n          if (message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('middle');\n          }\n        }\n\n        if (message.attachments.length !== 0) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        if (this.props.noGroupByUser) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        messageGroupStyles[message.id] = groupStyles;\n      }\n\n      return messageGroupStyles;\n    };\n\n    goToNewMessages = () => {\n      this.setState({\n        newMessagesNotification: false,\n      });\n      this.flatList.scrollToIndex({ index: 0 });\n      if (!this.props.threadList) this.props.markRead();\n    };\n\n    getLastReceived = (messages) => {\n      const l = messages.length;\n      let lastReceivedId = null;\n\n      for (let i = l; i > 0; i--) {\n        if (\n          messages[i] !== undefined &&\n          messages[i].status !== undefined &&\n          messages[i].status === 'received'\n        ) {\n          lastReceivedId = messages[i].id;\n          break;\n        }\n      }\n\n      if (this.state.lastReceivedId !== lastReceivedId) {\n        this.setState({ lastReceivedId });\n      }\n    };\n\n    getReadStates = (messages) => {\n      // create object with empty array for each message id\n      const readData = {};\n\n      for (const message of messages) {\n        readData[message.id] = [];\n      }\n\n      for (const readState of Object.values(this.props.read)) {\n        if (readState.last_read == null) {\n          break;\n        }\n        let userLastReadMsgId;\n        for (const msg of messages) {\n          if (msg.updated_at < readState.last_read) {\n            userLastReadMsgId = msg.id;\n          }\n        }\n        if (userLastReadMsgId != null) {\n          readData[userLastReadMsgId] = [\n            ...readData[userLastReadMsgId],\n            readState.user,\n          ];\n        }\n      }\n      return readData;\n    };\n\n    renderItem = (message, groupStyles) => {\n      if (message.type === 'message.date') {\n        const DateSeparator =\n          this.props.dateSeparator || this.props.DateSeparator;\n        return <DateSeparator message={message} />;\n      } else if (message.type === 'channel.event') {\n        const EventIndicator =\n          this.props.eventIndicator || this.props.EventIndicator;\n        return <EventIndicator event={message.event} />;\n      } else if (message.type !== 'message.read') {\n        const readBy = this.readData[message.id] || [];\n        return (\n          <Message\n            client={this.props.client}\n            channel={this.props.channel}\n            onThreadSelect={this.props.onThreadSelect}\n            message={message}\n            groupStyles={groupStyles}\n            Message={this.props.Message}\n            Attachment={this.props.Attachment}\n            readBy={readBy}\n            lastReceivedId={\n              this.state.lastReceivedId === message.id\n                ? this.state.lastReceivedId\n                : null\n            }\n            onMessageTouch={this.props.onMessageTouch}\n            dismissKeyboardOnMessageTouch={\n              this.props.dismissKeyboardOnMessageTouch\n            }\n            setEditingState={this.props.setEditingState}\n            editing={this.props.editing}\n            threadList={this.props.threadList}\n            messageActions={this.props.messageActions}\n            updateMessage={this.props.updateMessage}\n            removeMessage={this.props.removeMessage}\n            retrySendMessage={this.props.retrySendMessage}\n            openThread={this.props.openThread}\n            emojiData={this.props.emojiData}\n            actionSheetStyles={this.props.actionSheetStyles}\n            AttachmentFileIcon={this.props.AttachmentFileIcon}\n          />\n        );\n      }\n    };\n\n    handleScroll = (event) => {\n      const yOffset = event.nativeEvent.contentOffset.y;\n      const removeNewMessageNotification = yOffset <= 0;\n      if (\n        !this.props.threadList &&\n        removeNewMessageNotification &&\n        this.props.channel.countUnread() > 0\n      )\n        this.props.markRead();\n\n      this.yOffset = yOffset;\n      this.setState((prevState) => ({\n        newMessagesNotification: removeNewMessageNotification\n          ? false\n          : prevState.newMessagesNotification,\n      }));\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"message\" />;\n    };\n\n    render() {\n      const hasEventHistory =\n        this.props.eventHistory &&\n        Object.keys(this.props.eventHistory).length > 0;\n\n      // We can't provide ListEmptyComponent to FlatList when inverted flag is set.\n      // https://github.com/facebook/react-native/issues/21196\n      if (\n        this.props.messages &&\n        this.props.messages.length === 0 &&\n        !hasEventHistory &&\n        !this.props.threadList\n      ) {\n        return <View style={{ flex: 1 }}>{this.renderEmptyState()}</View>;\n      }\n\n      const TypingIndicator = this.props.TypingIndicator;\n      const HeaderComponent =\n        this.props.headerComponent || this.props.HeaderComponent;\n      const messagesWithDates = this.insertDates(this.props.messages);\n      const messageGroupStyles = this.getGroupStyles(messagesWithDates);\n      this.readData = this.getReadStates(messagesWithDates);\n      messagesWithDates.reverse();\n\n      const typing = Object.values(this.props.typing);\n      let showTypingIndicator;\n      if (\n        typing.length === 0 ||\n        (typing.length === 1 && typing[0].user.id === this.props.client.user.id)\n      ) {\n        showTypingIndicator = false;\n      } else {\n        showTypingIndicator = true;\n      }\n\n      return (\n        <React.Fragment>\n          {// Mask for edit state\n          this.props.editing && this.props.disableWhileEditing && (\n            <TouchableOpacity\n              style={{\n                position: 'absolute',\n                backgroundColor: 'black',\n                opacity: 0.4,\n                height: '100%',\n                width: '100%',\n                zIndex: 100,\n              }}\n              collapsable={false}\n              onPress={this.props.clearEditingState}\n            />\n          )}\n          <View\n            collapsable={false}\n            style={{ flex: 1, alignItems: 'center', width: '100%' }}\n          >\n            <ListContainer\n              ref={(fl) => (this.flatList = fl)}\n              data={messagesWithDates}\n              onScroll={this.handleScroll}\n              ListFooterComponent={HeaderComponent}\n              onEndReached={this.props.loadMore}\n              inverted\n              keyboardShouldPersistTaps=\"always\"\n              keyExtractor={(item) =>\n                item.id ||\n                item.created_at ||\n                (item.date ? item.date.toISOString() : false) ||\n                uuidv4()\n              }\n              renderItem={({ item: message }) =>\n                this.renderItem(message, messageGroupStyles[message.id])\n              }\n              maintainVisibleContentPosition={{\n                minIndexForVisible: 1,\n                autoscrollToTopThreshold: 10,\n              }}\n              {...this.props.additionalFlatListProps}\n            />\n            {this.props.TypingIndicator && showTypingIndicator && (\n              <TypingIndicatorContainer>\n                <TypingIndicator\n                  typing={this.props.typing}\n                  client={this.props.client}\n                />\n              </TypingIndicatorContainer>\n            )}\n            {this.state.newMessagesNotification && (\n              <MessageNotification\n                showNotification={this.state.newMessagesNotification}\n                onPress={this.goToNewMessages}\n              />\n            )}\n            {!this.state.online && (\n              <ErrorNotification>\n                <ErrorNotificationText>\n                  Connection failure, reconnecting now ...\n                </ErrorNotificationText>\n              </ErrorNotification>\n            )}\n          </View>\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { MessageList };\n","const img = require('.//images/icons/icon_edit.png'); export default img;","const img = require('.//images/icons/icon_new_message.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport iconEdit from '../images/icons/icon_edit.png';\nimport iconSendNewMessage from '../images/icons/icon_new_message.png';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.TouchableOpacity`\n  margin-left: 8;\n  ${({ theme }) => theme.messageInput.sendButton.css}\n`;\n\nconst SendButtonIcon = styled.Image`\n  width: 15;\n  height: 15;\n  ${({ theme }) => theme.messageInput.sendButtonIcon.css}\n`;\n\n/**\n * UI Component for send button in MessageInput component.\n *\n * @extends PureComponent\n * @example ./docs/SendButton.md\n */\nexport const SendButton = themed(\n  class SendButton extends React.PureComponent {\n    static themePath = 'messageInput';\n    static propTypes = {\n      title: PropTypes.string,\n      /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /** Function that sends message */\n      sendMessage: PropTypes.func.isRequired,\n    };\n    render() {\n      const { sendMessage, editing, title } = this.props;\n      return (\n        <Container title={title} onPress={sendMessage}>\n          {editing ? (\n            <SendButtonIcon source={iconEdit} />\n          ) : (\n            <SendButtonIcon source={iconSendNewMessage} />\n          )}\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/plus-outline.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport iconAddAttachment from '../images/icons/plus-outline.png';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.TouchableOpacity`\n  margin-right: 8;\n  ${({ theme }) => theme.messageInput.attachButton.css}\n`;\n\nconst AttachButtonIcon = styled.Image`\n  width: 15;\n  height: 15;\n  ${({ theme }) => theme.messageInput.attachButtonIcon.css}\n`;\n\n/**\n * UI Component for attach button in MessageInput component.\n *\n * @extends PureComponent\n * @example ./docs/AttachButton.md\n */\nexport const AttachButton = themed(\n  class AttachButton extends React.PureComponent {\n    static themePath = 'messageInput';\n    static propTypes = {\n      handleOnPress: PropTypes.func,\n    };\n\n    render() {\n      const { handleOnPress } = this.props;\n      return (\n        <Container onPress={handleOnPress}>\n          <AttachButtonIcon source={iconAddAttachment} />\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/icon_attach-media.png'); export default img;","const img = require('.//images/icons/icon_folder.png'); export default img;","const img = require('.//images/icons/icon_close.png'); export default img;","import React, { PureComponent } from 'react';\nimport { View, Text } from 'react-native';\nimport {\n  withChannelContext,\n  withSuggestionsContext,\n  withKeyboardContext,\n} from '../context';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport { ImageUploadPreview } from './ImageUploadPreview';\nimport { FileUploadPreview } from './FileUploadPreview';\nimport { IconSquare } from './IconSquare';\nimport { pickImage, pickDocument } from '../native';\nimport { lookup } from 'mime-types';\nimport Immutable from 'seamless-immutable';\nimport { FileState, ACITriggerSettings } from '../utils';\nimport PropTypes from 'prop-types';\nimport uniq from 'lodash/uniq';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { SendButton } from './SendButton';\nimport { AttachButton } from './AttachButton';\n\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\n// import iconMedia from '../images/icons/icon_attach-media.png';\n\nimport iconGallery from '../images/icons/icon_attach-media.png';\nimport iconFolder from '../images/icons/icon_folder.png';\nimport iconClose from '../images/icons/icon_close.png';\nimport { AutoCompleteInput } from './AutoCompleteInput';\n\n// https://stackoverflow.com/a/6860916/2570866\nfunction generateRandomId() {\n  // prettier-ignore\n  return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nconst Container = styled(({ padding, ...rest }) => <View {...rest} />)`\n  display: flex;\n  flex-direction: column;\n  border-radius: 10;\n  background-color: rgba(0, 0, 0, 0.05);\n  padding-top: ${({ theme, padding }) =>\n    padding ? theme.messageInput.container.conditionalPadding : 0}px;\n  margin-left: 10px;\n  margin-right: 10px;\n  ${({ theme }) => theme.messageInput.container.css}\n`;\n\nconst InputBoxContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  padding-left: 10px;\n  padding-right: 10px;\n  min-height: 46;\n  margin: 10px;\n  align-items: center;\n  ${({ theme }) => theme.messageInput.inputBoxContainer.css}\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-left: 20;\n  padding-right: 20;\n  ${({ theme }) => theme.messageInput.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.actionSheet.titleText.css};\n`;\n\nconst ActionSheetButtonContainer = styled.View`\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  padding-left: 20;\n  ${({ theme }) => theme.messageInput.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  ${({ theme }) => theme.messageInput.actionSheet.buttonText.css};\n`;\n\n/**\n * UI Component for message input\n * Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n * and [Keyboard Context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext)\n *\n * @example ./docs/MessageInput.md\n * @extends PureComponent\n */\nconst MessageInput = withKeyboardContext(\n  withSuggestionsContext(\n    withChannelContext(\n      themed(\n        class MessageInput extends PureComponent {\n          constructor(props) {\n            super(props);\n            const state = this.getMessageDetailsForState(props.editing);\n            this.state = { ...state };\n          }\n\n          static themePath = 'messageInput';\n          static propTypes = {\n            /**\n             * Override image upload request\n             *\n             * @param file    File object - {uri: ''}\n             * @param channel Current channel object\n             * */\n            doImageUploadRequest: PropTypes.func,\n            /**\n             * Override file upload request\n             *\n             * @param file    File object - {uri: '', name: ''}\n             * @param channel Current channel object\n             * */\n            doDocUploadRequest: PropTypes.func,\n            /** Limit on allowed number of files to attach at a time. */\n            maxNumberOfFiles: PropTypes.number,\n            /** If component should have image picker functionality  */\n            hasImagePicker: PropTypes.bool,\n            /** @see See [keyboard context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext) */\n            dismissKeyboard: PropTypes.func,\n            /** If component should have file picker functionality  */\n            hasFilePicker: PropTypes.bool,\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            members: PropTypes.object,\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            watchers: PropTypes.object,\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            clearEditingState: PropTypes.func,\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            client: PropTypes.object,\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            sendMessage: PropTypes.func,\n            /** Parent message object - in case of thread */\n            parent: PropTypes.object,\n            /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n            channel: PropTypes.object,\n            /**\n             * Ref callback to set reference on input box container\n             * @see See [keyboard context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext)\n             * */\n            setInputBoxContainerRef: PropTypes.func,\n            /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n            openSuggestions: PropTypes.func,\n            /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n            closeSuggestions: PropTypes.func,\n            /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n            updateSuggestions: PropTypes.func,\n            /**\n             * Custom UI component for send button.\n             *\n             * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react-native/#sendbutton)\n             * */\n            SendButton: PropTypes.oneOfType([\n              PropTypes.node,\n              PropTypes.elementType,\n            ]),\n            /**\n             * Custom UI component for attach button.\n             *\n             * Defaults to and accepts same props as: [AttachButton](https://getstream.github.io/stream-chat-react-native/#attachbutton)\n             * */\n            AttachButton: PropTypes.oneOfType([\n              PropTypes.node,\n              PropTypes.elementType,\n            ]),\n            /**\n             * Additional props for underlying TextInput component. These props will be forwarded as it is to TextInput component.\n             *\n             * @see See https://facebook.github.io/react-native/docs/textinput#reference\n             */\n            additionalTextInputProps: PropTypes.object,\n            /**\n             * Style object for actionsheet (used for option to choose file attachment or photo attachment).\n             * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n             */\n            actionSheetStyles: PropTypes.object,\n            /**\n             * Custom UI component for attachment icon for type 'file' attachment in preview.\n             * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n             */\n            AttachmentFileIcon: PropTypes.oneOfType([\n              PropTypes.node,\n              PropTypes.elementType,\n            ]),\n          };\n\n          static defaultProps = {\n            hasImagePicker: true,\n            hasFilePicker: true,\n            SendButton,\n            AttachButton,\n          };\n\n          getMessageDetailsForState = (message) => {\n            const imageOrder = [];\n            const imageUploads = {};\n            const fileOrder = [];\n            const fileUploads = {};\n            const attachments = [];\n            let mentioned_users = [];\n            let text = '';\n\n            if (message) {\n              text = message.text;\n              for (const attach of message.attachments) {\n                if (attach.type === 'image') {\n                  const id = generateRandomId();\n                  imageOrder.push(id);\n                  imageUploads[id] = {\n                    id,\n                    url: attach.image_url,\n                    state: 'finished',\n                    file: { name: attach.fallback },\n                  };\n                } else if (attach.type === 'file') {\n                  const id = generateRandomId();\n                  fileOrder.push(id);\n                  fileUploads[id] = {\n                    id,\n                    url: attach.asset_url,\n                    state: 'finished',\n                    file: {\n                      name: attach.title,\n                      type: attach.mime_type,\n                      size: attach.file_size,\n                    },\n                  };\n                } else {\n                  attachments.push(attach);\n                }\n              }\n\n              if (message.mentioned_users) {\n                mentioned_users = [...message.mentioned_users];\n              }\n            }\n            return {\n              text,\n              attachments,\n              imageOrder,\n              imageUploads: Immutable(imageUploads),\n              fileOrder,\n              fileUploads: Immutable(fileUploads),\n              mentioned_users,\n              numberOfUploads: 0,\n            };\n          };\n\n          getUsers = () => {\n            const users = [];\n            const members = this.props.members;\n            const watchers = this.props.watchers;\n            if (members && Object.values(members).length) {\n              Object.values(members).forEach((member) =>\n                users.push(member.user),\n              );\n            }\n\n            if (watchers && Object.values(watchers).length) {\n              users.push(...Object.values(watchers));\n            }\n\n            // make sure we don't list users twice\n            const userMap = {};\n            for (const user of users) {\n              if (user !== undefined && !userMap[user.id]) {\n                userMap[user.id] = user;\n              }\n            }\n            const usersArray = Object.values(userMap);\n            return usersArray;\n          };\n\n          componentDidMount() {\n            if (this.props.editing) this.inputBox.focus();\n          }\n\n          componentDidUpdate(prevProps) {\n            if (this.props.editing) this.inputBox.focus();\n            if (\n              this.props.editing &&\n              prevProps.editing &&\n              this.props.editing.id === prevProps.editing.id\n            ) {\n              return;\n            }\n\n            if (this.props.editing && !prevProps.editing) {\n              this.setState(this.getMessageDetailsForState(this.props.editing));\n            }\n\n            if (\n              this.props.editing &&\n              prevProps.editing &&\n              this.props.editing.id !== prevProps.editing.id\n            ) {\n              this.setState(this.getMessageDetailsForState(this.props.editing));\n            }\n\n            if (!this.props.editing && prevProps.editing) {\n              this.setState(this.getMessageDetailsForState());\n            }\n          }\n\n          onSelectItem = (item) => {\n            this.setState((prevState) => ({\n              mentioned_users: [...prevState.mentioned_users, item.id],\n            }));\n          };\n\n          sendMessage = () => {\n            const attachments = [];\n            for (const id of this.state.imageOrder) {\n              const image = this.state.imageUploads[id];\n              if (!image || image.state === FileState.UPLOAD_FAILED) {\n                continue;\n              }\n              if (image.state === FileState.UPLOADING) {\n                // TODO: show error to user that they should wait until image is uploaded\n                return;\n              }\n              attachments.push({\n                type: 'image',\n                image_url: image.url,\n                fallback: image.file.name,\n              });\n            }\n\n            for (const id of this.state.fileOrder) {\n              const upload = this.state.fileUploads[id];\n              if (!upload || upload.state === FileState.UPLOAD_FAILED) {\n                continue;\n              }\n              if (upload.state === FileState.UPLOADING) {\n                // TODO: show error to user that they should wait until image is uploaded\n                return;\n              }\n              attachments.push({\n                type: 'file',\n                asset_url: upload.url,\n                title: upload.file.name,\n                mime_type: upload.file.type,\n                file_size: upload.file.size,\n              });\n            }\n\n            // Disallow sending message if its empty.\n            if (!this.state.text && attachments.length === 0) return;\n\n            if (this.props.editing) {\n              const updatedMessage = { ...this.props.editing };\n\n              updatedMessage.text = this.state.text;\n              updatedMessage.attachments = attachments;\n              updatedMessage.mentioned_users = this.state.mentioned_users.map(\n                (mu) => mu.id,\n              );\n              // TODO: Remove this line and show an error when submit fails\n              this.props.clearEditingState();\n\n              const updateMessagePromise = this.props\n                .editMessage(updatedMessage)\n                .then(this.props.clearEditingState);\n              logChatPromiseExecution(updateMessagePromise, 'update message');\n            } else {\n              try {\n                this.props.sendMessage({\n                  text: this.state.text,\n                  parent: this.props.parent,\n                  mentioned_users: uniq(this.state.mentioned_users),\n                  attachments,\n                });\n                this.setState({\n                  text: '',\n                  imageUploads: Immutable({}),\n                  imageOrder: Immutable([]),\n                  fileUploads: Immutable({}),\n                  fileOrder: Immutable([]),\n                  mentioned_users: [],\n                });\n              } catch (err) {\n                console.log('Fialed');\n              }\n            }\n          };\n\n          updateMessage = async () => {\n            try {\n              await this.props.client.editMessage({\n                ...this.props.editing,\n                text: this.state.text,\n              });\n\n              this.setState({ text: '' });\n              this.props.clearEditingState();\n            } catch (err) {\n              console.log(err);\n            }\n          };\n\n          // https://stackoverflow.com/a/29234240/7625485\n          constructTypingString = (dict) => {\n            const arr2 = Object.keys(dict);\n            const arr3 = [];\n            arr2.forEach((item, i) => {\n              if (this.props.client.user.id === dict[arr2[i]].user.id) {\n                return;\n              }\n              arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n            });\n            let outStr = '';\n            if (arr3.length === 1) {\n              outStr = arr3[0] + ' is typing...';\n              dict;\n            } else if (arr3.length === 2) {\n              //joins all with \"and\" but =no commas\n              //example: \"bob and sam\"\n              outStr = arr3.join(' and ') + ' are typing...';\n            } else if (arr3.length > 2) {\n              //joins all with commas, but last one gets \", and\" (oxford comma!)\n              //example: \"bob, joe, and sam\"\n              outStr =\n                arr3.slice(0, -1).join(', ') +\n                ', and ' +\n                arr3.slice(-1) +\n                ' are typing...';\n            }\n\n            return outStr;\n          };\n\n          _pickFile = async () => {\n            if (\n              this.props.maxNumberOfFiles &&\n              this.state.numberOfUploads >= this.props.maxNumberOfFiles\n            )\n              return;\n\n            const result = await pickDocument();\n            if (result.type === 'cancel' || result.cancelled) {\n              return;\n            }\n            const mimeType = lookup(result.name);\n\n            if (mimeType.startsWith('image/')) {\n              this.uploadNewImage(result);\n            } else {\n              this.uploadNewFile(result);\n            }\n          };\n\n          uploadNewFile = (file) => {\n            const id = generateRandomId();\n            const mimeType = lookup(file.name);\n            /* eslint-disable */\n            this.setState((prevState) => {\n              return {\n                numberOfUploads: prevState.numberOfUploads + 1,\n                fileOrder: prevState.fileOrder.concat([id]),\n                fileUploads: prevState.fileUploads.setIn([id], {\n                  id,\n                  file: { ...file, type: mimeType },\n                  state: FileState.UPLOADING,\n                }),\n              };\n            });\n            /* eslint-enable */\n\n            this._uploadFile(id);\n          };\n\n          _uploadFile = async (id) => {\n            const doc = this.state.fileUploads[id];\n            if (!doc) {\n              return;\n            }\n            const { file } = doc;\n\n            await this.setState((prevState) => ({\n              fileUploads: prevState.fileUploads.setIn(\n                [id, 'state'],\n                FileState.UPLOADING,\n              ),\n            }));\n\n            let response = {};\n            response = {};\n            try {\n              if (this.props.doDocUploadRequest) {\n                response = await this.props.doDocUploadRequest(\n                  file,\n                  this.props.channel,\n                );\n              } else {\n                response = await this.props.channel.sendFile(file.uri);\n              }\n            } catch (e) {\n              console.warn(e);\n              await this.setState((prevState) => {\n                const image = prevState.fileUploads[id];\n                if (!image) {\n                  return {\n                    numberOfUploads: prevState.numberOfUploads - 1,\n                  };\n                }\n                return {\n                  fileUploads: prevState.fileUploads.setIn(\n                    [id, 'state'],\n                    FileState.UPLOAD_FAILED,\n                  ),\n                  numberOfUploads: prevState.numberOfUploads - 1,\n                };\n              });\n\n              return;\n            }\n\n            this.setState((prevState) => ({\n              fileUploads: prevState.fileUploads\n                .setIn([id, 'state'], FileState.UPLOADED)\n                .setIn([id, 'url'], response.file),\n            }));\n          };\n\n          _pickImage = async () => {\n            if (\n              this.props.maxNumberOfFiles &&\n              this.state.numberOfUploads >= this.props.maxNumberOfFiles\n            )\n              return;\n\n            const result = await pickImage();\n            if (result.cancelled) {\n              return;\n            }\n\n            this.uploadNewImage(result);\n          };\n\n          uploadNewImage = (image) => {\n            const id = generateRandomId();\n            /* eslint-disable */\n            this.setState((prevState) => {\n              return {\n                numberOfUploads: prevState.numberOfUploads + 1,\n                imageOrder: prevState.imageOrder.concat([id]),\n                imageUploads: prevState.imageUploads.setIn([id], {\n                  id,\n                  file: image,\n                  state: FileState.UPLOADING,\n                }),\n              };\n            });\n            /* eslint-enable */\n\n            this._uploadImage(id);\n          };\n\n          _removeImage = (id) => {\n            this.setState((prevState) => {\n              const img = prevState.imageUploads[id];\n              if (!img) {\n                return {};\n              }\n              return {\n                numberOfUploads: prevState.numberOfUploads - 1,\n                imageUploads: prevState.imageUploads.set(id, undefined), // remove\n                imageOrder: prevState.imageOrder.filter((_id) => id !== _id),\n              };\n            });\n          };\n\n          _removeFile = (id) => {\n            this.setState((prevState) => {\n              const file = prevState.fileUploads[id];\n              if (!file) {\n                return {};\n              }\n              return {\n                numberOfUploads: prevState.numberOfUploads - 1,\n                fileUploads: prevState.fileUploads.set(id, undefined), // remove\n                fileOrder: prevState.fileOrder.filter((_id) => id !== _id),\n              };\n            });\n          };\n\n          _uploadImage = async (id) => {\n            const img = this.state.imageUploads[id];\n            if (!img) {\n              return;\n            }\n            const { file } = img;\n\n            await this.setState((prevState) => ({\n              imageUploads: prevState.imageUploads.setIn(\n                [id, 'state'],\n                FileState.UPLOADING,\n              ),\n            }));\n\n            let response = {};\n            response = {};\n\n            const filename = (file.name || file.uri).replace(\n              /^(file:\\/\\/|content:\\/\\/)/,\n              '',\n            );\n            const contentType = lookup(filename) || 'application/octet-stream';\n\n            try {\n              if (this.props.doImageUploadRequest) {\n                response = await this.props.doImageUploadRequest(\n                  file,\n                  this.props.channel,\n                );\n              } else {\n                response = await this.props.channel.sendImage(\n                  file.uri,\n                  null,\n                  contentType,\n                );\n              }\n            } catch (e) {\n              console.warn(e);\n              await this.setState((prevState) => {\n                const image = prevState.imageUploads[id];\n                if (!image) {\n                  return {\n                    numberOfUploads: prevState.numberOfUploads - 1,\n                  };\n                }\n\n                return {\n                  imageUploads: prevState.imageUploads.setIn(\n                    [id, 'state'],\n                    FileState.UPLOAD_FAILED,\n                  ),\n                  numberOfUploads: prevState.numberOfUploads - 1,\n                };\n              });\n\n              return;\n            }\n            this.setState((prevState) => ({\n              imageUploads: prevState.imageUploads\n                .setIn([id, 'state'], FileState.UPLOADED)\n                .setIn([id, 'url'], response.file),\n            }));\n          };\n\n          onChange = (text) => {\n            this.setState({ text });\n\n            if (text) {\n              logChatPromiseExecution(\n                this.props.channel.keystroke(),\n                'start typing event',\n              );\n            }\n          };\n\n          setInputBoxRef = (o) => (this.inputBox = o);\n\n          getCommands = () => {\n            const config = this.props.channel.getConfig();\n\n            if (!config) return [];\n\n            const allCommands = config.commands;\n            return allCommands;\n          };\n\n          closeAttachActionSheet = () => {\n            this.attachActionSheet.hide();\n          };\n          render() {\n            const {\n              hasImagePicker,\n              hasFilePicker,\n              SendButton,\n              AttachButton,\n            } = this.props;\n            let editingBoxStyles = {};\n            if (this.props.editing) {\n              editingBoxStyles = {\n                paddingLeft: 0,\n                paddingRight: 0,\n                shadowColor: 'gray',\n                shadowOpacity: 0.5,\n                shadowOffset: { width: 1, height: -3 },\n                zIndex: 100,\n                backgroundColor: 'white',\n              };\n            }\n            return (\n              <React.Fragment>\n                <View style={editingBoxStyles}>\n                  {this.props.editing && (\n                    <View\n                      style={{\n                        flexDirection: 'row',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                        padding: 10,\n                      }}\n                    >\n                      <Text style={{ fontWeight: 'bold' }}>\n                        Editing Message\n                      </Text>\n                      <IconSquare\n                        onPress={() => {\n                          this.props.clearEditingState();\n                        }}\n                        icon={iconClose}\n                      />\n                    </View>\n                  )}\n\n                  <Container padding={this.state.imageUploads.length > 0}>\n                    {this.state.fileUploads && (\n                      <FileUploadPreview\n                        removeFile={this._removeFile}\n                        retryUpload={this._uploadFile}\n                        fileUploads={this.state.fileOrder.map(\n                          (id) => this.state.fileUploads[id],\n                        )}\n                        AttachmentFileIcon={this.props.AttachmentFileIcon}\n                      />\n                    )}\n                    {this.state.imageUploads && (\n                      <ImageUploadPreview\n                        removeImage={this._removeImage}\n                        retryUpload={this._uploadImage}\n                        imageUploads={this.state.imageOrder.map(\n                          (id) => this.state.imageUploads[id],\n                        )}\n                      />\n                    )}\n                    <InputBoxContainer ref={this.props.setInputBoxContainerRef}>\n                      <AttachButton\n                        handleOnPress={async () => {\n                          if (hasImagePicker && hasFilePicker) {\n                            await this.props.dismissKeyboard();\n                            this.attachActionSheet.show();\n                          } else if (hasImagePicker && !hasFilePicker)\n                            this._pickImage();\n                          else if (!hasImagePicker && hasFilePicker)\n                            this._pickFile();\n                        }}\n                      />\n                      {/**\n                    TODO: Use custom action sheet to show icon with titles of button. But it doesn't\n                    work well with async onPress operations. So find a solution.\n                  */}\n\n                      <ActionSheet\n                        ref={(o) => (this.attachActionSheet = o)}\n                        title={\n                          <ActionSheetTitleContainer>\n                            <ActionSheetTitleText>\n                              Add a file\n                            </ActionSheetTitleText>\n                            <IconSquare\n                              icon={iconClose}\n                              onPress={this.closeAttachActionSheet}\n                            />\n                          </ActionSheetTitleContainer>\n                        }\n                        options={[\n                          /* eslint-disable */\n                          <AttachmentActionSheetItem\n                            icon={iconGallery}\n                            text=\"Upload a photo\"\n                          />,\n                          <AttachmentActionSheetItem\n                            icon={iconFolder}\n                            text=\"Upload a file\"\n                          />,\n                          /* eslint-enable */\n                        ]}\n                        onPress={(index) => {\n                          // https://github.com/beefe/react-native-actionsheet/issues/36\n                          setTimeout(() => {\n                            switch (index) {\n                              case 0:\n                                this._pickImage();\n                                break;\n                              case 1:\n                                this._pickFile();\n                                break;\n                              default:\n                            }\n                          }, 1);\n                        }}\n                        styles={this.props.actionSheetStyles}\n                      />\n                      <AutoCompleteInput\n                        openSuggestions={this.props.openSuggestions}\n                        closeSuggestions={this.props.closeSuggestions}\n                        updateSuggestions={this.props.updateSuggestions}\n                        value={this.state.text}\n                        onChange={this.onChange}\n                        getCommands={this.getCommands}\n                        setInputBoxRef={this.setInputBoxRef}\n                        triggerSettings={ACITriggerSettings({\n                          users: this.getUsers(),\n                          commands: this.getCommands(),\n                          onMentionSelectItem: this.onSelectItem,\n                        })}\n                        additionalTextInputProps={\n                          this.props.additionalTextInputProps\n                        }\n                      />\n                      <SendButton\n                        title=\"Send message\"\n                        sendMessage={this.sendMessage}\n                        editing={this.props.editing}\n                      />\n                    </InputBoxContainer>\n                  </Container>\n                </View>\n              </React.Fragment>\n            );\n          }\n        },\n      ),\n    ),\n  ),\n);\n\nexport { MessageInput };\n\nconst AttachmentActionSheetItem = ({ icon, text }) => (\n  <ActionSheetButtonContainer>\n    <IconSquare icon={icon} />\n    <ActionSheetButtonText>{text}</ActionSheetButtonText>\n  </ActionSheetButtonContainer>\n);\n","import React, { PureComponent } from 'react';\nimport { Avatar } from './Avatar';\nimport truncate from 'lodash/truncate';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: row;\n  border-bottom-color: #ebebeb;\n  border-bottom-width: 1;\n  padding: 10px;\n  ${({ theme }) => theme.channelPreview.container.css}\n`;\n\nconst Details = styled.View`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding-left: 10px;\n  ${({ theme }) => theme.channelPreview.details.css}\n`;\n\nconst DetailsTop = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  ${({ theme }) => theme.channelPreview.detailsTop.css}\n`;\n\nconst Title = styled.Text`\n  font-weight: bold;\n  font-size: 14;\n  flex: 1;\n  ${({ theme }) => theme.channelPreview.title.css}\n`;\n\nconst Date = styled.Text`\n  color: #767676;\n  font-size: 11;\n  text-align: right;\n  ${({ theme }) => theme.channelPreview.date.css}\n`;\n\nconst Message = styled.Text`\n  color: ${({ theme, unread }) =>\n    unread\n      ? theme.channelPreview.message.unreadColor\n      : theme.channelPreview.message.color};\n  font-size: 13;\n  font-weight: ${({ theme, unread }) =>\n    unread\n      ? theme.channelPreview.message.unreadFontWeight\n      : theme.channelPreview.message.fontWeight};\n  ${({ theme }) => theme.channelPreview.message.css}\n`;\n\n/**\n * ChannelPreviewMessenger - UI component for individual item in list of channels.\n *\n * @example ./docs/ChannelPreviewMessenger.md\n */\nexport const ChannelPreviewMessenger = themed(\n  class ChannelPreviewMessenger extends PureComponent {\n    channelPreviewButton = React.createRef();\n    static themePath = 'channelPreview';\n\n    static propTypes = {\n      /** @see See [Chat Context](https://getstream.github.io/stream-chat-react-native/#chatcontext) */\n      setActiveChannel: PropTypes.func,\n      /** @see See [Chat Context](https://getstream.github.io/stream-chat-react-native/#chatcontext) */\n      channel: PropTypes.object,\n      /** Latest message (object) on channel */\n      latestMessage: PropTypes.object,\n      /** Number of unread messages on channel */\n      unread: PropTypes.number,\n      /** Length at which latest message should be truncated */\n      latestMessageLength: PropTypes.number,\n      /**\n       * Formatter function for date of latest message.\n       * @param date Message date\n       * @returns Formatted date string\n       *\n       * By default today's date is shown in 'HH:mm A' format and other dates\n       * are displayed in 'DD/MM/YY' format. props.latestMessage.created_at is the\n       * default formated date. This default logic is part of ChannelPreview component.\n       */\n      formatLatestMessageDate: PropTypes.func,\n    };\n\n    static defaultProps = {\n      latestMessageLength: 30,\n    };\n\n    onSelectChannel = () => {\n      this.props.setActiveChannel(this.props.channel);\n    };\n\n    renderAvatar = (otherMembers) => {\n      const { channel } = this.props;\n      if (channel.data.image)\n        return (\n          <Avatar\n            image={channel.data.image}\n            size={40}\n            name={channel.data.name}\n          />\n        );\n\n      if (otherMembers.length === 1)\n        return (\n          <Avatar\n            image={otherMembers[0].user.image}\n            size={40}\n            name={channel.data.name || otherMembers[0].user.name}\n          />\n        );\n\n      return <Avatar size={40} name={channel.data.name} />;\n    };\n\n    render() {\n      const { channel } = this.props;\n      let otherMembers = [];\n      let name = channel.data.name;\n      const isValidName = name && typeof name === 'string';\n\n      if (!isValidName) {\n        const members = channel.state\n          ? Object.values(channel.state.members)\n          : [];\n        otherMembers = members.filter(\n          (member) => member.user.id !== this.props.client.userID,\n        );\n        name = otherMembers\n          .map((member) => member.user.name || member.user.id || 'Unnamed User')\n          .join(', ');\n      }\n      const formatLatestMessageDate = this.props.formatLatestMessageDate;\n      return (\n        <Container onPress={this.onSelectChannel}>\n          {this.renderAvatar(otherMembers)}\n          <Details>\n            <DetailsTop>\n              <Title ellipsizeMode=\"tail\" numberOfLines={1}>\n                {name}\n              </Title>\n              <Date>\n                {formatLatestMessageDate\n                  ? formatLatestMessageDate(\n                      this.props.latestMessage.messageObject.created_at,\n                    )\n                  : this.props.latestMessage.created_at}\n              </Date>\n            </DetailsTop>\n            <Message\n              unread={this.props.unread > 0 ? this.props.unread : undefined}\n            >\n              {!this.props.latestMessage\n                ? 'Nothing yet...'\n                : truncate(this.props.latestMessage.text.replace(/\\n/g, ' '), {\n                    length: this.props.latestMessageLength,\n                  })}\n            </Message>\n          </Details>\n        </Container>\n      );\n    }\n  },\n);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Moment from 'moment';\n\nexport class ChannelPreview extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      unread: 0,\n      lastMessage: {},\n      lastRead: new Date(),\n    };\n  }\n\n  static propTypes = {\n    channel: PropTypes.object.isRequired,\n    client: PropTypes.object.isRequired,\n    setActiveChannel: PropTypes.func,\n    Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n  };\n\n  static defaultProps = {\n    // Preview: ChannelPreviewCountOnly,\n  };\n\n  componentDidMount() {\n    // listen to change...\n    const channel = this.props.channel;\n    this.setState({ unread: channel.countUnread() });\n    channel.on('message.new', this.handleNewMessageEvent);\n    channel.on('message.read', this.handleReadEvent);\n  }\n\n  componentWillUnmount() {\n    const channel = this.props.channel;\n    channel.off('message.new', this.handleNewMessageEvent);\n    channel.off('message.read', this.handleReadEvent);\n  }\n\n  handleReadEvent = (event) => {\n    if (event.user.id === this.props.client.userID) {\n      this.setState({ unread: this.props.channel.countUnread() });\n    }\n  };\n\n  handleNewMessageEvent = (event) => {\n    const channel = this.props.channel;\n    this.setState({\n      lastMessage: event.message,\n      unread: channel.countUnread(),\n    });\n  };\n\n  getLatestMessage = () => {\n    const { channel } = this.props;\n    const message = channel.state.messages[channel.state.messages.length - 1];\n\n    const latestMessage = {\n      text: '',\n      created_at: '',\n      messageObject: { ...message },\n    };\n\n    if (!message) {\n      latestMessage.text = 'Nothing yet...';\n      return latestMessage;\n    }\n    if (message.deleted_at) {\n      latestMessage.text = 'Message deleted';\n      return latestMessage;\n    }\n\n    if (message.text) {\n      latestMessage.text = message.text;\n    } else {\n      if (message.command) {\n        latestMessage.text = '/' + message.command;\n      } else if (message.attachments.length) {\n        latestMessage.text = '🏙 Attachment...';\n      } else {\n        latestMessage.text = 'Empty message...';\n      }\n    }\n\n    if (Moment(message.created_at).isSame(new Date(), 'day'))\n      latestMessage.created_at = Moment(message.created_at).format('HH:mm A');\n    else {\n      latestMessage.created_at = Moment(message.created_at).format('DD/MM/YY');\n    }\n\n    return latestMessage;\n  };\n\n  render() {\n    const props = { ...this.state, ...this.props };\n    const { Preview } = this.props;\n    return <Preview {...props} latestMessage={this.getLatestMessage()} />;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { ChannelPreview } from './ChannelPreview';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * ChannelListMessenger - UI component for list of channels, allowing you to select the channel you want to open\n *\n * @example ./docs/ChannelListMessenger.md\n */\nconst ChannelListMessenger = withChatContext(\n  class ChannelListMessenger extends PureComponent {\n    static propTypes = {\n      /** Channels can be either an array of channels or a promise which resolves to an array of channels */\n      channels: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.objectOf({\n          then: PropTypes.func,\n        }),\n        PropTypes.object,\n      ]).isRequired,\n      setActiveChannel: PropTypes.func,\n      /** UI Component to display individual channel item in list.\n       * Defaults to [ChannelPreviewMessenger](https://getstream.github.io/stream-chat-react-native/#channelpreviewmessenger) */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** The loading indicator to use. Default: [LoadingIndicator](https://getstream.github.io/stream-chat-react-native/#loadingindicator) */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error in fetching channels. Default: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react-native/#loadingerrorindicator) */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when channel list is empty. Default: [EmptyStateIndicator](https://getstream.github.io/stream-chat-react-native/#emptystateindicator) */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** Loads next page of channels in channels object, which is present here as prop */\n      loadNextPage: PropTypes.func,\n      /**\n       * For flatlist\n       * @see See loeadMoreThreshold [doc](https://facebook.github.io/react-native/docs/flatlist#onendreachedthreshold)\n       * */\n      loadMoreThreshold: PropTypes.number,\n      /** If there is error in querying channels */\n      error: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n      /** If channels are being queries. LoadingIndicator will be displayed if true */\n      loadingChannels: PropTypes.bool,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of ChannelListMessenger component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * e.g.\n       * ```\n       * <ChannelListMessenger\n       *  channels={channels}\n       *  additionalFlatListProps={{ bounces: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      additionalFlatListProps: {},\n    };\n\n    renderLoading = () => {\n      const Indicator = this.props.LoadingIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderLoadingError = () => {\n      const Indicator = this.props.LoadingErrorIndicator;\n      return <Indicator error={this.props.error} listType=\"channel\" />;\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderChannels = () => (\n      <FlatList\n        data={this.props.channels}\n        onEndReached={this.props.loadNextPage}\n        onEndReachedThreshold={this.props.loadMoreThreshold}\n        ListEmptyComponent={this.renderEmptyState}\n        renderItem={({ item: channel }) => (\n          <ChannelPreview\n            {...this.props}\n            key={channel.cid}\n            channel={channel}\n            Preview={this.props.Preview}\n          />\n        )}\n        keyExtractor={(item) => item.cid}\n        {...this.props.additionalFlatListProps}\n      />\n    );\n\n    render() {\n      if (this.props.error) {\n        return this.renderLoadingError();\n      } else if (this.props.loadingChannels) {\n        return this.renderLoading();\n      } else {\n        return this.renderChannels();\n      }\n    }\n  },\n);\n\nexport { ChannelListMessenger };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport uniqBy from 'lodash/uniqBy';\nimport uniqWith from 'lodash/uniqWith';\nimport isEqual from 'lodash/isEqual';\n\nexport const isPromise = (thing) => {\n  const promise = thing && typeof thing.then === 'function';\n  return promise;\n};\n\nexport const DEFAULT_QUERY_CHANNELS_LIMIT = 10;\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open.\n * This components doesn't provide any UI for the list. UI is provided by component `List` which should be\n * provided to this component as prop. By default ChannelListMessenger is used a list UI.\n *\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\nconst ChannelList = withChatContext(\n  class ChannelList extends PureComponent {\n    static propTypes = {\n      /** The Preview to use, defaults to [ChannelPreviewMessenger](https://getstream.github.io/stream-chat-react-native/#channelpreviewmessenger) */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n\n      List: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      onSelect: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when new message is received on channel that is not being watched\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.message_new` event\n       * */\n      onMessageNew: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when users gets added to a channel\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.added_to_channel` event\n       * */\n      onAddedToChannel: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when users gets removed from a channel\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.removed_from_channel` event\n       * */\n      onRemovedFromChannel: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets updated\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.updated` event\n       * */\n      onChannelUpdated: PropTypes.func,\n      /**\n       * Function to customize behaviour when channel gets truncated\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.truncated` event\n       * */\n      onChannelTruncated: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets deleted. In absence of this prop, channel will be removed from the list.\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.deleted` event\n       * */\n      onChannelDeleted: PropTypes.func,\n      /**\n       * Object containing query filters\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for filter.\n       * */\n      filters: PropTypes.object,\n      /**\n       * Object containing query options\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for options.\n       * */\n      options: PropTypes.object,\n      /**\n       * Object containing sort parameters\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for sort.\n       * */\n      sort: PropTypes.object,\n      /** For flatlist  */\n      loadMoreThreshold: PropTypes.number,\n      /** Client object. Avaiable from [Chat context](#chatcontext) */\n      client: PropTypes.object,\n      /**\n       * Function to set change active channel. This function acts as bridge between channel list and currently active channel component.\n       *\n       * @param channel A Channel object\n       */\n      setActiveChannel: PropTypes.func,\n      /**\n       * If true, channels won't be dynamically sorted by most recent message.\n       */\n      lockChannelOrder: PropTypes.bool,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of ChannelList component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * e.g.\n       * ```\n       * <ChannelList\n       *  filters={filters}\n       *  sort={sort}\n       *  additionalFlatListProps={{ bounces: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      List: ChannelListMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      filters: {},\n      options: {},\n      sort: {},\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      lockChannelOrder: false,\n      additionalFlatListProps: {},\n      logger: () => {},\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: false,\n        channels: Immutable([]),\n        channelIds: Immutable([]),\n        loadingChannels: true,\n        hasNextPage: true,\n        refreshing: false,\n        offset: 0,\n      };\n\n      this.menuButton = React.createRef();\n\n      this._queryChannelsDebounced = debounce(this.queryChannels, 1000, {\n        leading: true,\n        trailing: true,\n      });\n      this.queryActive = false;\n      this._unmounted = false;\n    }\n\n    async componentDidMount() {\n      this.props.logger('ChannelList component', 'componentDidMount', {\n        tags: ['lifecycle', 'channellist'],\n        props: this.props,\n        state: this.state,\n      });\n\n      await this._queryChannelsDebounced();\n      this.listenToChanges();\n    }\n\n    async componentDidUpdate(prevProps) {\n      // do we need deepequal?\n      if (\n        !isEqual(prevProps.filters, this.props.filters) ||\n        !isEqual(prevProps.sort, this.props.sort)\n      ) {\n        await this.setState({\n          error: false,\n          channels: Immutable([]),\n          channelIds: Immutable([]),\n          loadingChannels: true,\n          hasNextPage: true,\n          refreshing: false,\n          offset: 0,\n        });\n        await this.queryChannels();\n      }\n\n      this.props.logger('ChannelList component', 'componentDidUpdate', {\n        tags: ['lifecycle', 'channellist'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentWillUnmount() {\n      this.props.logger('ChannelList component', 'componentWillUnmount', {\n        tags: ['lifecycle', 'channellist'],\n        props: this.props,\n        state: this.state,\n      });\n\n      this._unmounted = true;\n      this.props.client.off(this.handleEvent);\n      this._queryChannelsDebounced.cancel();\n    }\n\n    static getDerivedStateFromError(error) {\n      return { error };\n    }\n\n    componentDidCatch(error, info) {\n      console.warn(error, info);\n    }\n\n    queryChannels = async (resync = false) => {\n      // Don't query again if query is already active or there are no more results.\n      if (this.queryActive || !this.state.hasNextPage) return;\n\n      this.queryActive = true;\n\n      if (this._unmounted) {\n        this.queryActive = false;\n        return;\n      }\n      const { options, filters, sort } = this.props;\n      let offset;\n\n      if (resync) {\n        offset = 0;\n        options.limit = this.state.channels.length;\n        if (this._unmounted) return;\n        this.setState({\n          offset: 0,\n        });\n      } else {\n        offset = this.state.offset;\n      }\n\n      if (this._unmounted) return;\n      this.setState({ refreshing: true });\n      this.props.logger('ChannelList component', 'queryChannels', {\n        tags: ['channellist'],\n        props: this.props,\n        state: this.state,\n        query: {\n          filters,\n          sort,\n          ...options,\n          offset,\n        },\n      });\n\n      const channelPromise = this.props.client.queryChannels(filters, sort, {\n        ...options,\n        offset,\n      });\n\n      try {\n        let channelQueryResponse = channelPromise;\n        if (isPromise(channelQueryResponse)) {\n          channelQueryResponse = await channelPromise;\n          if (offset === 0 && channelQueryResponse.length >= 1) {\n            if (this._unmounted) return;\n            this.props.setActiveChannel(channelQueryResponse[0]);\n          }\n        }\n\n        if (this._unmounted) return;\n        await this.setState((prevState) => {\n          let channels;\n          let channelIds;\n\n          if (resync) {\n            channels = [...channelQueryResponse];\n            channelIds = [...channelQueryResponse.map((c) => c.id)];\n          } else {\n            // Remove duplicate channels in worse case we get repeted channel from backend.\n            channelQueryResponse = channelQueryResponse.filter(\n              (c) => this.state.channelIds.indexOf(c.id) === -1,\n            );\n\n            channels = [...prevState.channels, ...channelQueryResponse];\n            channelIds = [\n              ...prevState.channelIds,\n              ...channelQueryResponse.map((c) => c.id),\n            ];\n          }\n\n          return {\n            channels, // not unique somehow needs more checking\n            channelIds,\n            loadingChannels: false,\n            offset: channels.length,\n            hasNextPage:\n              channelQueryResponse.length >=\n              (options.limit || DEFAULT_QUERY_CHANNELS_LIMIT)\n                ? true\n                : false,\n            refreshing: false,\n          };\n        });\n      } catch (e) {\n        console.warn(e);\n\n        if (this._unmounted) return;\n        this.setState({ error: e, refreshing: false });\n      }\n      this.queryActive = false;\n    };\n\n    listenToChanges() {\n      this.props.client.on(this.handleEvent);\n    }\n\n    handleEvent = async (e) => {\n      if (e.type === 'user.presence.changed') {\n        let newChannels = this.state.channels;\n\n        newChannels = newChannels.map((channel) => {\n          if (!channel.state.members[e.user.id]) return channel;\n\n          channel.state.members.setIn([e.user.id, 'user'], e.user);\n\n          return channel;\n        });\n\n        this.setState({ channels: [...newChannels] });\n      }\n\n      if (e.type === 'message.new') {\n        !this.props.lockChannelOrder && this.moveChannelUp(e.cid);\n      }\n\n      // make sure to re-render the channel list after connection is recovered\n      if (e.type === 'connection.recovered') {\n        this.queryChannels(true);\n      }\n\n      // move channel to start\n      if (e.type === 'notification.message_new') {\n        if (\n          this.props.onMessageNew &&\n          typeof this.props.onMessageNew === 'function'\n        ) {\n          this.props.onMessageNew(this, e);\n        } else {\n          const channel = await this.getChannel(e.channel.type, e.channel.id);\n\n          // move channel to starting position\n          if (this._unmounted) return;\n          this.setState((prevState) => ({\n            channels: uniqBy([channel, ...prevState.channels], 'cid'),\n            channelIds: uniqWith(\n              [channel.id, ...prevState.channelIds],\n              isEqual,\n            ),\n            offset: prevState.offset + 1,\n          }));\n        }\n      }\n\n      // add to channel\n      if (e.type === 'notification.added_to_channel') {\n        if (\n          this.props.onAddedToChannel &&\n          typeof this.props.onAddedToChannel === 'function'\n        ) {\n          this.props.onAddedToChannel(this, e);\n        } else {\n          const channel = await this.getChannel(e.channel.type, e.channel.id);\n\n          if (this._unmounted) return;\n          this.setState((prevState) => ({\n            channels: uniqBy([channel, ...prevState.channels], 'cid'),\n            channelIds: uniqWith(\n              [channel.id, ...prevState.channelIds],\n              isEqual,\n            ),\n            offset: prevState.offset + 1,\n          }));\n        }\n      }\n\n      // remove from channel\n      if (e.type === 'notification.removed_from_channel') {\n        if (\n          this.props.onRemovedFromChannel &&\n          typeof this.props.onRemovedFromChannel === 'function'\n        ) {\n          this.props.onRemovedFromChannel(this, e);\n        } else {\n          if (this._unmounted) return;\n          this.setState((prevState) => {\n            const channels = prevState.channels.filter(\n              (channel) => channel.cid !== e.channel.cid,\n            );\n            const channelIds = prevState.channelIds.filter(\n              (cid) => cid !== e.channel.cid,\n            );\n            return {\n              channels,\n              channelIds,\n            };\n          });\n        }\n      }\n\n      // Channel data is updated\n      if (e.type === 'channel.updated') {\n        const channels = this.state.channels;\n        const channelIndex = channels.findIndex(\n          (channel) => channel.cid === e.channel.cid,\n        );\n        channels[channelIndex].data = Immutable(e.channel);\n        this.setState({\n          channels: [...channels],\n        });\n\n        if (\n          this.props.onChannelUpdated &&\n          typeof this.props.onChannelUpdated === 'function'\n        )\n          this.props.onChannelUpdated(this, e);\n      }\n\n      // Channel is deleted\n      if (e.type === 'channel.deleted') {\n        if (\n          this.props.onChannelDeleted &&\n          typeof this.props.onChannelDeleted === 'function'\n        ) {\n          this.props.onChannelDeleted(this, e);\n        } else {\n          const channels = this.state.channels;\n          const channelIndex = channels.findIndex(\n            (channel) => channel.cid === e.channel.cid,\n          );\n          // Remove the deleted channel from the list.\n          channels.splice(channelIndex, 1);\n          this.setState({\n            channels: [...channels],\n          });\n        }\n      }\n\n      if (e.type === 'channel.truncated') {\n        this.setState((prevState) => ({\n          channels: [...prevState.channels],\n        }));\n\n        if (\n          this.props.onChannelTruncated &&\n          typeof this.props.onChannelTruncated === 'function'\n        )\n          this.props.onChannelTruncated(this, e);\n      }\n\n      return null;\n    };\n\n    getChannel = async (type, id) => {\n      const channel = this.props.client.channel(type, id);\n      await channel.watch();\n      return channel;\n    };\n\n    moveChannelUp = (cid) => {\n      if (this._unmounted) return;\n      const channels = this.state.channels;\n\n      // get channel index\n      const channelIndex = this.state.channels.findIndex(\n        (channel) => channel.cid === cid,\n      );\n      if (channelIndex <= 0) return;\n\n      // get channel from channels\n      const channel = channels[channelIndex];\n\n      //remove channel from current position\n      channels.splice(channelIndex, 1);\n      //add channel at the start\n      channels.unshift(channel);\n\n      // set new channel state\n      if (this._unmounted) return;\n      this.setState({\n        channels: [...channels],\n      });\n    };\n\n    loadNextPage = () => {\n      this._queryChannelsDebounced();\n    };\n\n    render() {\n      const context = {\n        loadNextPage: this.loadNextPage,\n      };\n      const List = this.props.List;\n      const props = { ...this.props, setActiveChannel: this.props.onSelect };\n\n      return (\n        <React.Fragment>\n          <List {...props} {...this.state} {...context} />\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { ChannelList };\n","import React from 'react';\n\nimport { withChannelContext } from '../context';\nimport { MessageList } from './MessageList';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport { Message } from './Message';\n\nconst NewThread = styled.View`\n  padding: 8px;\n  background-color: #f4f9ff;\n  margin: 10px;\n  border-radius: 4;\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.thread.newThread.css};\n`;\n\nconst NewThreadText = styled.Text`\n  ${({ theme }) => theme.thread.newThread.text.css};\n`;\n\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the standard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n *\n * Thread is a consumer of [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n * Underlying MessageList, MessageInput and Message components can be customized using props:\n * - additionalParentMessageProps\n * - additionalMessageListProps\n * - additionalMessageInputProps\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\nconst Thread = withChannelContext(\n  themed(\n    class Thread extends React.PureComponent {\n      static themePath = 'thread';\n      static propTypes = {\n        /** Make input focus on mounting thread */\n        autoFocus: PropTypes.bool,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * */\n        channel: PropTypes.object.isRequired,\n        /**\n         *  **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * */\n        Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * The thread (the parent [message object](https://getstream.io/chat/docs/#message_format)) */\n        thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * The array of immutable messages to render. By default they are provided by parent Channel component */\n        threadMessages: PropTypes.array.isRequired,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         *\n         * Function which provides next page of thread messages.\n         * loadMoreThread is called when infinite scroll wants to load more messages\n         * */\n        loadMoreThread: PropTypes.func.isRequired,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * If there are more messages available, set to false when the end of pagination is reached.\n         * */\n        threadHasMore: PropTypes.bool,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * If the thread is currently loading more messages. This is helpful to display a loading indicator on threadlist */\n        threadLoadingMore: PropTypes.bool,\n        /**\n         * Additional props for underlying Message component of parent message at the top.\n         * Available props - https://getstream.github.io/stream-chat-react-native/#message\n         * */\n        additionalParentMessageProps: PropTypes.object,\n        /**\n         * Additional props for underlying MessageList component.\n         * Available props - https://getstream.github.io/stream-chat-react-native/#messagelist\n         * */\n        additionalMessageListProps: PropTypes.object,\n        /**\n         * Additional props for underlying MessageInput component.\n         * Available props - https://getstream.github.io/stream-chat-react-native/#messageinput\n         * */\n        additionalMessageInputProps: PropTypes.object,\n      };\n\n      static defaultProps = {\n        threadHasMore: true,\n        threadLoadingMore: true,\n        autoFocus: true,\n      };\n\n      render() {\n        if (!this.props.thread) {\n          return null;\n        }\n\n        const parentID = this.props.thread.id;\n        const cid = this.props.channel.cid;\n\n        const key = `thread-${parentID}-${cid}`;\n        // We use a wrapper to make sure the key variable is set.\n        // this ensures that if you switch thread the component is recreated\n        return <ThreadInner {...this.props} key={key} />;\n      }\n    },\n  ),\n);\n\nclass ThreadInner extends React.PureComponent {\n  static propTypes = {\n    /** Channel is passed via the Channel Context */\n    channel: PropTypes.object.isRequired,\n    /** the thread (just a message) that we're rendering */\n    thread: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.messageList = React.createRef();\n  }\n\n  async componentDidMount() {\n    const parentID = this.props.thread.id;\n    if (parentID && this.props.thread.reply_count) {\n      await this.props.loadMoreThread();\n    }\n  }\n\n  render() {\n    if (!this.props.thread) {\n      return null;\n    }\n\n    const read = {};\n    const headerComponent = (\n      <React.Fragment>\n        <Message\n          message={this.props.thread}\n          initialMessage\n          threadList\n          readOnly\n          groupStyles={['single']}\n          Message={this.props.Message}\n          // TODO: remove the following line in next release, since we already have additionalParentMessageProps now.\n          {...this.props}\n          {...this.props.additionalParentMessageProps}\n        />\n        <NewThread>\n          <NewThreadText>Start of a new thread</NewThreadText>\n        </NewThread>\n      </React.Fragment>\n    );\n\n    return (\n      <React.Fragment>\n        <MessageList\n          messages={this.props.threadMessages}\n          HeaderComponent={headerComponent}\n          read={read}\n          threadList\n          loadMore={this.props.loadMoreThread}\n          hasMore={this.props.threadHasMore}\n          loadingMore={this.props.threadLoadingMore}\n          Message={this.props.Message}\n          {...this.props.additionalMessageListProps}\n        />\n        <MessageInput\n          parent={this.props.thread}\n          focus={this.props.autoFocus}\n          {...this.props.additionalMessageInputProps}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport { Thread };\n","import * as React from 'react';\n\nimport styled from '@stream-io/styled-components';\n\nconst Container = styled.View``;\n\nconst Icon = styled.View`\n  padding-top: 5;\n  align-self: center;\n  border-radius: 20;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.iconBadge.icon.css}\n`;\n\nconst IconInner = styled.View`\n  background-color: green;\n  justify-content: center;\n  align-items: center;\n  align-self: flex-start;\n  min-width: 15;\n  height: 15;\n  padding-left: 3;\n  padding-right: 3;\n  border-radius: 20;\n  ${({ theme }) => theme.iconBadge.iconInner.css}\n`;\n\nconst UnreadCount = styled.Text`\n  font-size: 10;\n  color: #ffffff;\n  ${({ theme }) => theme.iconBadge.unreadCount.css}\n`;\n\nexport class IconBadge extends React.Component {\n  render() {\n    const { children, showNumber, unread } = this.props;\n\n    return (\n      <Container>\n        {children}\n        {unread > 0 && (\n          <Icon>\n            <IconInner>\n              {showNumber && <UnreadCount>{unread}</UnreadCount>}\n            </IconInner>\n          </Icon>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TouchableOpacity, Dimensions } from 'react-native';\n\nimport { ReactionPicker } from './ReactionPicker';\n\nexport class ReactionPickerWrapper extends React.PureComponent {\n  static propTypes = {\n    isMyMessage: PropTypes.func,\n    message: PropTypes.object,\n    offset: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    handleReaction: PropTypes.func,\n    emojiData: PropTypes.array,\n    style: PropTypes.any,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { reactionPickerVisible: false };\n  }\n  _setReactionPickerPosition = () => {\n    const { isMyMessage, message, offset } = this.props;\n    const pos = isMyMessage(message) ? 'right' : 'left';\n    this.messageContainer.measureInWindow((x, y, width) => {\n      this.setState({\n        reactionPickerVisible: true,\n        rpTop: y - 60 + offset.top,\n        rpLeft: pos === 'left' ? x - 10 + offset.left : null,\n        rpRight:\n          pos === 'right'\n            ? Math.round(Dimensions.get('window').width) - (x + width + 10)\n            : null,\n      });\n    });\n  };\n\n  openReactionSelector = () => {\n    // Keyboard closes automatically whenever modal is opened (currently there is no way of avoiding this afaik)\n    // So we need to postpone the calculation for reaction picker position\n    // until after keyboard is closed completely. To achieve this, we close\n    // the keyboard forcefully and then calculate position of picker in callback.\n    this._setReactionPickerPosition();\n  };\n\n  render() {\n    const { handleReaction, message, emojiData, style } = this.props;\n    return (\n      <TouchableOpacity\n        onPress={this.openReactionSelector}\n        ref={(o) => (this.messageContainer = o)}\n      >\n        {this.props.children}\n        <ReactionPicker\n          reactionPickerVisible={this.state.reactionPickerVisible}\n          handleReaction={handleReaction}\n          hideReactionOwners={true}\n          latestReactions={message.latest_reactions}\n          reactionCounts={message.reaction_counts}\n          handleDismiss={() => {\n            this.setState({ reactionPickerVisible: false });\n          }}\n          style={style}\n          emojiData={emojiData}\n          rpLeft={this.state.rpLeft}\n          rpRight={this.state.rpRight}\n          rpTop={this.state.rpTop}\n        />\n      </TouchableOpacity>\n    );\n  }\n}\n"],"names":["InputBox","styled","TextInput","theme","messageInput","inputBox","css","AutoCompleteInput","props","isTrackingStarted","triggerSettings","state","currentTrigger","component","title","openSuggestions","closeSuggestions","text","fromUpdate","onChange","handleSuggestions","nativeEvent","selection","start","end","setState","selectionStart","selectionEnd","item","triggers","newToken","output","computeCaretPosition","token","startToken","length","textToModify","slice","startOfTokenPosition","search","RegExp","allowWhitespace","newTokenString","newCaretPosition","modifiedText","substring","stopTracking","replace","syncCaretPosition","callback","position","tokenRegExp","Object","keys","join","setTimeout","minChar","tokenMatch","exec","lastToken","find","a","index","afterWhitespace","match","actualToken","startTracking","updateSuggestions","value","previousChar","_createRegExp","prevProps","handleChange","q","data","dataProvider","onSelect","onSelectSuggestion","React","setInputBoxRef","handleSelectionChange","additionalTextInputProps","PureComponent","PropTypes","string","func","object","Colors","primary","secondary","danger","light","textLight","textDark","textGrey","transparent","defaultTheme","colors","avatar","container","image","fallback","channelPreview","details","detailsTop","date","message","color","unreadColor","fontWeight","unreadFontWeight","closeButton","iconBadge","icon","iconInner","unreadCount","content","borderRadiusL","borderRadiusS","containerInner","metaContainer","metaText","errorContainer","backgroundColor","deletedContainer","deletedText","textContainer","leftBorderWidth","leftBorderColor","rightBorderWidth","rightBorderColor","markdown","status","spacer","deliveredContainer","deliveredCircle","checkMark","sendingContainer","sendingImage","readByContainer","readByCount","avatarWrapper","replies","messageRepliesText","file","size","actions","button","primaryBackgroundColor","defaultBackgroundColor","primaryBorderColor","defaultBorderColor","buttonText","primaryColor","defaultColor","card","cover","footer","gallery","width","halfSize","doubleSize","single","imageContainer","galleryContainer","header","reactionList","reactionCount","reactionPicker","containerView","column","emoji","actionSheet","titleContainer","titleText","buttonContainer","cancelButtonContainer","cancelButtonText","loadingIndicator","loadingText","conditionalPadding","inputBoxContainer","attachButton","attachButtonIcon","sendButton","sendButtonIcon","imageUploadPreview","itemContainer","dismiss","dismissImage","upload","uploadProgressIndicator","overlay","suggestions","wrapper","maxHeight","itemHeight","separator","mention","name","command","top","messageList","listContainer","messageNotification","errorNotification","errorNotificationText","dateSeparator","line","dateText","messageSystem","eventIndicator","memberUpdateContainer","memberUpdateTextContainer","memberUpdateText","typingIndicatorContainer","spinner","thread","newThread","typingIndicator","fontSize","themed","OriginalComponent","themePath","Error","ThemedComponent","style","ThemeConsumer","themeProviderTheme","modifiedTheme","themeDiff","path","replaceCssShorthand","v","isPlainObject","m","mapValues","k","push","pop","lodashGet","merge","lodashSet","ThemeProvider","extraThemePaths","displayName","getDisplayName","WrappedComponent","ChatContext","createContext","client","withChatContext","ContextAwareComponent","getContextAwareComponent","ChannelContext","withChannelContext","SuggestionsContext","withSuggestionsContext","MessageContentContext","withMessageContentContext","KeyboardContext","withKeyboardContext","context","originalComponent","Context","c","BASE_AVATAR_FALLBACK_TEXT_SIZE","BASE_AVATAR_SIZE","AvatarContainer","View","AvatarImage","Image","AvatarFallback","AvatarText","Text","Avatar","imageError","split","map","charAt","initials","getInitials","uri","setError","number","Container","Name","MentionsItem","id","Component","propTypes","Top","Title","CommandsItem","args","description","renderText","styles","mentioned_users","trim","urls","anchorme","list","urlInfo","displayLink","truncate","encoded","omission","mkdown","protocol","raw","newText","i","username","re","markdownStyles","defaultMarkdownStyles","link","textDecorationLine","url","emojiData","capitalize","s","toUpperCase","FileState","freeze","NO_FILE","UPLOADING","UPLOADED","UPLOAD_FAILED","ProgressIndicatorTypes","IN_PROGRESS","RETRY","ACITriggerSettings","users","onMentionSelectItem","commands","matchingUsers","filter","user","undefined","toLowerCase","indexOf","entity","key","caretPosition","selectedCommands","sort","b","nameA","nameB","MESSAGE_ACTIONS","edit","reactions","reply","makeImageCompatibleUrl","newUrl","TouchableOpacity","alignment","Footer","Cover","Card","trimmedUrl","Linking","canOpenURL","then","supported","openURL","console","log","image_url","thumb_url","title_link","og_scrape_url","type","onLongPress","_goToURL","display","flexDirection","trimUrl","giphyLogo","Line","DateText","Date","DateSeparator","formatDate","Moment","format","isRequired","EmptyStateIndicator","listType","Indicator","MemberUpdateContainer","MemberUpdateTextContainer","MemberUpdateText","EventIndicator","event","received_at","img","wordMimeTypes","excelMimeTypes","powerpointMimeTypes","archiveFileTypes","codeFileTypes","mimeTypeToIconMap","iconPDF","iconDOC","iconXLS","iconPPT","iconTAR","mimeTypeToIcon","mimeType","FileIcon","React.createElement","height","Button","buttonStyle","rest","ButtonText","AttachmentActions","actionHandler","action","bind","array","CloseButton","closeRound","Single","GalleryContainer","ImageContainer","Gallery","viewerModalOpen","viewerModalImageIndex","images","Modal","SafeAreaView","flex","alignItems","justifyContent","arrayOf","shape","HeaderContainer","HeaderButton","GalleryHeader","handleDismiss","FileContainer","groupStyle","FileDetails","FileTitle","FileSize","Attachment","attachment","AttachmentFileIcon","asset_url","mime_type","file_size","oneOf","oneOfType","node","elementType","FileAttachmentGroup","messageId","files","handleAction","Overlay","UploadProgressIndicator","active","children","left","right","bottom","ActivityIndicator","iconReload","bool","FILE_PREVIEW_HEIGHT","FILE_PREVIEW_PADDING","FileUploadPreview","retryUpload","padding","marginBottom","borderColor","borderWidth","paddingLeft","concat","removeFile","fileUploads","marginRight","marginLeft","FlatList","_renderItem","IconSquare","onPress","borderRadius","ItemContainer","Dismiss","Upload","DismissImage","ImageUploadPreview","removeImage","imageUploads","KeyboardCompatibleView","enabled","Platform","OS","keyboardDidShowListener","Keyboard","addListener","keyboardDidShow","keyboardDidHideListener","keyboardDidHide","e","keyboardHidingInProgressBeforeMeasure","_hidingKeyboardInProgress","keyboardHeight","endCoordinates","rootChannelView","measureInWindow","x","y","Dimensions","get","windowHeight","finalHeight","StatusBar","currentHeight","Animated","timing","channelHeight","toValue","duration","keyboardOpenAnimationDuration","setValue","_keyboardOpen","initialHeight","keyboardDismissAnimationDuration","Promise","resolve","response","finished","o","layout","keyboardWillDismiss","dismissKeyboard","Value","setupListeners","remove","onLayout","getContext","setRootChannelView","LoadingErrorIndicator","Loader","AnimatedView","createAnimatedComponent","Circle","Spinner","rotateValue","loop","easing","Easing","linear","useNativeDriver","_start","transform","rotate","interpolate","inputRange","outputRange","LoadingText","LoadingIndicator","Spacer","MessageAvatar","isMyMessage","groupStyles","pos","showAvatar","TouchableWrapper","visible","ReactionCount","reactionCounts","ImageWrapper","LeftTail","LeftCenter","LeftEnd","RightTail","RightCenter","RightEnd","Reactions","ReactionList","reactionsByType","emojiDataByType","forEach","reactionTypes","latestReactions","openReactionSelector","getTotalReactionCount","_renderReactions","leftTail","leftCenter","leftEnd","rightEnd","rightCenter","rightTail","leftAlign","ContainerView","Column","Emoji","ReactionPicker","filtered","getUsersPerReaction","hideReactionOwners","reactionPickerVisible","handleReaction","rpLeft","rpTop","rpRight","marginTop","Boolean","latestUser","getLatestUser","count","TextContainer","MessageTextContainer","withTheme","MessageText","hasAttachment","attachments","MessageRepliesText","MessageRepliesImage","MessageReplies","isThreadList","openThread","reply_count","iconPath","error","ContainerInner","MetaContainer","MetaText","DeletedContainer","DeletedText","FailedText","ActionSheetTitleContainer","ActionSheetTitleText","ActionSheetButtonContainer","ActionSheetButtonText","ActionSheetCancelButtonContainer","ActionSheetCancelButtonText","MessageContent","onThreadSelect","ActionSheet","show","handleDelete","handleEdit","messageContainer","Math","round","readOnly","_setReactionPickerPosition","Message","threadList","retrySendMessage","messageActions","reactionsEnabled","repliesEnabled","canEditMessage","canDeleteMessage","MessageFooter","showTime","hasReactions","latest_reactions","options","splice","deleted_at","contentProps","onMessageTouch","showActionSheet","activeOpacity","disabled","Immutable","reaction_counts","created_at","moment","onActionPress","actionSheetStyles","StatusContainer","DeliveredContainer","DeliveredCircle","CheckMark","SendingContainer","SendingImage","ReadByContainer","MessageStatus","readBy","lastReceivedId","renderStatus","justReadByMe","loadingGif","lastReadUser","iconDeliveredUnseen","MessageSystem","hasMarginBottom","isVeryLastMessage","MessageSimple","forceAlign","showMessageStatus","lastMessage","channel","messages","handleRetry","DefaultMessageAvatar","DefaultMessageContent","DefaultMessageStatus","DefaultMessageSystem","role","isAdmin","preventDefault","flagMessage","setEditingState","deleteMessage","updateMessage","reactionType","userExistingReaction","currentUser","userID","own_reactions","reaction","warn","originalMessage","removeReaction","reactionChangePromise","deleteReaction","messageID","tmpReaction","message_id","addReaction","sendReaction","formData","sendAction","removeMessage","dismissKeyboardOnMessageTouch","loading","nextProps","shouldUpdate","deepequal","editing","actionsEnabled","actionProps","getConfig","handleFlag","handleMute","MessageNotificationText","MessageNotification","notificationOpacity","showNotification","opacity","Wrapper","min","Separator","SuggestionsItem","SuggestionsProvider","all","getInputBoxPosition","getChatBoxPosition","inputBoxPosition","chatBoxPosition","suggestionsBottomMargin","suggestionsLeftMargin","suggestionsWidth","suggestionsViewActive","suggestionsBackdropHeight","suggestionsTitle","messageInputBox","nodeHandleRoot","findNodeHandle","rootView","measureLayout","setInputBoxContainerRef","setRootView","SuggestionsView","backdropHeight","SuggestionsSeparator","renderItem","SuggestionsHeader","fail","NetInfo","fetch","addEventListener","pickImage","pickDocument","registerNativeHandlers","handlers","Chat","isConnected","wsConnection","onlineStatusChanged","notifyChatClient","unsubscribeNetInfo","logger","tags","_unmounted","setActiveChannel","isOnline","connectionRecovering","setConnectionListener","on","online","off","handleEvent","ChannelInner","read_events","logChatPromiseExecution","markRead","threadMessages","threads","threadLoadingMore","parentID","oldMessages","oldestMessageID","limit","getReplies","id_lt","queryResponse","hasMore","_loadMoreThreadFinishedDebounced","threadHasMore","updatedMessage","extraState","addMessageSorted","parent_id","parent","extraFields","clientSideID","uuidv4","html","__html","doUpdateMessageRequest","cid","messageData","doSendMessageRequest","messageResponse","sendMessage","filterErrorMessages","messagePreview","createMessagePreview","userAutocomplete","_sendMessage","asMutable","threadState","messageToImmutable","addToEventHistory","_setStateThrottled","watchers","read","typing","watcher_count","prevState","lastMessageId","eventHistory","loadingMore","oldestMessage","oldestID","perPage","query","_loadMoreFinishedDebounced","editMessage","clearEditingState","_markReadThrottled","loadMore","_loadMoreThrottled","closeThread","loadMoreThread","members","kavEnabled","debounce","loadMoreFinished","leading","trailing","throttle","loadMoreThreadFinished","errored","initialized","watch","lastRead","copyChannelState","listenToChanges","cancel","countUnread","selectRegularMessages","core","renderLoadingError","renderLoading","disableKeyboardCompatibleView","trueOrFalse","renderComponent","Channel","TypingText","TypingIndicator","dict","arr2","arr3","outStr","values","idx","constructTypingString","ListContainer","ErrorNotificationText","ErrorNotification","TypingIndicatorContainer","MessageList","newMessages","none","entries","messageDate","getDay","prevMessageDate","eventsNextToMessage","l","messageGroupStyles","previousMessage","nextMessage","userId","isTopMessage","isBottomMessage","noGroupByUser","newMessagesNotification","flatList","scrollToIndex","readData","readState","last_read","userLastReadMsgId","msg","updated_at","yOffset","contentOffset","removeNewMessageNotification","currentLastMessage","previousLastMessage","hasNewMessage","userScrolledUp","isOwner","scrollToBottom","getLastReceived","hasEventHistory","renderEmptyState","HeaderComponent","headerComponent","messagesWithDates","insertDates","getGroupStyles","getReadStates","reverse","showTypingIndicator","disableWhileEditing","zIndex","fl","handleScroll","toISOString","minIndexForVisible","autoscrollToTopThreshold","additionalFlatListProps","goToNewMessages","loadMoreThreshold","messageGrouping","SendButtonIcon","SendButton","iconEdit","iconSendNewMessage","AttachButtonIcon","AttachButton","handleOnPress","iconAddAttachment","generateRandomId","S4","random","toString","InputBoxContainer","MessageInput","imageOrder","fileOrder","attach","numberOfUploads","member","userMap","usersArray","mu","updateMessagePromise","uniq","err","maxNumberOfFiles","result","cancelled","lookup","startsWith","uploadNewImage","uploadNewFile","setIn","_uploadFile","doc","doDocUploadRequest","sendFile","_uploadImage","set","_id","filename","contentType","doImageUploadRequest","sendImage","keystroke","config","allCommands","attachActionSheet","hide","getMessageDetailsForState","focus","hasImagePicker","hasFilePicker","editingBoxStyles","paddingRight","shadowColor","shadowOpacity","shadowOffset","iconClose","_removeFile","_removeImage","_pickImage","_pickFile","closeAttachActionSheet","iconGallery","iconFolder","getCommands","getUsers","onSelectItem","AttachmentActionSheetItem","Details","DetailsTop","unread","ChannelPreviewMessenger","createRef","otherMembers","isValidName","formatLatestMessageDate","onSelectChannel","renderAvatar","latestMessage","messageObject","latestMessageLength","ChannelPreview","isSame","handleNewMessageEvent","handleReadEvent","Preview","getLatestMessage","ChannelListMessenger","channels","loadNextPage","loadingChannels","renderChannels","objectOf","isPromise","thing","promise","DEFAULT_QUERY_CHANNELS_LIMIT","ChannelList","resync","queryActive","hasNextPage","filters","offset","refreshing","channelPromise","queryChannels","channelQueryResponse","channelIds","newChannels","lockChannelOrder","moveChannelUp","onMessageNew","getChannel","uniqBy","uniqWith","isEqual","onAddedToChannel","onRemovedFromChannel","channelIndex","findIndex","onChannelUpdated","onChannelDeleted","onChannelTruncated","unshift","_queryChannelsDebounced","menuButton","info","List","NewThread","NewThreadText","Thread","autoFocus","additionalParentMessageProps","additionalMessageListProps","additionalMessageInputProps","ThreadInner","Icon","IconInner","UnreadCount","IconBadge","showNumber","ReactionPickerWrapper","any"],"mappings":"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"}